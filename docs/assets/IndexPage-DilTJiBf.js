import{w as jr,x as dp,y as pp,R as Ll,z as gp,A as mp,B as yp,C as Nl,D as Ol,E as Il,F as zs,G as on,H as Rl,I as Pl,J as Tn,K as qs,L as Ui,M as Ha,N as ki,O as Ko,P as _p,S as Ai,U as de,V as Fl,W as Bl,X as Ws,Y as wp,Z as Ei,$ as Li,a0 as zl,a1 as Ot,a2 as ql,a3 as bp,a4 as Hs,b as Ya,d as Va,u as Sp,a5 as vp,a6 as xp,a7 as Ys,a8 as $p,c as Tp,a9 as Mp,aa as Dp,e as Cp,ab as Up,ac as kp,ad as Ap,f as Ep,ae as Lp,af as Vs,ag as Np,ah as Op,ai as Ip,aj as Gs,ak as Rp,al as Pp,am as Ni,an as Wl,ao as Hl,ap as Yl,aq as Vl,ar as Xr,as as Gl,at as Qr,au as jl,av as Xl,aw as Ql,ax as Kl,ay as Zl,az as Ga,aA as Jl,aB as tc,aC as nc,aD as ec,aE as rc,aF as ic,aG as oc,aH as ac,aI as sc,aJ as uc,aK as lc,aL as cc,aM as fc,aN as hc,aO as dc,aP as pc,aQ as gc,aR as mc,aS as yc,aT as _c,aU as wc,aV as Fp,aW as Bp,aX as zp,aY as qp,aZ as js,a_ as Wp,a$ as Xs,b0 as Hp,b1 as Yp,b2 as Vp,b3 as Gp,b4 as jp,b5 as Xp,b6 as Qp,b7 as Kp,b8 as Zp,b9 as Jp,ba as tg,bb as ng,bc as eg,bd as rg,be as ig,bf as og,bg as ag,bh as sg,bi as fr,bj as ja,bk as Xa,bl as vt,bm as bc,bn as Kr,bo as Zo,_ as Oi,j as ho,k as qn,t as Qs,p as It,q as Zr,r as Ii,s as Jr,bp as ug,v as lg}from"./QKnob-C2dMVYMv.js";import{c as hr,g as Ri,i as Ks,e as le,l as cg,b as fg,a as Vt,h as _e,R as hg,f as Sc,r as st,w as Zs,S as dg,T as pg,o as gg,s as mg,U as yg,A as Pi,F as yn,C as gt,E as Y,I as z,D as E,K as bt,J as Et,B as Ht,O as _g,G as Jt,M as Jo,N as Js,L as ta}from"./index-C_X2nKSz.js";import{h as Fi,i as wg,g as lt,Q as Wn}from"./QBtn-CfKVK4Dw.js";import{a as bg}from"./index-ngrFHoWO.js";function Sg(t){return t.length|0}function vg(t){return!(t>0)}function xg(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function $g(t){return n=>t(...n)}function Tg(...t){const n=typeof t[t.length-1]=="function"&&$g(t.pop());t=t.map(xg);const e=t.map(Sg),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(vg))return o;for(;;){o.push(i.map((s,u)=>t[u][s]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function vc(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let s of t)(s=n(s,++a,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++e,o+=r*(s-i))}if(e>1)return o/(e-1)}function Mg(t,n){const e=vc(t,n);return e&&Math.sqrt(e)}function An(t,n){let e,r;for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));return[e,r]}class Qn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,s=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);s&&(e[r++]=s),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class er extends Map{constructor(n,e=Tc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(na(this,n))}has(n){return super.has(na(this,n))}set(n,e){return super.set(xc(this,n),e)}delete(n){return super.delete($c(this,n))}}class Bi extends Set{constructor(n,e=Tc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(na(this,n))}add(n){return super.add(xc(this,n))}delete(n){return super.delete($c(this,n))}}function na({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function xc({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function $c({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Tc(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ea(t){return t}function Dg(t,...n){return Qa(t,ea,ea,n)}function po(t,n,...e){return Qa(t,ea,n,e)}function Cg(t,n,...e){return Qa(t,Array.from,n,e)}function Qa(t,n,e,r){return(function i(o,a){if(a>=r.length)return e(o);const s=new er,u=r[a++];let c=-1;for(const l of o){const h=u(l,++c,o),f=s.get(h);f?f.push(l):s.set(h,[l])}for(const[l,h]of s)s.set(l,i(h,a));return n(s)})(t,0)}function Ug(t,n){return Array.from(n,e=>t[e])}function kg(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const s=ti(a[i],a[o]);if(s)return s}})):(e=t.map(e),r.sort((i,o)=>ti(e[i],e[o]))),Ug(t,r)}return t.sort(Mc(e))}function Mc(t=jr){if(t===jr)return ti;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function ti(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function un(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Ag(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function rr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Eg(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Dc(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?ti:Mc(i);r>e;){if(r-e>600){const u=r-e+1,c=n-e+1,l=Math.log(u),h=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*h*(u-h)/u)*(c-u/2<0?-1:1),d=Math.max(e,Math.floor(n-c*h/u+f)),p=Math.min(r,Math.floor(n+(u-c)*h/u+f));Dc(t,n,d,p,i)}const o=t[n];let a=e,s=r;for(Re(t,e,n),i(t[r],o)>0&&Re(t,e,r);a<s;){for(Re(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[e],o)===0?Re(t,e,s):(++s,Re(t,s,r)),s<=n&&(e=s+1),n<=s&&(r=s-1)}return t}function Re(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function ni(t,n,e){if(t=Float64Array.from(pp(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return rr(t);if(n>=1)return un(t);var r,i=(r-1)*n,o=Math.floor(i),a=un(Dc(t,o).subarray(0,o+1)),s=rr(t.subarray(o+1));return a+(s-a)*(i-o)}}function Lg(t,n,e=dp){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),s=+e(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Ng(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function ra(t,n){return ni(t,.5,n)}function*Og(t){for(const n of t)yield*n}function Cc(t){return Array.from(Og(t))}function Ig(t,n){const e=new er;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function Rg(t,n=Pg){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function Pg(t,n){return[t,n]}function ia(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Ka(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function ei(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Fg(t){return t}var go=1,mo=2,oa=3,We=4,tu=1e-6;function Bg(t){return"translate("+t+",0)"}function zg(t){return"translate(0,"+t+")"}function qg(t){return n=>+t(n)}function Wg(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Hg(){return!this.__axis}function Uc(t,n){var e=[],r=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===go||t===We?-1:1,l=t===We||t===mo?"x":"y",h=t===go||t===oa?Bg:zg;function f(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):Fg),y=Math.max(o,0)+s,w=n.range(),m=+w[0]+u,v=+w[w.length-1]+u,_=(n.bandwidth?Wg:qg)(n.copy(),u),x=d.selection?d.selection():d,b=x.selectAll(".domain").data([null]),S=x.selectAll(".tick").data(p,n).order(),T=S.exit(),M=S.enter().append("g").attr("class","tick"),k=S.select("line"),D=S.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),D=D.merge(M.append("text").attr("fill","currentColor").attr(l,c*y).attr("dy",t===go?"0em":t===oa?"0.71em":"0.32em")),d!==x&&(b=b.transition(d),S=S.transition(d),k=k.transition(d),D=D.transition(d),T=T.transition(d).attr("opacity",tu).attr("transform",function(O){return isFinite(O=_(O))?h(O+u):this.getAttribute("transform")}),M.attr("opacity",tu).attr("transform",function(O){var W=this.parentNode.__axis;return h((W&&isFinite(W=W(O))?W:_(O))+u)})),T.remove(),b.attr("d",t===We||t===mo?a?"M"+c*a+","+m+"H"+u+"V"+v+"H"+c*a:"M"+u+","+m+"V"+v:a?"M"+m+","+c*a+"V"+u+"H"+v+"V"+c*a:"M"+m+","+u+"H"+v),S.attr("opacity",1).attr("transform",function(O){return h(_(O)+u)}),k.attr(l+"2",c*o),D.attr(l,c*y).text(g),x.filter(Hg).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===mo?"start":t===We?"end":"middle"),x.each(function(){this.__axis=_})}return f.scale=function(d){return arguments.length?(n=d,f):n},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),f):e.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(o=a=+d,f):o},f.tickSizeInner=function(d){return arguments.length?(o=+d,f):o},f.tickSizeOuter=function(d){return arguments.length?(a=+d,f):a},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(u=+d,f):u},f}function Yg(t){return Uc(oa,t)}function Vg(t){return Uc(We,t)}function Gg(t){let n;for(;n=t.sourceEvent;)t=n;return t}function jg(t,n){if(t=Gg(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const ri=18,kc=.96422,Ac=1,Ec=.82521,Lc=4/29,me=6/29,Nc=3*me*me,Xg=me*me*me;function Oc(t){if(t instanceof sn)return new sn(t.l,t.a,t.b,t.opacity);if(t instanceof _n)return Ic(t);t instanceof Ll||(t=gp(t));var n=bo(t.r),e=bo(t.g),r=bo(t.b),i=yo((.2225045*n+.7168786*e+.0606169*r)/Ac),o,a;return n===e&&e===r?o=a=i:(o=yo((.4360747*n+.3850649*e+.1430804*r)/kc),a=yo((.0139322*n+.0971045*e+.7141733*r)/Ec)),new sn(116*i-16,500*(o-i),200*(i-a),t.opacity)}function aa(t,n,e,r){return arguments.length===1?Oc(t):new sn(t,n,e,r??1)}function sn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Nl(sn,aa,Ol(Il,{brighter(t){return new sn(this.l+ri*(t??1),this.a,this.b,this.opacity)},darker(t){return new sn(this.l-ri*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=kc*_o(n),t=Ac*_o(t),e=Ec*_o(e),new Ll(wo(3.1338561*n-1.6168667*t-.4906146*e),wo(-.9787684*n+1.9161415*t+.033454*e),wo(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function yo(t){return t>Xg?Math.pow(t,1/3):t/Nc+Lc}function _o(t){return t>me?t*t*t:Nc*(t-Lc)}function wo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function bo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Qg(t){if(t instanceof _n)return new _n(t.h,t.c,t.l,t.opacity);if(t instanceof sn||(t=Oc(t)),t.a===0&&t.b===0)return new _n(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*yp;return new _n(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function sa(t,n,e,r){return arguments.length===1?Qg(t):new _n(t,n,e,r??1)}function _n(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Ic(t){if(isNaN(t.h))return new sn(t.l,0,0,t.opacity);var n=t.h*mp;return new sn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Nl(_n,sa,Ol(Il,{brighter(t){return new _n(this.h,this.c,this.l+ri*(t??1),this.opacity)},darker(t){return new _n(this.h,this.c,this.l-ri*(t??1),this.opacity)},rgb(){return Ic(this).rgb()}}));function Kg(t){return function(n,e){var r=t((n=zs(n)).h,(e=zs(e)).h),i=on(n.s,e.s),o=on(n.l,e.l),a=on(n.opacity,e.opacity);return function(s){return n.h=r(s),n.s=i(s),n.l=o(s),n.opacity=a(s),n+""}}}const Zg=Kg(Rl);function Jg(t,n){var e=on((t=aa(t)).l,(n=aa(n)).l),r=on(t.a,n.a),i=on(t.b,n.b),o=on(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function t0(t){return function(n,e){var r=t((n=sa(n)).h,(e=sa(e)).h),i=on(n.c,e.c),o=on(n.l,e.l),a=on(n.opacity,e.opacity);return function(s){return n.h=r(s),n.c=i(s),n.l=o(s),n.opacity=a(s),n+""}}}const n0=t0(Rl);function zi(t,n){n===void 0&&(n=t,t=Pl);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function jt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}const ua=Math.PI,la=2*ua,Hn=1e-6,e0=la-Hn;function Rc(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function r0(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Rc;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Pc{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Rc:r0(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-n,c=i-e,l=a-n,h=s-e,f=l*l+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>Hn)if(!(Math.abs(h*u-c*l)>Hn)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,p=i-s,g=u*u+c*c,y=d*d+p*p,w=Math.sqrt(g),m=Math.sqrt(f),v=o*Math.tan((ua-Math.acos((g+f-y)/(2*w*m)))/2),_=v/m,x=v/w;Math.abs(_-1)>Hn&&this._append`L${n+_*l},${e+_*h}`,this._append`A${o},${o},0,0,${+(h*d>l*p)},${this._x1=n+x*u},${this._y1=e+x*c}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),c=n+s,l=e+u,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Hn||Math.abs(this._y1-l)>Hn)&&this._append`L${c},${l}`,r&&(f<0&&(f=f%la+la),f>e0?this._append`A${r},${r},0,1,${h},${n-s},${e-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:f>Hn&&this._append`A${r},${r},0,${+(f>=ua)},${h},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Vn(t=3){return new Pc(+t)}var Q=1e-6,Fc=1e-12,tt=Math.PI,ht=tt/2,nu=tt/4,Nt=tt*2,Dt=180/tt,ft=tt/180,at=Math.abs,Ee=Math.atan,xn=Math.atan2,Z=Math.cos,Bc=Math.exp,ii=Math.log,So=Math.pow,j=Math.sin,Bt=Math.sign||function(t){return t>0?1:t<0?-1:0},kt=Math.sqrt,Za=Math.tan;function zc(t){return t>1?0:t<-1?tt:Math.acos(t)}function Wt(t){return t>1?ht:t<-1?-ht:Math.asin(t)}function zt(){}function oi(t,n){t&&ru.hasOwnProperty(t.type)&&ru[t.type](t,n)}var eu={Feature:function(t,n){oi(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)oi(e[r].geometry,n)}},ru={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){ca(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ca(e[r],n,0)},Polygon:function(t,n){iu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)iu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)oi(e[r],n)}};function ca(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function iu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)ca(t[e],n,1);n.polygonEnd()}function Yn(t,n){t&&eu.hasOwnProperty(t.type)?eu[t.type](t,n):oi(t,n)}function fa(t){return[xn(t[1],t[0]),Wt(t[2])]}function we(t){var n=t[0],e=t[1],r=Z(e);return[r*Z(n),r*j(n),j(e)]}function Ar(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ai(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function vo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Er(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ha(t){var n=kt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function da(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function pa(t,n){return at(t)>tt&&(t-=Math.round(t/Nt)*Nt),[t,n]}pa.invert=pa;function qc(t,n,e){return(t%=Nt)?n||e?da(au(t),su(n,e)):au(t):n||e?su(n,e):pa}function ou(t){return function(n,e){return n+=t,at(n)>tt&&(n-=Math.round(n/Nt)*Nt),[n,e]}}function au(t){var n=ou(t);return n.invert=ou(-t),n}function su(t,n){var e=Z(t),r=j(t),i=Z(n),o=j(n);function a(s,u){var c=Z(u),l=Z(s)*c,h=j(s)*c,f=j(u),d=f*e+l*r;return[xn(h*i-d*o,l*e-f*r),Wt(d*i+h*o)]}return a.invert=function(s,u){var c=Z(u),l=Z(s)*c,h=j(s)*c,f=j(u),d=f*i-h*o;return[xn(h*i+f*o,l*e+d*r),Wt(d*e-l*r)]},a}function i0(t){t=qc(t[0]*ft,t[1]*ft,t.length>2?t[2]*ft:0);function n(e){return e=t(e[0]*ft,e[1]*ft),e[0]*=Dt,e[1]*=Dt,e}return n.invert=function(e){return e=t.invert(e[0]*ft,e[1]*ft),e[0]*=Dt,e[1]*=Dt,e},n}function o0(t,n,e,r,i,o){if(e){var a=Z(n),s=j(n),u=r*e;i==null?(i=n+r*Nt,o=n-u/2):(i=uu(a,i),o=uu(a,o),(r>0?i<o:i>o)&&(i+=r*Nt));for(var c,l=i;r>0?l>o:l<o;l-=u)c=fa([a,-s*Z(l),-s*j(l)]),t.point(c[0],c[1])}}function uu(t,n){n=we(n),n[0]-=t,ha(n);var e=zc(-n[1]);return((-n[2]<0?-e:e)+Nt-Q)%Nt}function Wc(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:zt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Hr(t,n){return at(t[0]-n[0])<Q&&at(t[1]-n[1])<Q}function Lr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Hc(t,n,e,r,i){var o=[],a=[],s,u;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,y=p[0],w=p[g],m;if(Hr(y,w)){if(!y[2]&&!w[2]){for(i.lineStart(),s=0;s<g;++s)i.point((y=p[s])[0],y[1]);i.lineEnd();return}w[0]+=2*Q}o.push(m=new Lr(y,p,null,!0)),a.push(m.o=new Lr(y,null,m,!1)),o.push(m=new Lr(w,p,null,!1)),a.push(m.o=new Lr(w,null,m,!0))}}),!!o.length){for(a.sort(n),lu(o),lu(a),s=0,u=a.length;s<u;++s)a[s].e=e=!e;for(var c=o[0],l,h;;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,u=l.length;s<u;++s)i.point((h=l[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;s>=0;--s)i.point((h=l[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);i.lineEnd()}}}function lu(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function xo(t){return at(t[0])<=tt?t[0]:Bt(t[0])*((at(t[0])+tt)%Nt-tt)}function a0(t,n){var e=xo(n),r=n[1],i=j(r),o=[j(e),-Z(e),0],a=0,s=0,u=new Qn;i===1?r=ht+Q:i===-1&&(r=-ht-Q);for(var c=0,l=t.length;c<l;++c)if(f=(h=t[c]).length)for(var h,f,d=h[f-1],p=xo(d),g=d[1]/2+nu,y=j(g),w=Z(g),m=0;m<f;++m,p=_,y=b,w=S,d=v){var v=h[m],_=xo(v),x=v[1]/2+nu,b=j(x),S=Z(x),T=_-p,M=T>=0?1:-1,k=M*T,D=k>tt,O=y*b;if(u.add(xn(O*M*j(k),w*S+O*Z(k))),a+=D?T+M*Nt:T,D^p>=e^_>=e){var W=ai(we(d),we(v));ha(W);var I=ai(o,W);ha(I);var C=(D^T>=0?-1:1)*Wt(I[2]);(r>C||r===C&&(W[0]||W[1]))&&(s+=D^T>=0?1:-1)}}return(a<-Q||a<Q&&u<-Fc)^s&1}function Yc(t,n,e,r){return function(i){var o=n(i),a=Wc(),s=n(a),u=!1,c,l,h,f={point:d,lineStart:g,lineEnd:y,polygonStart:function(){f.point=w,f.lineStart=m,f.lineEnd=v,l=[],c=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=y,l=Cc(l);var _=a0(c,r);l.length?(u||(i.polygonStart(),u=!0),Hc(l,u0,_,e,i)):_&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(_,x){t(_,x)&&i.point(_,x)}function p(_,x){o.point(_,x)}function g(){f.point=p,o.lineStart()}function y(){f.point=d,o.lineEnd()}function w(_,x){h.push([_,x]),s.point(_,x)}function m(){s.lineStart(),h=[]}function v(){w(h[0][0],h[0][1]),s.lineEnd();var _=s.clean(),x=a.result(),b,S=x.length,T,M,k;if(h.pop(),c.push(h),h=null,!!S){if(_&1){if(M=x[0],(T=M.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),b=0;b<T;++b)i.point((k=M[b])[0],k[1]);i.lineEnd()}return}S>1&&_&2&&x.push(x.pop().concat(x.shift())),l.push(x.filter(s0))}}return f}}function s0(t){return t.length>1}function u0(t,n){return((t=t.x)[0]<0?t[1]-ht-Q:ht-t[1])-((n=n.x)[0]<0?n[1]-ht-Q:ht-n[1])}const cu=Yc(function(){return!0},l0,f0,[-tt,-ht]);function l0(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?tt:-tt,u=at(o-n);at(u-tt)<Q?(t.point(n,e=(e+a)/2>0?ht:-ht),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),t.point(o,e),i=0):r!==s&&u>=tt&&(at(n-r)<Q&&(n-=r*Q),at(o-s)<Q&&(o-=s*Q),e=c0(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),i=0),t.point(n=o,e=a),r=s},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function c0(t,n,e,r){var i,o,a=j(t-e);return at(a)>Q?Ee((j(n)*(o=Z(r))*j(e)-j(r)*(i=Z(n))*j(t))/(i*o*a)):(n+r)/2}function f0(t,n,e,r){var i;if(t==null)i=e*ht,r.point(-tt,i),r.point(0,i),r.point(tt,i),r.point(tt,0),r.point(tt,-i),r.point(0,-i),r.point(-tt,-i),r.point(-tt,0),r.point(-tt,i);else if(at(t[0]-n[0])>Q){var o=t[0]<n[0]?tt:-tt;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function h0(t){var n=Z(t),e=2*ft,r=n>0,i=at(n)>Q;function o(l,h,f,d){o0(d,t,e,f,l,h)}function a(l,h){return Z(l)*Z(h)>n}function s(l){var h,f,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(y,w){var m=[y,w],v,_=a(y,w),x=r?_?0:c(y,w):_?c(y+(y<0?tt:-tt),w):0;if(!h&&(p=d=_)&&l.lineStart(),_!==d&&(v=u(h,m),(!v||Hr(h,v)||Hr(m,v))&&(m[2]=1)),_!==d)g=0,_?(l.lineStart(),v=u(m,h),l.point(v[0],v[1])):(v=u(h,m),l.point(v[0],v[1],2),l.lineEnd()),h=v;else if(i&&h&&r^_){var b;!(x&f)&&(b=u(m,h,!0))&&(g=0,r?(l.lineStart(),l.point(b[0][0],b[0][1]),l.point(b[1][0],b[1][1]),l.lineEnd()):(l.point(b[1][0],b[1][1]),l.lineEnd(),l.lineStart(),l.point(b[0][0],b[0][1],3)))}_&&(!h||!Hr(h,m))&&l.point(m[0],m[1]),h=m,d=_,f=x},lineEnd:function(){d&&l.lineEnd(),h=null},clean:function(){return g|(p&&d)<<1}}}function u(l,h,f){var d=we(l),p=we(h),g=[1,0,0],y=ai(d,p),w=Ar(y,y),m=y[0],v=w-m*m;if(!v)return!f&&l;var _=n*w/v,x=-n*m/v,b=ai(g,y),S=Er(g,_),T=Er(y,x);vo(S,T);var M=b,k=Ar(S,M),D=Ar(M,M),O=k*k-D*(Ar(S,S)-1);if(!(O<0)){var W=kt(O),I=Er(M,(-k-W)/D);if(vo(I,S),I=fa(I),!f)return I;var C=l[0],P=h[0],K=l[1],V=h[1],A;P<C&&(A=C,C=P,P=A);var F=P-C,B=at(F-tt)<Q,q=B||F<Q;if(!B&&V<K&&(A=K,K=V,V=A),q?B?K+V>0^I[1]<(at(I[0]-C)<Q?K:V):K<=I[1]&&I[1]<=V:F>tt^(C<=I[0]&&I[0]<=P)){var R=Er(M,(-k+W)/D);return vo(R,S),[I,fa(R)]}}}function c(l,h){var f=r?t:tt-t,d=0;return l<-f?d|=1:l>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return Yc(a,s,o,r?[0,-t]:[-tt,t-tt])}function d0(t,n,e,r,i,o){var a=t[0],s=t[1],u=n[0],c=n[1],l=0,h=1,f=u-a,d=c-s,p;if(p=e-a,!(!f&&p>0)){if(p/=f,f<0){if(p<l)return;p<h&&(h=p)}else if(f>0){if(p>h)return;p>l&&(l=p)}if(p=i-a,!(!f&&p<0)){if(p/=f,f<0){if(p>h)return;p>l&&(l=p)}else if(f>0){if(p<l)return;p<h&&(h=p)}if(p=r-s,!(!d&&p>0)){if(p/=d,d<0){if(p<l)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>l&&(l=p)}if(p=o-s,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>l&&(l=p)}else if(d>0){if(p<l)return;p<h&&(h=p)}return l>0&&(t[0]=a+l*f,t[1]=s+l*d),h<1&&(n[0]=a+h*f,n[1]=s+h*d),!0}}}}}var He=1e9,Nr=-He;function Vc(t,n,e,r){function i(c,l){return t<=c&&c<=e&&n<=l&&l<=r}function o(c,l,h,f){var d=0,p=0;if(c==null||(d=a(c,h))!==(p=a(l,h))||u(c,l)<0^h>0)do f.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==p);else f.point(l[0],l[1])}function a(c,l){return at(c[0]-t)<Q?l>0?0:3:at(c[0]-e)<Q?l>0?2:1:at(c[1]-n)<Q?l>0?1:0:l>0?3:2}function s(c,l){return u(c.x,l.x)}function u(c,l){var h=a(c,1),f=a(l,1);return h!==f?h-f:h===0?l[1]-c[1]:h===1?c[0]-l[0]:h===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,h=Wc(),f,d,p,g,y,w,m,v,_,x,b,S={point:T,lineStart:O,lineEnd:W,polygonStart:k,polygonEnd:D};function T(C,P){i(C,P)&&l.point(C,P)}function M(){for(var C=0,P=0,K=d.length;P<K;++P)for(var V=d[P],A=1,F=V.length,B=V[0],q,R,J=B[0],nt=B[1];A<F;++A)q=J,R=nt,B=V[A],J=B[0],nt=B[1],R<=r?nt>r&&(J-q)*(r-R)>(nt-R)*(t-q)&&++C:nt<=r&&(J-q)*(r-R)<(nt-R)*(t-q)&&--C;return C}function k(){l=h,f=[],d=[],b=!0}function D(){var C=M(),P=b&&C,K=(f=Cc(f)).length;(P||K)&&(c.polygonStart(),P&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),K&&Hc(f,s,C,o,c),c.polygonEnd()),l=c,f=d=p=null}function O(){S.point=I,d&&d.push(p=[]),x=!0,_=!1,m=v=NaN}function W(){f&&(I(g,y),w&&_&&h.rejoin(),f.push(h.result())),S.point=T,_&&l.lineEnd()}function I(C,P){var K=i(C,P);if(d&&p.push([C,P]),x)g=C,y=P,w=K,x=!1,K&&(l.lineStart(),l.point(C,P));else if(K&&_)l.point(C,P);else{var V=[m=Math.max(Nr,Math.min(He,m)),v=Math.max(Nr,Math.min(He,v))],A=[C=Math.max(Nr,Math.min(He,C)),P=Math.max(Nr,Math.min(He,P))];d0(V,A,t,n,e,r)?(_||(l.lineStart(),l.point(V[0],V[1])),l.point(A[0],A[1]),K||l.lineEnd(),b=!1):K&&(l.lineStart(),l.point(C,P),b=!1)}m=C,v=P,_=K}return S}}const ga=t=>t;var $o=new Qn,ma=new Qn,Gc,jc,ya,_a,mn={point:zt,lineStart:zt,lineEnd:zt,polygonStart:function(){mn.lineStart=p0,mn.lineEnd=m0},polygonEnd:function(){mn.lineStart=mn.lineEnd=mn.point=zt,$o.add(at(ma)),ma=new Qn},result:function(){var t=$o/2;return $o=new Qn,t}};function p0(){mn.point=g0}function g0(t,n){mn.point=Xc,Gc=ya=t,jc=_a=n}function Xc(t,n){ma.add(_a*t-ya*n),ya=t,_a=n}function m0(){Xc(Gc,jc)}var be=1/0,si=be,ir=-be,ui=ir,li={point:y0,lineStart:zt,lineEnd:zt,polygonStart:zt,polygonEnd:zt,result:function(){var t=[[be,si],[ir,ui]];return ir=ui=-(si=be=1/0),t}};function y0(t,n){t<be&&(be=t),t>ir&&(ir=t),n<si&&(si=n),n>ui&&(ui=n)}var wa=0,ba=0,Ye=0,ci=0,fi=0,pe=0,Sa=0,va=0,Ve=0,Qc,Kc,en,rn,Ft={point:Kn,lineStart:fu,lineEnd:hu,polygonStart:function(){Ft.lineStart=b0,Ft.lineEnd=S0},polygonEnd:function(){Ft.point=Kn,Ft.lineStart=fu,Ft.lineEnd=hu},result:function(){var t=Ve?[Sa/Ve,va/Ve]:pe?[ci/pe,fi/pe]:Ye?[wa/Ye,ba/Ye]:[NaN,NaN];return wa=ba=Ye=ci=fi=pe=Sa=va=Ve=0,t}};function Kn(t,n){wa+=t,ba+=n,++Ye}function fu(){Ft.point=_0}function _0(t,n){Ft.point=w0,Kn(en=t,rn=n)}function w0(t,n){var e=t-en,r=n-rn,i=kt(e*e+r*r);ci+=i*(en+t)/2,fi+=i*(rn+n)/2,pe+=i,Kn(en=t,rn=n)}function hu(){Ft.point=Kn}function b0(){Ft.point=v0}function S0(){Zc(Qc,Kc)}function v0(t,n){Ft.point=Zc,Kn(Qc=en=t,Kc=rn=n)}function Zc(t,n){var e=t-en,r=n-rn,i=kt(e*e+r*r);ci+=i*(en+t)/2,fi+=i*(rn+n)/2,pe+=i,i=rn*t-en*n,Sa+=i*(en+t),va+=i*(rn+n),Ve+=i*3,Kn(en=t,rn=n)}function Jc(t){this._context=t}Jc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Nt);break}}},result:zt};var xa=new Qn,To,tf,nf,Ge,je,or={point:zt,lineStart:function(){or.point=x0},lineEnd:function(){To&&ef(tf,nf),or.point=zt},polygonStart:function(){To=!0},polygonEnd:function(){To=null},result:function(){var t=+xa;return xa=new Qn,t}};function x0(t,n){or.point=ef,tf=Ge=t,nf=je=n}function ef(t,n){Ge-=t,je-=n,xa.add(kt(Ge*Ge+je*je)),Ge=t,je=n}let du,hi,pu,gu;class mu{constructor(n){this._append=n==null?rf:$0(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==pu||this._append!==hi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,pu=r,hi=this._append,gu=this._,this._=i}this._+=gu;break}}}result(){const n=this._;return this._="",n.length?n:null}}function rf(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function $0(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return rf;if(n!==du){const e=10**n;du=n,hi=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return hi}function Ja(t,n){let e=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Yn(s,i(o))),o.result()}return a.area=function(s){return Yn(s,i(mn)),mn.result()},a.measure=function(s){return Yn(s,i(or)),or.result()},a.bounds=function(s){return Yn(s,i(li)),li.result()},a.centroid=function(s){return Yn(s,i(Ft)),Ft.result()},a.projection=function(s){return arguments.length?(i=s==null?(t=null,ga):(t=s).stream,a):t},a.context=function(s){return arguments.length?(o=s==null?(n=null,new mu(e)):new Jc(n=s),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return e;if(s==null)e=null;else{const u=Math.floor(s);if(!(u>=0))throw new RangeError(`invalid digits: ${s}`);e=u}return n===null&&(o=new mu(e)),a},a.projection(t).digits(e).context(n)}function di(t){return{stream:qi(t)}}function qi(t){return function(n){var e=new $a;for(var r in t)e[r]=t[r];return e.stream=n,e}}function $a(){}$a.prototype={constructor:$a,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ts(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Yn(e,t.stream(li)),n(li.result()),r!=null&&t.clipExtent(r),t}function ns(t,n,e){return ts(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,u])},e)}function of(t,n,e){return ns(t,[[0,0],n],e)}function af(t,n,e){return ts(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},e)}function sf(t,n,e){return ts(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},e)}var yu=16,T0=Z(30*ft);function _u(t,n){return+n?D0(t,n):M0(t)}function M0(t){return qi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function D0(t,n){function e(r,i,o,a,s,u,c,l,h,f,d,p,g,y){var w=c-r,m=l-i,v=w*w+m*m;if(v>4*n&&g--){var _=a+f,x=s+d,b=u+p,S=kt(_*_+x*x+b*b),T=Wt(b/=S),M=at(at(b)-1)<Q||at(o-h)<Q?(o+h)/2:xn(x,_),k=t(M,T),D=k[0],O=k[1],W=D-r,I=O-i,C=m*W-w*I;(C*C/v>n||at((w*W+m*I)/v-.5)>.3||a*f+s*d+u*p<T0)&&(e(r,i,o,a,s,u,D,O,M,_/=S,x/=S,b,g,y),y.point(D,O),e(D,O,M,_,x,b,c,l,h,f,d,p,g,y))}}return function(r){var i,o,a,s,u,c,l,h,f,d,p,g,y={point:w,lineStart:m,lineEnd:_,polygonStart:function(){r.polygonStart(),y.lineStart=x},polygonEnd:function(){r.polygonEnd(),y.lineStart=m}};function w(T,M){T=t(T,M),r.point(T[0],T[1])}function m(){h=NaN,y.point=v,r.lineStart()}function v(T,M){var k=we([T,M]),D=t(T,M);e(h,f,l,d,p,g,h=D[0],f=D[1],l=T,d=k[0],p=k[1],g=k[2],yu,r),r.point(h,f)}function _(){y.point=w,r.lineEnd()}function x(){m(),y.point=b,y.lineEnd=S}function b(T,M){v(i=T,M),o=h,a=f,s=d,u=p,c=g,y.point=v}function S(){e(h,f,l,d,p,g,o,a,i,s,u,c,yu,r),y.lineEnd=_,_()}return y}}var C0=qi({point:function(t,n){this.stream.point(t*ft,n*ft)}});function U0(t){return qi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function k0(t,n,e,r,i){function o(a,s){return a*=r,s*=i,[n+t*a,e-t*s]}return o.invert=function(a,s){return[(a-n)/t*r,(e-s)/t*i]},o}function wu(t,n,e,r,i,o){if(!o)return k0(t,n,e,r,i);var a=Z(o),s=j(o),u=a*t,c=s*t,l=a/t,h=s/t,f=(s*e-a*n)/t,d=(s*n+a*e)/t;function p(g,y){return g*=r,y*=i,[u*g-c*y+n,e-c*g-u*y]}return p.invert=function(g,y){return[r*(l*g-h*y+f),i*(d-h*g-l*y)]},p}function In(t){return uf(function(){return t})()}function uf(t){var n,e=150,r=480,i=250,o=0,a=0,s=0,u=0,c=0,l,h=0,f=1,d=1,p=null,g=cu,y=null,w,m,v,_=ga,x=.5,b,S,T,M,k;function D(C){return T(C[0]*ft,C[1]*ft)}function O(C){return C=T.invert(C[0],C[1]),C&&[C[0]*Dt,C[1]*Dt]}D.stream=function(C){return M&&k===C?M:M=C0(U0(l)(g(b(_(k=C)))))},D.preclip=function(C){return arguments.length?(g=C,p=void 0,I()):g},D.postclip=function(C){return arguments.length?(_=C,y=w=m=v=null,I()):_},D.clipAngle=function(C){return arguments.length?(g=+C?h0(p=C*ft):(p=null,cu),I()):p*Dt},D.clipExtent=function(C){return arguments.length?(_=C==null?(y=w=m=v=null,ga):Vc(y=+C[0][0],w=+C[0][1],m=+C[1][0],v=+C[1][1]),I()):y==null?null:[[y,w],[m,v]]},D.scale=function(C){return arguments.length?(e=+C,W()):e},D.translate=function(C){return arguments.length?(r=+C[0],i=+C[1],W()):[r,i]},D.center=function(C){return arguments.length?(o=C[0]%360*ft,a=C[1]%360*ft,W()):[o*Dt,a*Dt]},D.rotate=function(C){return arguments.length?(s=C[0]%360*ft,u=C[1]%360*ft,c=C.length>2?C[2]%360*ft:0,W()):[s*Dt,u*Dt,c*Dt]},D.angle=function(C){return arguments.length?(h=C%360*ft,W()):h*Dt},D.reflectX=function(C){return arguments.length?(f=C?-1:1,W()):f<0},D.reflectY=function(C){return arguments.length?(d=C?-1:1,W()):d<0},D.precision=function(C){return arguments.length?(b=_u(S,x=C*C),I()):kt(x)},D.fitExtent=function(C,P){return ns(D,C,P)},D.fitSize=function(C,P){return of(D,C,P)},D.fitWidth=function(C,P){return af(D,C,P)},D.fitHeight=function(C,P){return sf(D,C,P)};function W(){var C=wu(e,0,0,f,d,h).apply(null,n(o,a)),P=wu(e,r-C[0],i-C[1],f,d,h);return l=qc(s,u,c),S=da(n,P),T=da(l,S),b=_u(S,x),I()}function I(){return M=k=null,D}return function(){return n=t.apply(this,arguments),D.invert=n.invert&&O,W()}}function es(t){var n=0,e=tt/3,r=uf(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ft,e=o[1]*ft):[n*Dt,e*Dt]},i}function A0(t){var n=Z(t);function e(r,i){return[r*n,j(i)/n]}return e.invert=function(r,i){return[r/n,Wt(i*n)]},e}function E0(t,n){var e=j(t),r=(e+j(n))/2;if(at(r)<Q)return A0(t);var i=1+e*(2*r-e),o=kt(i)/r;function a(s,u){var c=kt(i-2*r*j(u))/r;return[c*j(s*=r),o-c*Z(s)]}return a.invert=function(s,u){var c=o-u,l=xn(s,at(c))*Bt(c);return c*r<0&&(l-=tt*Bt(s)*Bt(c)),[l/r,Wt((i-(s*s+c*c)*r*r)/(2*r))]},a}function pi(){return es(E0).scale(155.424).center([0,33.6442])}function lf(){return pi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function L0(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function N0(){var t,n,e=lf(),r,i=pi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=pi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,c={point:function(f,d){u=[f,d]}};function l(f){var d=f[0],p=f[1];return u=null,r.point(d,p),u||(o.point(d,p),u)||(s.point(d,p),u)}l.invert=function(f){var d=e.scale(),p=e.translate(),g=(f[0]-p[0])/d,y=(f[1]-p[1])/d;return(y>=.12&&y<.234&&g>=-.425&&g<-.214?i:y>=.166&&y<.234&&g>=-.214&&g<-.115?a:e).invert(f)},l.stream=function(f){return t&&n===f?t:t=L0([e.stream(n=f),i.stream(f),a.stream(f)])},l.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),a.precision(f),h()):e.precision()},l.scale=function(f){return arguments.length?(e.scale(f),i.scale(f*.35),a.scale(f),l.translate(e.translate())):e.scale()},l.translate=function(f){if(!arguments.length)return e.translate();var d=e.scale(),p=+f[0],g=+f[1];return r=e.translate(f).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(c),o=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+Q,g+.12*d+Q],[p-.214*d-Q,g+.234*d-Q]]).stream(c),s=a.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+Q,g+.166*d+Q],[p-.115*d-Q,g+.234*d-Q]]).stream(c),h()},l.fitExtent=function(f,d){return ns(l,f,d)},l.fitSize=function(f,d){return of(l,f,d)},l.fitWidth=function(f,d){return af(l,f,d)},l.fitHeight=function(f,d){return sf(l,f,d)};function h(){return t=n=null,l}return l.scale(1070)}function cf(t){return function(n,e){var r=Z(n),i=Z(e),o=t(r*i);return o===1/0?[2,0]:[o*i*j(n),o*j(e)]}}function dr(t){return function(n,e){var r=kt(n*n+e*e),i=t(r),o=j(i),a=Z(i);return[xn(n*o,r*a),Wt(r&&e*o/r)]}}var ff=cf(function(t){return kt(2/(1+t))});ff.invert=dr(function(t){return 2*Wt(t/2)});function O0(){return In(ff).scale(124.75).clipAngle(180-.001)}var hf=cf(function(t){return(t=zc(t))&&t/j(t)});hf.invert=dr(function(t){return t});function I0(){return In(hf).scale(79.4188).clipAngle(180-.001)}function Wi(t,n){return[t,ii(Za((ht+n)/2))]}Wi.invert=function(t,n){return[t,2*Ee(Bc(n))-ht]};function R0(){return df(Wi).scale(961/Nt)}function df(t){var n=In(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,s,u,c;n.scale=function(h){return arguments.length?(r(h),l()):r()},n.translate=function(h){return arguments.length?(i(h),l()):i()},n.center=function(h){return arguments.length?(e(h),l()):e()},n.clipExtent=function(h){return arguments.length?(h==null?a=s=u=c=null:(a=+h[0][0],s=+h[0][1],u=+h[1][0],c=+h[1][1]),l()):a==null?null:[[a,s],[u,c]]};function l(){var h=tt*r(),f=n(i0(n.rotate()).invert([0,0]));return o(a==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===Wi?[[Math.max(f[0]-h,a),s],[Math.min(f[0]+h,u),c]]:[[a,Math.max(f[1]-h,s)],[u,Math.min(f[1]+h,c)]])}return l()}function Or(t){return Za((ht+t)/2)}function P0(t,n){var e=Z(t),r=t===n?j(t):ii(e/Z(n))/ii(Or(n)/Or(t)),i=e*So(Or(t),r)/r;if(!r)return Wi;function o(a,s){i>0?s<-ht+Q&&(s=-ht+Q):s>ht-Q&&(s=ht-Q);var u=i/So(Or(s),r);return[u*j(r*a),i-u*Z(r*a)]}return o.invert=function(a,s){var u=i-s,c=Bt(r)*kt(a*a+u*u),l=xn(a,at(u))*Bt(u);return u*r<0&&(l-=tt*Bt(a)*Bt(u)),[l/r,2*Ee(So(i/c,1/r))-ht]},o}function F0(){return es(P0).scale(109.5).parallels([30,30])}function gi(t,n){return[t,n]}gi.invert=gi;function B0(){return In(gi).scale(152.63)}function z0(t,n){var e=Z(t),r=t===n?j(t):(e-Z(n))/(n-t),i=e/r+t;if(at(r)<Q)return gi;function o(a,s){var u=i-s,c=r*a;return[u*j(c),i-u*Z(c)]}return o.invert=function(a,s){var u=i-s,c=xn(a,at(u))*Bt(u);return u*r<0&&(c-=tt*Bt(a)*Bt(u)),[c/r,i-Bt(r)*kt(a*a+u*u)]},o}function q0(){return es(z0).scale(131.154).center([0,13.9389])}var Ke=1.340264,Ze=-.081106,Je=893e-6,tr=.003796,mi=kt(3)/2,W0=12;function pf(t,n){var e=Wt(mi*j(n)),r=e*e,i=r*r*r;return[t*Z(e)/(mi*(Ke+3*Ze*r+i*(7*Je+9*tr*r))),e*(Ke+Ze*r+i*(Je+tr*r))]}pf.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,s,u;o<W0&&(s=e*(Ke+Ze*r+i*(Je+tr*r))-n,u=Ke+3*Ze*r+i*(7*Je+9*tr*r),e-=a=s/u,r=e*e,i=r*r*r,!(at(a)<Fc));++o);return[mi*t*(Ke+3*Ze*r+i*(7*Je+9*tr*r))/Z(e),Wt(j(e)/mi)]};function H0(){return In(pf).scale(177.158)}function gf(t,n){var e=Z(n),r=Z(t)*e;return[e*j(t)/r,j(n)/r]}gf.invert=dr(Ee);function Y0(){return In(gf).scale(144.049).clipAngle(60)}function mf(t,n){return[Z(n)*j(t),j(n)]}mf.invert=dr(Wt);function V0(){return In(mf).scale(249.5).clipAngle(90+Q)}function yf(t,n){var e=Z(n),r=1+Z(t)*e;return[e*j(t)/r,j(n)/r]}yf.invert=dr(function(t){return 2*Ee(t)});function G0(){return In(yf).scale(250).clipAngle(142)}function _f(t,n){return[ii(Za((ht+n)/2)),-t]}_f.invert=function(t,n){return[-n,2*Ee(Bc(t))-ht]};function j0(){var t=df(_f),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}const Ta=Symbol("implicit");function rs(){var t=new er,n=[],e=[],r=Ta;function i(o){let a=t.get(o);if(a===void 0){if(r!==Ta)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new er;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return rs(n,e).unknown(r)},Tn.apply(i,arguments),i}function Hi(){var t=rs().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,s=!1,u=0,c=0,l=.5;delete t.unknown;function h(){var f=n().length,d=i<r,p=d?i:r,g=d?r:i;o=(g-p)/Math.max(1,f-u+c*2),s&&(o=Math.floor(o)),p+=(g-p-o*(f-u))*l,a=o*(1-u),s&&(p=Math.round(p),a=Math.round(a));var y=ia(f).map(function(w){return p+o*w});return e(d?y.reverse():y)}return t.domain=function(f){return arguments.length?(n(f),h()):n()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),h()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),h()):l},t.copy=function(){return Hi(n(),[r,i]).round(s).paddingInner(u).paddingOuter(c).align(l)},Tn.apply(h(),arguments)}function wf(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wf(n())},t}function X0(){return wf(Hi.apply(null,arguments).paddingInner(1))}function bf(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,qs),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return bf(t).unknown(n)},t=arguments.length?Array.from(t,qs):[0,1],Ui(e)}function Sf(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function bu(t){return Math.log(t)}function Su(t){return Math.exp(t)}function Q0(t){return-Math.log(-t)}function K0(t){return-Math.exp(-t)}function Z0(t){return isFinite(t)?+("1e"+t):t<0?0:t}function J0(t){return t===10?Z0:t===Math.E?Math.exp:n=>Math.pow(t,n)}function tm(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function vu(t){return(n,e)=>-t(-n,e)}function vf(t){const n=t(bu,Su),e=n.domain;let r=10,i,o;function a(){return i=tm(r),o=J0(r),e()[0]<0?(i=vu(i),o=vu(o),t(Q0,K0)):t(bu,Su),n}return n.base=function(s){return arguments.length?(r=+s,a()):r},n.domain=function(s){return arguments.length?(e(s),a()):e()},n.ticks=s=>{const u=e();let c=u[0],l=u[u.length-1];const h=l<c;h&&([c,l]=[l,c]);let f=i(c),d=i(l),p,g;const y=s==null?10:+s;let w=[];if(!(r%1)&&d-f<y){if(f=Math.floor(f),d=Math.ceil(d),c>0){for(;f<=d;++f)for(p=1;p<r;++p)if(g=f<0?p/o(-f):p*o(f),!(g<c)){if(g>l)break;w.push(g)}}else for(;f<=d;++f)for(p=r-1;p>=1;--p)if(g=f>0?p/o(-f):p*o(f),!(g<c)){if(g>l)break;w.push(g)}w.length*2<y&&(w=Ko(c,l,y))}else w=Ko(f,d,Math.min(d-f,y)).map(o);return h?w.reverse():w},n.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=_p(u)).precision==null&&(u.trim=!0),u=Ai(u)),s===1/0)return u;const c=Math.max(1,r*s/n.ticks().length);return l=>{let h=l/o(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=c?u(l):""}},n.nice=()=>e(Sf(e(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),n}function xf(){const t=vf(Ha()).domain([1,10]);return t.copy=()=>ki(t,xf()).base(t.base()),Tn.apply(t,arguments),t}function xu(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function $u(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function $f(t){var n=1,e=t(xu(n),$u(n));return e.constant=function(r){return arguments.length?t(xu(n=+r),$u(n)):n},Ui(e)}function Tf(){var t=$f(Ha());return t.copy=function(){return ki(t,Tf()).constant(t.constant())},Tn.apply(t,arguments)}function Tu(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function nm(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function em(t){return t<0?-t*t:t*t}function Mf(t){var n=t(de,de),e=1;function r(){return e===1?t(de,de):e===.5?t(nm,em):t(Tu(e),Tu(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Ui(n)}function Df(){var t=Mf(Ha());return t.copy=function(){return ki(t,Df()).exponent(t.exponent())},Tn.apply(t,arguments),t}function Cf(){var t=[],n=[],e=[],r;function i(){var a=0,s=Math.max(1,n.length);for(e=new Array(s-1);++a<s;)e[a-1]=Lg(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:n[Fl(e,a)]}return o.invertExtent=function(a){var s=n.indexOf(a);return s<0?[NaN,NaN]:[s>0?e[s-1]:t[0],s<e.length?e[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(jr),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return Cf().domain(t).range(n).unknown(r)},Tn.apply(o,arguments)}function Uf(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Fl(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return Uf().domain(t).range(n).unknown(e)},Tn.apply(i,arguments)}const Mo=new Date,Do=new Date;function mt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let c;do u.push(c=new Date(+o)),n(o,s),t(o);while(c<o&&o<a);return u},i.filter=o=>mt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;n(a,-1),!o(a););else for(;--s>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(Mo.setTime(+o),Do.setTime(+a),t(Mo),t(Do),Math.floor(e(Mo,Do))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const yi=mt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);yi.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):yi);yi.range;const wn=1e3,qt=wn*60,bn=qt*60,$n=bn*24,is=$n*7,Mu=$n*30,Co=$n*365,Gt=mt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*wn)},(t,n)=>(n-t)/wn,t=>t.getUTCSeconds());Gt.range;const pr=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wn)},(t,n)=>{t.setTime(+t+n*qt)},(t,n)=>(n-t)/qt,t=>t.getMinutes());pr.range;const gr=mt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*qt)},(t,n)=>(n-t)/qt,t=>t.getUTCMinutes());gr.range;const mr=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wn-t.getMinutes()*qt)},(t,n)=>{t.setTime(+t+n*bn)},(t,n)=>(n-t)/bn,t=>t.getHours());mr.range;const yr=mt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*bn)},(t,n)=>(n-t)/bn,t=>t.getUTCHours());yr.range;const ne=mt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qt)/$n,t=>t.getDate()-1);ne.range;const Yi=mt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/$n,t=>t.getUTCDate()-1);Yi.range;const Vi=mt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/$n,t=>Math.floor(t/$n));Vi.range;function ee(t){return mt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*qt)/is)}const Se=ee(0),ar=ee(1),kf=ee(2),Af=ee(3),Zn=ee(4),Ef=ee(5),Lf=ee(6);Se.range;ar.range;kf.range;Af.range;Zn.range;Ef.range;Lf.range;function re(t){return mt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/is)}const ve=re(0),sr=re(1),Nf=re(2),Of=re(3),Jn=re(4),If=re(5),Rf=re(6);ve.range;sr.range;Nf.range;Of.range;Jn.range;If.range;Rf.range;const _r=mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_r.range;const wr=mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wr.range;const Xt=mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Xt.range;const Qt=mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Qt.range;function Pf(t,n,e,r,i,o){const a=[[Gt,1,wn],[Gt,5,5*wn],[Gt,15,15*wn],[Gt,30,30*wn],[o,1,qt],[o,5,5*qt],[o,15,15*qt],[o,30,30*qt],[i,1,bn],[i,3,3*bn],[i,6,6*bn],[i,12,12*bn],[r,1,$n],[r,2,2*$n],[e,1,is],[n,1,Mu],[n,3,3*Mu],[t,1,Co]];function s(c,l,h){const f=l<c;f&&([c,l]=[l,c]);const d=h&&typeof h.range=="function"?h:u(c,l,h),p=d?d.range(c,+l+1):[];return f?p.reverse():p}function u(c,l,h){const f=Math.abs(l-c)/h,d=Bl(([,,y])=>y).right(a,f);if(d===a.length)return t.every(Ws(c/Co,l/Co,h));if(d===0)return yi.every(Math.max(Ws(c,l,h),1));const[p,g]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return p.every(g)}return[s,u]}const[rm,im]=Pf(Qt,wr,ve,Vi,yr,gr),[om,am]=Pf(Xt,_r,Se,ne,mr,pr);function Uo(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ko(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pe(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function sm(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=Fe(i),l=Be(i),h=Fe(o),f=Be(o),d=Fe(a),p=Be(a),g=Fe(s),y=Be(s),w=Fe(u),m=Be(u),v={a:K,A:V,b:A,B:F,c:null,d:Eu,e:Eu,f:km,g:Bm,G:qm,H:Dm,I:Cm,j:Um,L:Ff,m:Am,M:Em,p:B,q,Q:Ou,s:Iu,S:Lm,u:Nm,U:Om,V:Im,w:Rm,W:Pm,x:null,X:null,y:Fm,Y:zm,Z:Wm,"%":Nu},_={a:R,A:J,b:nt,B:et,c:null,d:Lu,e:Lu,f:Gm,g:ry,G:oy,H:Hm,I:Ym,j:Vm,L:zf,m:jm,M:Xm,p:L,q:rt,Q:Ou,s:Iu,S:Qm,u:Km,U:Zm,V:Jm,w:ty,W:ny,x:null,X:null,y:ey,Y:iy,Z:ay,"%":Nu},x={a:k,A:D,b:O,B:W,c:I,d:ku,e:ku,f:xm,g:Uu,G:Cu,H:Au,I:Au,j:wm,L:vm,m:_m,M:bm,p:M,q:ym,Q:Tm,s:Mm,S:Sm,u:hm,U:dm,V:pm,w:fm,W:gm,x:C,X:P,y:Uu,Y:Cu,Z:mm,"%":$m};v.x=b(e,v),v.X=b(r,v),v.c=b(n,v),_.x=b(e,_),_.X=b(r,_),_.c=b(n,_);function b($,N){return function(H){var U=[],ut=-1,G=0,ct=$.length,pt,At,ue;for(H instanceof Date||(H=new Date(+H));++ut<ct;)$.charCodeAt(ut)===37&&(U.push($.slice(G,ut)),(At=Du[pt=$.charAt(++ut)])!=null?pt=$.charAt(++ut):At=pt==="e"?" ":"0",(ue=N[pt])&&(pt=ue(H,At)),U.push(pt),G=ut+1);return U.push($.slice(G,ut)),U.join("")}}function S($,N){return function(H){var U=Pe(1900,void 0,1),ut=T(U,$,H+="",0),G,ct;if(ut!=H.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(N&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(G=ko(Pe(U.y,0,1)),ct=G.getUTCDay(),G=ct>4||ct===0?sr.ceil(G):sr(G),G=Yi.offset(G,(U.V-1)*7),U.y=G.getUTCFullYear(),U.m=G.getUTCMonth(),U.d=G.getUTCDate()+(U.w+6)%7):(G=Uo(Pe(U.y,0,1)),ct=G.getDay(),G=ct>4||ct===0?ar.ceil(G):ar(G),G=ne.offset(G,(U.V-1)*7),U.y=G.getFullYear(),U.m=G.getMonth(),U.d=G.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),ct="Z"in U?ko(Pe(U.y,0,1)).getUTCDay():Uo(Pe(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(ct+5)%7:U.w+U.U*7-(ct+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,ko(U)):Uo(U)}}function T($,N,H,U){for(var ut=0,G=N.length,ct=H.length,pt,At;ut<G;){if(U>=ct)return-1;if(pt=N.charCodeAt(ut++),pt===37){if(pt=N.charAt(ut++),At=x[pt in Du?N.charAt(ut++):pt],!At||(U=At($,H,U))<0)return-1}else if(pt!=H.charCodeAt(U++))return-1}return U}function M($,N,H){var U=c.exec(N.slice(H));return U?($.p=l.get(U[0].toLowerCase()),H+U[0].length):-1}function k($,N,H){var U=d.exec(N.slice(H));return U?($.w=p.get(U[0].toLowerCase()),H+U[0].length):-1}function D($,N,H){var U=h.exec(N.slice(H));return U?($.w=f.get(U[0].toLowerCase()),H+U[0].length):-1}function O($,N,H){var U=w.exec(N.slice(H));return U?($.m=m.get(U[0].toLowerCase()),H+U[0].length):-1}function W($,N,H){var U=g.exec(N.slice(H));return U?($.m=y.get(U[0].toLowerCase()),H+U[0].length):-1}function I($,N,H){return T($,n,N,H)}function C($,N,H){return T($,e,N,H)}function P($,N,H){return T($,r,N,H)}function K($){return a[$.getDay()]}function V($){return o[$.getDay()]}function A($){return u[$.getMonth()]}function F($){return s[$.getMonth()]}function B($){return i[+($.getHours()>=12)]}function q($){return 1+~~($.getMonth()/3)}function R($){return a[$.getUTCDay()]}function J($){return o[$.getUTCDay()]}function nt($){return u[$.getUTCMonth()]}function et($){return s[$.getUTCMonth()]}function L($){return i[+($.getUTCHours()>=12)]}function rt($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var N=b($+="",v);return N.toString=function(){return $},N},parse:function($){var N=S($+="",!1);return N.toString=function(){return $},N},utcFormat:function($){var N=b($+="",_);return N.toString=function(){return $},N},utcParse:function($){var N=S($+="",!0);return N.toString=function(){return $},N}}}var Du={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,um=/^%/,lm=/[\\^$*+?|[\]().{}]/g;function ot(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function cm(t){return t.replace(lm,"\\$&")}function Fe(t){return new RegExp("^(?:"+t.map(cm).join("|")+")","i")}function Be(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function fm(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function hm(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function dm(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function pm(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function gm(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Cu(t,n,e){var r=wt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Uu(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function mm(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ym(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function _m(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function ku(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function wm(t,n,e){var r=wt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Au(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function bm(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Sm(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function vm(t,n,e){var r=wt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function xm(t,n,e){var r=wt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function $m(t,n,e){var r=um.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Tm(t,n,e){var r=wt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Mm(t,n,e){var r=wt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Eu(t,n){return ot(t.getDate(),n,2)}function Dm(t,n){return ot(t.getHours(),n,2)}function Cm(t,n){return ot(t.getHours()%12||12,n,2)}function Um(t,n){return ot(1+ne.count(Xt(t),t),n,3)}function Ff(t,n){return ot(t.getMilliseconds(),n,3)}function km(t,n){return Ff(t,n)+"000"}function Am(t,n){return ot(t.getMonth()+1,n,2)}function Em(t,n){return ot(t.getMinutes(),n,2)}function Lm(t,n){return ot(t.getSeconds(),n,2)}function Nm(t){var n=t.getDay();return n===0?7:n}function Om(t,n){return ot(Se.count(Xt(t)-1,t),n,2)}function Bf(t){var n=t.getDay();return n>=4||n===0?Zn(t):Zn.ceil(t)}function Im(t,n){return t=Bf(t),ot(Zn.count(Xt(t),t)+(Xt(t).getDay()===4),n,2)}function Rm(t){return t.getDay()}function Pm(t,n){return ot(ar.count(Xt(t)-1,t),n,2)}function Fm(t,n){return ot(t.getFullYear()%100,n,2)}function Bm(t,n){return t=Bf(t),ot(t.getFullYear()%100,n,2)}function zm(t,n){return ot(t.getFullYear()%1e4,n,4)}function qm(t,n){var e=t.getDay();return t=e>=4||e===0?Zn(t):Zn.ceil(t),ot(t.getFullYear()%1e4,n,4)}function Wm(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ot(n/60|0,"0",2)+ot(n%60,"0",2)}function Lu(t,n){return ot(t.getUTCDate(),n,2)}function Hm(t,n){return ot(t.getUTCHours(),n,2)}function Ym(t,n){return ot(t.getUTCHours()%12||12,n,2)}function Vm(t,n){return ot(1+Yi.count(Qt(t),t),n,3)}function zf(t,n){return ot(t.getUTCMilliseconds(),n,3)}function Gm(t,n){return zf(t,n)+"000"}function jm(t,n){return ot(t.getUTCMonth()+1,n,2)}function Xm(t,n){return ot(t.getUTCMinutes(),n,2)}function Qm(t,n){return ot(t.getUTCSeconds(),n,2)}function Km(t){var n=t.getUTCDay();return n===0?7:n}function Zm(t,n){return ot(ve.count(Qt(t)-1,t),n,2)}function qf(t){var n=t.getUTCDay();return n>=4||n===0?Jn(t):Jn.ceil(t)}function Jm(t,n){return t=qf(t),ot(Jn.count(Qt(t),t)+(Qt(t).getUTCDay()===4),n,2)}function ty(t){return t.getUTCDay()}function ny(t,n){return ot(sr.count(Qt(t)-1,t),n,2)}function ey(t,n){return ot(t.getUTCFullYear()%100,n,2)}function ry(t,n){return t=qf(t),ot(t.getUTCFullYear()%100,n,2)}function iy(t,n){return ot(t.getUTCFullYear()%1e4,n,4)}function oy(t,n){var e=t.getUTCDay();return t=e>=4||e===0?Jn(t):Jn.ceil(t),ot(t.getUTCFullYear()%1e4,n,4)}function ay(){return"+0000"}function Nu(){return"%"}function Ou(t){return+t}function Iu(t){return Math.floor(+t/1e3)}var ce,Gi,br;sy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sy(t){return ce=sm(t),Gi=ce.format,ce.parse,br=ce.utcFormat,ce.utcParse,ce}function uy(t){return new Date(t)}function ly(t){return t instanceof Date?+t:+new Date(+t)}function os(t,n,e,r,i,o,a,s,u,c){var l=wp(),h=l.invert,f=l.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),w=c("%a %d"),m=c("%b %d"),v=c("%B"),_=c("%Y");function x(b){return(u(b)<b?d:s(b)<b?p:a(b)<b?g:o(b)<b?y:r(b)<b?i(b)<b?w:m:e(b)<b?v:_)(b)}return l.invert=function(b){return new Date(h(b))},l.domain=function(b){return arguments.length?f(Array.from(b,ly)):f().map(uy)},l.ticks=function(b){var S=f();return t(S[0],S[S.length-1],b??10)},l.tickFormat=function(b,S){return S==null?x:c(S)},l.nice=function(b){var S=f();return(!b||typeof b.range!="function")&&(b=n(S[0],S[S.length-1],b??10)),b?f(Sf(S,b)):l},l.copy=function(){return ki(l,os(t,n,e,r,i,o,a,s,u,c))},l}function cy(){return Tn.apply(os(om,am,Xt,_r,Se,ne,mr,pr,Gt,Gi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fy(){return Tn.apply(os(rm,im,Qt,wr,ve,Yi,yr,gr,Gt,br).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ji(){var t=0,n=.5,e=1,r=1,i,o,a,s,u,c=de,l,h=!1,f;function d(g){return isNaN(g=+g)?f:(g=.5+((g=+l(g))-o)*(r*g<r*o?s:u),c(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,n,e]=g,i=l(t=+t),o=l(n=+n),a=l(e=+e),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(c=g,d):c};function p(g){return function(y){var w,m,v;return arguments.length?([w,m,v]=y,c=zi(g,[w,m,v]),d):[c(0),c(.5),c(1)]}}return d.range=p(Pl),d.rangeRound=p(zl),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return l=g,i=g(t),o=g(n),a=g(e),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Wf(){var t=Ui(ji()(de));return t.copy=function(){return Ei(t,Wf())},Li.apply(t,arguments)}function Hf(){var t=vf(ji()).domain([.1,1,10]);return t.copy=function(){return Ei(t,Hf()).base(t.base())},Li.apply(t,arguments)}function Yf(){var t=$f(ji());return t.copy=function(){return Ei(t,Yf()).constant(t.constant())},Li.apply(t,arguments)}function Vf(){var t=Mf(ji());return t.copy=function(){return Ei(t,Vf()).exponent(t.exponent())},Li.apply(t,arguments)}const hy=Ot("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),dy=Ot("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),py=Ot("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),gy=Ot("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),my=Ot("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),yy=Ot("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),_y=Ot("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),wy=Ot("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),by=Ot("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Sy=Ot("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),vy=Ot("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Gf=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ot);const jf=ql(Gf);var Xf=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ot);const Qf=ql(Xf),Kf=bp(Hs(300,.5,0),Hs(-240,.5,1));function Zf(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function nn(t){return function(){return t}}const Jf=Math.cos,as=Math.min,_i=Math.sin,yt=Math.sqrt,Ru=1e-12,wi=Math.PI,Xi=2*wi;function th(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Pc(n)}function xy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nh(t){this._context=t}nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Qi(t){return new nh(t)}function $y(t){return t[0]}function Ty(t){return t[1]}function My(t,n){var e=nn(!0),r=null,i=Qi,o=null,a=th(s);t=typeof t=="function"?t:t===void 0?$y:nn(t),n=typeof n=="function"?n:n===void 0?Ty:nn(n);function s(u){var c,l=(u=xy(u)).length,h,f=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=l;++c)!(c<l&&e(h=u[c],c,u))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,c,u),+n(h,c,u));if(d)return o=null,d+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:nn(+u),s):t},s.y=function(u){return arguments.length?(n=typeof u=="function"?u:nn(+u),s):n},s.defined=function(u){return arguments.length?(e=typeof u=="function"?u:nn(!!u),s):e},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}class eh{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function Dy(t){return new eh(t,!0)}function Cy(t){return new eh(t,!1)}const Uy=yt(3),rh={draw(t,n){const e=yt(n+as(n/28,.75))*.59436,r=e/2,i=r*Uy;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},xe={draw(t,n){const e=yt(n/wi);t.moveTo(e,0),t.arc(0,0,e,0,Xi)}},ih={draw(t,n){const e=yt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},oh=yt(1/3),ky=oh*2,nr={draw(t,n){const e=yt(n/ky),r=e*oh;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},ah={draw(t,n){const e=yt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},sh={draw(t,n){const e=yt(n-as(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},uh={draw(t,n){const e=yt(n),r=-e/2;t.rect(r,r,e,e)}},lh={draw(t,n){const e=yt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},Ay=.8908130915292852,ch=_i(wi/10)/_i(7*wi/10),Ey=_i(Xi/10)*ch,Ly=-Jf(Xi/10)*ch,fh={draw(t,n){const e=yt(n*Ay),r=Ey*e,i=Ly*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Xi*o/5,s=Jf(a),u=_i(a);t.lineTo(u*e,-s*e),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Ao=yt(3),hh={draw(t,n){const e=-yt(n/(Ao*3));t.moveTo(0,e*2),t.lineTo(-Ao*e,-e),t.lineTo(Ao*e,-e),t.closePath()}},Ny=yt(3),dh={draw(t,n){const e=yt(n)*.6824,r=e/2,i=e*Ny/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Rt=-.5,Pt=yt(3)/2,Ma=1/yt(12),Oy=(Ma/2+1)*3,ph={draw(t,n){const e=yt(n/Oy),r=e/2,i=e*Ma,o=r,a=e*Ma+e,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(Rt*r-Pt*i,Pt*r+Rt*i),t.lineTo(Rt*o-Pt*a,Pt*o+Rt*a),t.lineTo(Rt*s-Pt*u,Pt*s+Rt*u),t.lineTo(Rt*r+Pt*i,Rt*i-Pt*r),t.lineTo(Rt*o+Pt*a,Rt*a-Pt*o),t.lineTo(Rt*s+Pt*u,Rt*u-Pt*s),t.closePath()}},gh={draw(t,n){const e=yt(n-as(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},Iy=[xe,ih,nr,uh,fh,hh,ph],Ry=[xe,sh,gh,dh,rh,lh,ah];function Eo(t,n){let e=null,r=th(i);t=typeof t=="function"?t:nn(t||xe),n=typeof n=="function"?n:nn(n===void 0?64:+n);function i(){let o;if(e||(e=o=r()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),o)return e=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:nn(o),i):t},i.size=function(o){return arguments.length?(n=typeof o=="function"?o:nn(+o),i):n},i.context=function(o){return arguments.length?(e=o??null,i):e},i}function Ln(){}function bi(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Ki(t){this._context=t}Ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bi(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Py(t){return new Ki(t)}function mh(t){this._context=t}mh.prototype={areaStart:Ln,areaEnd:Ln,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:bi(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Fy(t){return new mh(t)}function yh(t){this._context=t}yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:bi(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function By(t){return new yh(t)}function _h(t,n){this._basis=new Ki(t),this._beta=n}_h.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,s=-1,u;++s<=e;)u=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+u*o),this._beta*n[s]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const zy=(function t(n){function e(r){return n===1?new Ki(r):new _h(r,n)}return e.beta=function(r){return t(+r)},e})(.85);function Si(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function ss(t,n){this._context=t,this._k=(1-n)/6}ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Si(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Si(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const qy=(function t(n){function e(r){return new ss(r,n)}return e.tension=function(r){return t(+r)},e})(0);function us(t,n){this._context=t,this._k=(1-n)/6}us.prototype={areaStart:Ln,areaEnd:Ln,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Si(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Wy=(function t(n){function e(r){return new us(r,n)}return e.tension=function(r){return t(+r)},e})(0);function ls(t,n){this._context=t,this._k=(1-n)/6}ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Si(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Hy=(function t(n){function e(r){return new ls(r,n)}return e.tension=function(r){return t(+r)},e})(0);function cs(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Ru){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Ru){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function wh(t,n){this._context=t,this._alpha=n}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:cs(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Yy=(function t(n){function e(r){return n?new wh(r,n):new ss(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function bh(t,n){this._context=t,this._alpha=n}bh.prototype={areaStart:Ln,areaEnd:Ln,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:cs(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Vy=(function t(n){function e(r){return n?new bh(r,n):new us(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function Sh(t,n){this._context=t,this._alpha=n}Sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cs(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Gy=(function t(n){function e(r){return n?new Sh(r,n):new ls(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function vh(t){this._context=t}vh.prototype={areaStart:Ln,areaEnd:Ln,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function jy(t){return new vh(t)}function Pu(t){return t<0?-1:1}function Fu(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Pu(o)+Pu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Bu(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Lo(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*n,o-s,a-s*e,o,a)}function vi(t){this._context=t}vi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lo(this,this._t0,Bu(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Lo(this,Bu(this,e=Fu(this,t,n)),e);break;default:Lo(this,this._t0,e=Fu(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function xh(t){this._context=new $h(t)}(xh.prototype=Object.create(vi.prototype)).point=function(t,n){vi.prototype.point.call(this,n,t)};function $h(t){this._context=t}$h.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function Xy(t){return new vi(t)}function Qy(t){return new xh(t)}function Th(t){this._context=t}Th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=zu(t),i=zu(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function zu(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Ky(t){return new Th(t)}function Zi(t,n){this._context=t,this._t=n}Zi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function Zy(t){return new Zi(t,.5)}function Jy(t){return new Zi(t,0)}function t1(t){return new Zi(t,1)}const n1=hr({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:n}){const{proxy:{$q:e}}=Ri(),r=Ks(cg,le);if(r===le)return console.error("QPage needs to be a deep child of QLayout"),le;if(Ks(fg,le)===le)return console.error("QPage needs to be child of QPageContainer"),le;const o=Vt(()=>{const s=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof t.styleFn=="function"){const u=r.isContainer.value===!0?r.containerHeight.value:e.screen.height;return t.styleFn(s,u)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-s+"px":e.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":e.screen.height-s+"px"}}),a=Vt(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>_e("main",{class:a.value,style:o.value},Fi(n.default))}}),e1=["ul","ol"],r1=hr({name:"QList",props:{...Ya,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:n}){const e=Ri(),r=Va(t,e.proxy.$q),i=Vt(()=>e1.includes(t.tag)?null:"list"),o=Vt(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>_e(t.tag,{class:o.value,role:i.value},Fi(n.default))}}),Gn=[];let $e;function i1(t){$e=t.keyCode===27}function o1(){$e===!0&&($e=!1)}function a1(t){$e===!0&&($e=!1,hg(t,27)===!0&&Gn[Gn.length-1](t))}function Mh(t){window[t]("keydown",i1),window[t]("blur",o1),window[t]("keyup",a1),$e=!1}function s1(t){Sc.is.desktop===!0&&(Gn.push(t),Gn.length===1&&Mh("addEventListener"))}function qu(t){const n=Gn.indexOf(t);n!==-1&&(Gn.splice(n,1),Gn.length===0&&Mh("removeEventListener"))}const jn=[];function Dh(t){jn[jn.length-1](t)}function u1(t){Sc.is.desktop===!0&&(jn.push(t),jn.length===1&&document.body.addEventListener("focusin",Dh))}function l1(t){const n=jn.indexOf(t);n!==-1&&(jn.splice(n,1),jn.length===0&&document.body.removeEventListener("focusin",Dh))}const c1=hr({name:"QMenu",inheritAttrs:!1,props:{...Mp,...Tp,...Ya,...$p,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ys},self:{type:String,validator:Ys},offset:{type:Array,validator:xp},scrollTarget:vp,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Sp,"click","escapeKey"],setup(t,{slots:n,emit:e,attrs:r}){let i=null,o,a,s;const u=Ri(),{proxy:c}=u,{$q:l}=c,h=st(null),f=st(!1),d=Vt(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),p=Va(t,l),{registerTick:g,removeTick:y}=Dp(),{registerTimeout:w}=Cp(),{transitionProps:m,transitionStyle:v}=Up(t),{localScrollTarget:_,changeScrollEvent:x,unconfigureScrollTarget:b}=kp(t,R),{anchorEl:S,canShow:T}=Ap({showing:f}),{hide:M}=Ep({showing:f,canShow:T,handleShow:F,handleHide:B,hideOnRouteChange:d,processOnMount:!0}),{showPortal:k,hidePortal:D,renderPortal:O}=Lp(u,h,rt,"menu"),W={anchorEl:S,innerRef:h,onClickOutside($){if(t.persistent!==!0&&f.value===!0)return M($),($.type==="touchstart"||$.target.classList.contains("q-dialog__backdrop"))&&mg($),!0}},I=Vt(()=>Gs(t.anchor||(t.cover===!0?"center middle":"bottom start"),l.lang.rtl)),C=Vt(()=>t.cover===!0?I.value:Gs(t.self||"top start",l.lang.rtl)),P=Vt(()=>(t.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),K=Vt(()=>t.autoClose===!0?{onClick:J}:{}),V=Vt(()=>f.value===!0&&t.persistent!==!0);Zs(V,$=>{$===!0?(s1(et),Pp(W)):(qu(et),Vs(W))});function A(){Ip(()=>{let $=h.value;$&&$.contains(document.activeElement)!==!0&&($=$.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||$.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||$.querySelector("[autofocus], [data-autofocus]")||$,$.focus({preventScroll:!0}))})}function F($){if(i=t.noRefocus===!1?document.activeElement:null,u1(nt),k(),R(),o=void 0,$!==void 0&&(t.touchPosition||t.contextMenu)){const N=dg($);if(N.left!==void 0){const{top:H,left:U}=S.value.getBoundingClientRect();o={left:N.left-U,top:N.top-H}}}a===void 0&&(a=Zs(()=>l.screen.width+"|"+l.screen.height+"|"+t.self+"|"+t.anchor+"|"+l.lang.rtl,L)),t.noFocus!==!0&&document.activeElement.blur(),g(()=>{L(),t.noFocus!==!0&&A()}),w(()=>{l.platform.is.ios===!0&&(s=t.autoClose,h.value.click()),L(),k(!0),e("show",$)},t.transitionDuration)}function B($){y(),D(),q(!0),i!==null&&($===void 0||$.qClickOutside!==!0)&&((($?.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),w(()=>{D(!0),e("hide",$)},t.transitionDuration)}function q($){o=void 0,a!==void 0&&(a(),a=void 0),($===!0||f.value===!0)&&(l1(nt),b(),Vs(W),qu(et)),$!==!0&&(i=null)}function R(){(S.value!==null||t.scrollTarget!==void 0)&&(_.value=Np(S.value,t.scrollTarget),x(_.value,L))}function J($){s!==!0?(Rp(c,$),e("click",$)):s=!1}function nt($){V.value===!0&&t.noFocus!==!0&&wg(h.value,$.target)!==!0&&A()}function et($){t.noEscDismiss!==!0&&(e("escapeKey"),M($))}function L(){Op({targetEl:h.value,offset:t.offset,anchorEl:S.value,anchorOrigin:I.value,selfOrigin:C.value,absoluteOffset:o,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function rt(){return _e(pg,m.value,()=>f.value===!0?_e("div",{role:"menu",...r,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+P.value,r.class],style:[r.style,v.value],...K.value},Fi(n.default)):null)}return gg(q),Object.assign(c,{focus:A,updatePosition:L}),O}}),Da=hr({name:"QSpace",setup(){const t=_e("div",{class:"q-space"});return()=>t}}),xi=hr({name:"QBar",props:{...Ya,dense:Boolean},setup(t,{slots:n}){const{proxy:{$q:e}}=Ri(),r=Va(t,e),i=Vt(()=>`q-bar row no-wrap items-center q-bar--${t.dense===!0?"dense":"standard"}  q-bar--${r.value===!0?"dark":"light"}`);return()=>_e("div",{class:i.value,role:"toolbar"},Fi(n.default))}});function Nn(t){return t!=null&&!Number.isNaN(t)}function Te(t,n){return+Nn(n)-+Nn(t)||jr(t,n)}function Ca(t,n){return+Nn(n)-+Nn(t)||Ni(t,n)}function fs(t){return t!=null&&`${t}`!=""}function Ch(t){return isFinite(t)?t:NaN}function Ji(t){return t>0&&isFinite(t)?t:NaN}function hs(t){return t<0&&isFinite(t)?t:NaN}function f1(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${h1(t.getUTCFullYear())}-${gn(t.getUTCMonth()+1,2)}-${gn(t.getUTCDate(),2)}${e||r||i||o?`T${gn(e,2)}:${gn(r,2)}${i||o?`:${gn(i,2)}${o?`.${gn(o,3)}`:""}`:""}Z`:""}`}function h1(t){return t<0?`-${gn(-t,6)}`:t>9999?`+${gn(t,6)}`:gn(t,4)}function gn(t,n){return`${t}`.padStart(n,"0")}const d1=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Uh(t,n){return d1.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function Me(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Ni(n,e)}const ge=1e3,Un=ge*60,kn=Un*60,ln=kn*24,tn=ln*7,Xn=ln*30,Cn=ln*365,No=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",ge],["5 seconds",5*ge],["15 seconds",15*ge],["30 seconds",30*ge],["minute",Un],["5 minutes",5*Un],["15 minutes",15*Un],["30 minutes",30*Un],["hour",kn],["3 hours",3*kn],["6 hours",6*kn],["12 hours",12*kn],["day",ln],["2 days",2*ln],["week",tn],["2 weeks",2*tn],["month",Xn],["3 months",3*Xn],["6 months",6*Xn],["year",Cn],["2 years",2*Cn],["5 years",5*Cn],["10 years",10*Cn],["20 years",20*Cn],["50 years",50*Cn],["100 years",100*Cn]],ds=new Map([["second",ge],["minute",Un],["hour",kn],["day",ln],["monday",tn],["tuesday",tn],["wednesday",tn],["thursday",tn],["friday",tn],["saturday",tn],["sunday",tn],["week",tn],["month",Xn],["year",Cn]]),kh=new Map([["second",Gt],["minute",pr],["hour",mr],["day",ne],["monday",ar],["tuesday",kf],["wednesday",Af],["thursday",Zn],["friday",Ef],["saturday",Lf],["sunday",Se],["week",Se],["month",_r],["year",Xt]]),ps=new Map([["second",Gt],["minute",gr],["hour",yr],["day",Vi],["monday",sr],["tuesday",Nf],["wednesday",Of],["thursday",Jn],["friday",If],["saturday",Rf],["sunday",ve],["week",ve],["month",wr],["year",Qt]]),Sr=Symbol("intervalDuration"),to=Symbol("intervalType");for(const[t,n]of kh)n[Sr]=ds.get(t),n[to]="time";for(const[t,n]of ps)n[Sr]=ds.get(t),n[to]="utc";const Xe=[["year",Qt,"utc"],["month",wr,"utc"],["day",Vi,"utc",6*Xn],["hour",yr,"utc",3*ln],["minute",gr,"utc",6*kn],["second",Gt,"utc",30*Un]],Yr=[["year",Xt,"time"],["month",_r,"time"],["day",ne,"time",6*Xn],["hour",mr,"time",3*ln],["minute",pr,"time",6*kn],["second",Gt,"time",30*Un]],p1=[Xe[0],Yr[0],Xe[1],Yr[1],Xe[2],Yr[2],...Xe.slice(3)];function Ah(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=ps.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Eh(t){return Nh(Ah(t),"time")}function Lh(t){return Nh(Ah(t),"utc")}function Nh([t,n],e){let r=(e==="time"?kh:ps).get(t);return n>1&&(r=r.every(n),r[Sr]=ds.get(t)*n,r[to]=e),r}function Wu(t,n){if(!(n>1))return;const e=t[Sr];if(!No.some(([,i])=>i===e)||e%ln===0&&ln<e&&e<Xn)return;const[r]=No[Bl(([,i])=>Math.log(i)).center(No,Math.log(e*n))];return(t[to]==="time"?Eh:Lh)(r)}function Hu(t,n,e){const r=n==="time"?Gi:br;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=g1(e);switch(t){case"millisecond":return fe(r(".%L"),r(":%M:%S"),i);case"second":return fe(r(":%S"),r("%-I:%M"),i);case"minute":return fe(r("%-I:%M"),r("%p"),i);case"hour":return fe(r("%-I %p"),r("%b %-d"),i);case"day":return fe(r("%-d"),r("%b"),i);case"month":return fe(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function g1(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function m1(t){return t==="time"?Yr:t==="utc"?Xe:p1}function y1(t,n,e){const r=un(Rg(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return Hu("millisecond","utc",e);for(const[i,o,a,s]of m1(t)){if(r>s||i==="hour"&&!r)break;if(n.every(u=>o.floor(u)>=u))return Hu(i,a,e)}}function fe(t,n,e){return(r,i,o)=>{const a=t(r,i),s=n(r,i),u=i-Me(o);return i!==u&&o[u]!==void 0&&s===n(o[u],u)?a:e(a,s)}}const gs=Object.getPrototypeOf(Uint8Array),_1=Object.prototype.toString;function vr(t){return t instanceof Array||t instanceof gs}function Oh(t){return t instanceof gs&&!w1(t)}function Ih(t){return t?.prototype instanceof gs&&!b1(t)}function w1(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function b1(t){return t===BigInt64Array||t===BigUint64Array}const S1=Symbol("reindex");function On(t,n,e){const r=typeof n;return r==="string"?Hh(t)?ms(t.getChild(n),e):Yu(t,x1(n),e):r==="function"?Yu(t,n,e):r==="number"||n instanceof Date||r==="boolean"?Tt(t,Sn(n),e):typeof n?.transform=="function"?Ua(n.transform(t),e):v1(Ua(n,e),t?.[S1])}function v1(t,n){return t!=null&&n?_s(t,n):t}function Yu(t,n,e){return Tt(t,Ih(e)?(r,i)=>ys(n(r,i)):n,e)}function Ua(t,n){return n===void 0?ie(t):Yh(t)?ms(t,n):t instanceof n?t:n.from(t,Ih(n)&&!Oh(t)?ys:void 0)}function ms(t,n){return t==null?t:(n===void 0||n===Array)&&H1(t.type)?Ph(Vu(t)):Ua(Vu(t),n)}function Vu(t){return t.nullCount?t.toJSON():t.toArray()}const Vr=[null],x1=t=>n=>{const e=n[t];return e===void 0&&n.type==="Feature"?n.properties?.[t]:e},$1={transform:xr},Mn={transform:t=>t},T1=()=>!0,xt=t=>t==null?t:`${t}`,$t=t=>t==null?t:+t,Rh=t=>t?t[0]:void 0,M1=t=>t?t[1]:void 0,Sn=t=>()=>t;function D1(t){const n=+`${t}`.slice(1)/100;return(e,r)=>ni(e,n,r)}function $i(t){return Oh(t)?t:Tt(t,ys,Float64Array)}function ys(t){return t==null?NaN:Number(t)}function Ph(t){return Tt(t,C1)}function C1(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?Uh(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function te(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:oo(t)?[void 0,t]:[t,void 0]}function Ct(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function Fh(t,n,e){if(t!=null)return Kt(t,n,e)}function Kt(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function De(t){return Hh(t)?t:ie(t)}function ie(t){if(t==null||vr(t))return t;if(Yh(t))return ms(t);if(Bh(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function Bh(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function Tt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function ka(t,n=Array){return t instanceof n?t.slice():n.from(t)}function oe(t){return t?.toString===_1}function Aa(t){return oe(t)&&(t.type!==void 0||t.domain!==void 0)}function no(t){return oe(t)&&typeof t.transform!="function"}function Ce(t){return no(t)&&t.value===void 0&&t.channel===void 0}function eo(t,n){return t===void 0&&n===void 0?[Rh,M1]:[t,n]}function U1({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=te(n)),t===void 0&&([t]=te(e)),t}function Ea(t){return vr(t)?t.length:t?.numRows}function xr(t){const n=Ea(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function _s(t,n){return vr(t)?Tt(n,e=>t[e],t.constructor):Tt(n,e=>t.at(e))}function k1(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function vn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ro(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function A1(t,n){const e=ws(t,n);return e&&(r=>Nn(r)?e.floor(r):r)}function ws(t,n){if(t!=null){if(typeof t=="number")return E1(t);if(typeof t=="string")return(n==="time"?Eh:Lh)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function E1(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>ia(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>ia(Math.ceil(e/n),r/n).map(i=>i*n)}}function $r(t,n){if(t=ws(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function L1(t,n){if(t=$r(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function N1(t){return typeof t?.range=="function"}function io(t){return t===void 0||no(t)?t:{value:t}}function O1(t){return t==null?null:{transform:n=>On(n,t,Float64Array),label:ro(t)}}function ae(t){return t&&typeof t[Symbol.iterator]=="function"}function zh(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Gu(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function cn(t){for(const n of t)if(n!=null)return n instanceof Date}function I1(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&Uh(n)}function R1(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function P1(t){for(const n of t)if(n!=null)return typeof n=="number"}function Oo(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const F1=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function oo(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||F1.has(t))}function B1(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Ut(t){return t==null||ur(t)}function ur(t){return/^\s*none\s*$/i.test(t)}function z1(t){return/^\s*round\s*$/i.test(t)}function La(t,n){return Fh(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ao(t="middle"){return La(t,"frameAnchor")}function q1(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function W1(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function qh(t){return ae(t)?W1(t):t}function Wh(t){return t===!0?t="frame":t===!1?t=null:!Bh(t)&&t!=null&&(t=Kt(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function Hh(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function Yh(t){return t&&typeof t.toArray=="function"&&t.type}function H1(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const an=Symbol("position"),Dn=Symbol("color"),Tr=Symbol("radius"),Mr=Symbol("length"),Dr=Symbol("opacity"),so=Symbol("symbol"),Vh=Symbol("projection"),dt=new Map([["x",an],["y",an],["fx",an],["fy",an],["r",Tr],["color",Dn],["opacity",Dr],["symbol",so],["length",Mr],["projection",Vh]]);function Y1(t){return t===an||t===Vh}function V1(t){return t===an||t===Tr||t===Mr||t===Dr}const G1=Math.sqrt(3),j1=2/G1,X1={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*j1,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},bs=new Map([["asterisk",rh],["circle",xe],["cross",ih],["diamond",nr],["diamond2",ah],["hexagon",X1],["plus",sh],["square",uh],["square2",lh],["star",fh],["times",gh],["triangle",hh],["triangle2",dh],["wye",ph]]);function Ss(t){return t&&typeof t.draw=="function"}function Q1(t){return Ss(t)?!0:typeof t!="string"?!1:bs.has(t.toLowerCase())}function vs(t){if(t==null||Ss(t))return t;const n=bs.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function K1(t){if(t==null||Ss(t))return[void 0,t];if(typeof t=="string"){const n=bs.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function Gh({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=jh(t)),n!=null&&!Ce(n)&&(r=Io(r,xs(n))),e&&(r=Io(r,Xh))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||Ce(n))&&{sort:n},transform:Io(r,a)}}function Ue({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=jh(t)),n!=null&&!Ce(n)&&(r=Ro(r,xs(n))),e&&(r=Ro(r,Xh))),{...i,...(n===null||Ce(n))&&{sort:n},initializer:Ro(r,o)}}function Io(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,De(e),r,i)}}function Ro(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,s,u,c,l,h;return{data:s=e,facets:u=r,channels:a}=t.call(this,e,r,i,...o),{data:l=s,facets:h=u,channels:c}=n.call(this,s,u,{...i,...a},...o),{data:l,facets:h,channels:{...a,...c}}}}function Z1(t,n){return(t.initializer!=null?Ue:Gh)(t,n)}function jh(t){return(n,e)=>{const r=On(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function Xh(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function J1(t,{sort:n,...e}={}){return{...(no(t)&&t.channel!==void 0?Ue:Z1)(e,xs(t)),sort:Ce(n)?n:null}}function xs(t){return(typeof t=="function"&&t.length!==1?t_:n_)(t)}function t_(t){return(n,e)=>{const r=vr(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function n_(t){let n,e;({channel:n,value:t,order:e}={...io(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?Ca:Te),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=Te;break;case"descending":e=Ca;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let s;if(n===void 0)s=On(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(s=a[n],!s)return{};s=s.value}const u=(c,l)=>e(s[c],s[l]);return{data:i,facets:o.map(c=>c.slice().sort(u))}}}function e_(t,n,e=r_){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&oe(t))return i_(t);if(typeof t=="function")return o_(t);if(/^p\d{2}$/i.test(t))return pn(D1(t));switch(`${t}`.toLowerCase()){case"first":return s_;case"last":return u_;case"identity":return a_;case"count":return Xu;case"distinct":return l_;case"sum":return n==null?Xu:c_;case"proportion":return Qu(n,"data");case"proportion-facet":return Qu(n,"facet");case"deviation":return pn(Mg);case"min":return pn(rr);case"min-index":return pn(Eg);case"max":return pn(un);case"max-index":return pn(Ag);case"mean":return ju(Ng);case"median":return ju(ra);case"variance":return pn(vc);case"mode":return pn(Ig)}return e(t)}function r_(t){throw new Error(`invalid reduce: ${t}`)}function i_(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function o_(t){return{reduceIndex(n,e,r){return t(_s(e,n),r)}}}function pn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function ju(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return cn(e)?new Date(r):r}}}const a_={reduceIndex(t,n){return _s(n,t)}},s_={reduceIndex(t,n){return n[t[0]]}},u_={reduceIndex(t,n){return n[t[t.length-1]]}},Xu={label:"Frequency",reduceIndex(t){return t.length}},l_={label:"Distinct",reduceIndex(t,n){const e=new Bi;for(const r of t)e.add(n[r]);return e.size}},c_=pn(Ka);function Qu(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Ka(e,o=>r[o])/i}}function lr(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=ro(r)},s){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),Qh(s,{scale:n,type:e,value:On(t,r),label:a,filter:i,hint:o})}function f_(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,lr(n,r,e)]))}function h_(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:Tt(o,a)]}));return e.channels=t,e}function Qh(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&Oo(r,oo)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&Oo(r,B1)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&Oo(r,Q1)?(n.scale=null,n.value=Tt(r,vs)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=dt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!dt.has(e))throw new Error(`unknown scale: ${e}`);return n}function d_(t,n,e,r,i){const{order:o,reverse:a,reduce:s=!0,limit:u}=i;for(const c in i){if(!dt.has(c))continue;let{value:l,order:h=o,reverse:f=a,reduce:d=s,limit:p=u}=io(i[c]);const g=l?.startsWith("-");if(g&&(l=l.slice(1)),h=h===void 0?g!==(l==="width"||l==="height")?Zh:Kh:m_(h),d==null||d===!1)continue;const y=c==="fx"||c==="fy"?g_(n,r[c]):p_(e,c);if(!y)throw new Error(`missing channel for scale: ${c}`);const w=y.value,[m=0,v=1/0]=ae(p)?p:p<0?[p]:[0,p];if(l==null)y.domain=()=>{let _=Array.from(new Bi(w));return f&&(_=_.reverse()),(m!==0||v!==1/0)&&(_=_.slice(m,v)),_};else{const _=l==="data"?t:l==="height"?Ku(e,"y1","y2"):l==="width"?Ku(e,"x1","x2"):Na(e,l,l==="y"?"y2":l==="x"?"x2":void 0),x=e_(d===!0?"max":d,_);y.domain=()=>{let b=Cg(xr(w),S=>x.reduceIndex(S,_),S=>w[S]);return h&&b.sort(h),f&&b.reverse(),(m!==0||v!==1/0)&&(b=b.slice(m,v)),b.map(Rh)}}}}function p_(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function g_(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const s of t[o])i[s]=a}return n}function Ku(t,n,e){const r=Na(t,n),i=Na(t,e);return Tt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Na(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function m_(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Kh;case"descending":return Zh}throw new Error(`invalid order: ${t}`)}function Kh([t,n],[e,r]){return Te(n,r)||Te(t,e)}function Zh([t,n],[e,r]){return Ca(n,r)||Te(t,e)}function Zu(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const Jh=new Map([["accent",dy],["category10",hy],["dark2",py],["observable10",gy],["paired",my],["pastel1",yy],["pastel2",_y],["set1",wy],["set2",by],["set3",Sy],["tableau10",vy]]);function y_(t){return t!=null&&Jh.has(`${t}`.toLowerCase())}const Ju=new Map([...Jh,["brbg",fn(Fp,Wl)],["prgn",fn(Bp,Hl)],["piyg",fn(zp,Yl)],["puor",fn(qp,Vl)],["rdbu",fn(js,Xr)],["rdgy",fn(Wp,Gl)],["rdylbu",fn(Xs,Qr)],["rdylgn",fn(Hp,jl)],["spectral",fn(Yp,Xl)],["burd",tl(js,Xr)],["buylrd",tl(Xs,Qr)],["blues",_t(Vp,Ql)],["greens",_t(Gp,Kl)],["greys",_t(jp,Zl)],["oranges",_t(Xp,tc)],["purples",_t(Qp,Ga)],["reds",_t(Kp,Jl)],["turbo",hn(Zf)],["viridis",hn(nc)],["magma",hn(ec)],["inferno",hn(rc)],["plasma",hn(ic)],["cividis",hn(oc)],["cubehelix",hn(Kf)],["warm",hn(ac)],["cool",hn(sc)],["bugn",_t(Gf,jf)],["bupu",_t(Zp,uc)],["gnbu",_t(Jp,lc)],["orrd",_t(tg,cc)],["pubu",_t(ng,hc)],["pubugn",_t(eg,fc)],["purd",_t(rg,dc)],["rdpu",_t(Xf,Qf)],["ylgn",_t(ig,gc)],["ylgnbu",_t(og,pc)],["ylorbr",_t(ag,mc)],["ylorrd",_t(sg,yc)],["rainbow",nl(_c)],["sinebow",nl(wc)]]);function _t(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?jt(n,e):t[e])}function fn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?jt(n,e):t[e])}function tl(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?jt(r=>n(1-r),e):t[e].slice().reverse())}function hn(t){return({length:n})=>jt(t,Math.max(2,Math.floor(n)))}function nl(t){return({length:n})=>jt(t,Math.floor(n)+1).slice(0,-1)}function td(t){const n=`${t}`.toLowerCase();if(!Ju.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Ju.get(n)}function uo(t,n){const e=td(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function __(t,n="greys"){const e=new Set,[r,i]=uo(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const el=new Map([["brbg",Wl],["prgn",Hl],["piyg",Yl],["puor",Vl],["rdbu",Xr],["rdgy",Gl],["rdylbu",Qr],["rdylgn",jl],["spectral",Xl],["burd",t=>Xr(1-t)],["buylrd",t=>Qr(1-t)],["blues",Ql],["greens",Kl],["greys",Zl],["purples",Ga],["reds",Jl],["oranges",tc],["turbo",Zf],["viridis",nc],["magma",ec],["inferno",rc],["plasma",ic],["cividis",oc],["cubehelix",Kf],["warm",ac],["cool",sc],["bugn",jf],["bupu",uc],["gnbu",lc],["orrd",cc],["pubugn",fc],["pubu",hc],["purd",dc],["rdpu",Qf],["ylgnbu",pc],["ylgn",gc],["ylorbr",mc],["ylorrd",yc],["rainbow",_c],["sinebow",wc]]);function $s(t){const n=`${t}`.toLowerCase();if(!el.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return el.get(n)}const w_=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function b_(t){return t!=null&&w_.has(`${t}`.toLowerCase())}const nd=t=>n=>t(1-n),Po=[0,1],rl=new Map([["number",fr],["rgb",Xa],["hsl",Zg],["hcl",n0],["lab",Jg]]);function ed(t){const n=`${t}`.toLowerCase();if(!rl.has(n))throw new Error(`unknown interpolator: ${n}`);return rl.get(n)}function Cr(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:s=id(t,e),unknown:u,round:c,scheme:l,interval:h,range:f=dt.get(t)===Tr?A_(e,s):dt.get(t)===Mr?E_(e,s):dt.get(t)===Dr?Po:void 0,interpolate:d=dt.get(t)===Dn?l==null&&f!==void 0?Xa:$s(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):c?zl:fr,reverse:p}){if(s=il(s),h=$r(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=ed(d)),p=!!p,f!==void 0){const g=s.length,y=(f=il(f)).length;if(g!==y){if(d.length===1)throw new Error("invalid piecewise interpolator");d=zi(d,f),f=void 0}}if(d.length===1?(p&&(d=nd(d),p=!1),f===void 0&&(f=Float64Array.from(s,(g,y)=>y/(s.length-1)),f.length===2&&(f=Po)),n.interpolate((f===Po?Sn:Ms)(d))):n.interpolate(d),a){const[g,y]=An(s);(g>0||y<0)&&(s=ka(s),(Me(s)||1)===Math.sign(g)?s[0]=0:s[s.length-1]=0)}return p&&(s=ei(s)),n.domain(s).unknown(u),i&&(n.nice(S_(i,r)),s=n.domain()),f!==void 0&&n.range(f),o&&n.clamp(o),{type:r,domain:s,range:f,scale:n,interpolate:d,interval:h}}function il(t){return t=ie(t),t.length>=2?t:[t[0],t[0]]}function S_(t,n){return t===!0?void 0:typeof t=="number"?t:L1(t,n)}function v_(t,n,e){return Cr(t,ja(),n,e)}function x_(t,n,e){return rd(t,n,{...e,exponent:.5})}function rd(t,n,{exponent:e=1,...r}){return Cr(t,Df().exponent(e),n,{...r,type:"pow"})}function $_(t,n,{base:e=10,domain:r=L_(n),...i}){return Cr(t,xf().base(e),n,{...i,domain:r})}function T_(t,n,{constant:e=1,...r}){return Cr(t,Tf().constant(e),n,r)}function M_(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=N_(n),unknown:s,interpolate:u,reverse:c}){return e===void 0&&(e=u!==void 0?jt(u,i):dt.get(t)===Dn?uo(o,i):void 0),a.length>0&&(a=Cf(a,e===void 0?{length:i}:e).quantiles()),Ts(t,n,{domain:a,range:e,reverse:c,unknown:s})}function D_(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=id(t,n),unknown:a,interpolate:s,reverse:u}){const[c,l]=An(o);let h;return e===void 0?(h=Ko(c,l,r),h[0]<=c&&h.splice(0,1),h[h.length-1]>=l&&h.pop(),r=h.length+1,e=s!==void 0?jt(s,r):dt.get(t)===Dn?uo(i,r):void 0):(h=jt(fr(c,l),r+1).slice(1,-1),c instanceof Date&&(h=h.map(f=>new Date(f)))),Me(ie(o))<0&&h.reverse(),Ts(t,n,{domain:h,range:e,reverse:u,unknown:a})}function Ts(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?jt(o,e.length+1):dt.get(t)===Dn?uo(i,e.length+1):void 0,reverse:s}){e=ie(e);const u=Me(e);if(!isNaN(u)&&!C_(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return s&&(a=ei(a)),{type:"threshold",scale:Uf(u<0?ei(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function C_(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=Ni(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function U_(t){return{type:"identity",scale:V1(dt.get(t))?bf():n=>n}}function cr(t,n=Ch){return t.length?[rr(t,({value:e})=>e===void 0?e:rr(e,n)),un(t,({value:e})=>e===void 0?e:un(e,n))]:[0,1]}function id(t,n){const e=dt.get(t);return(e===Tr||e===Dr||e===Mr?k_:cr)(n)}function k_(t){return[0,t.length?un(t,({value:n})=>n===void 0?n:un(n,Ch)):1]}function A_(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=ni(t,.5,({value:a})=>a===void 0?NaN:ni(a,.25,Ji)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/un(i);return o<1?i.map(a=>a*o):i}function E_(t,n){const e=ra(t,({value:o})=>o===void 0?NaN:ra(o,Math.abs)),r=n.map(o=>12*o/e),i=60/un(r);return i<1?r.map(o=>o*i):r}function L_(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return cr(t,Ji);if(e<0)return cr(t,hs)}return[1,10]}function N_(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function Ms(t){return(n,e)=>r=>t(n+r*(e-n))}let Oa=0,Ia;function O_(){const t=Oa;return Oa=0,Ia=void 0,t}function En(t){t!==Ia&&(Ia=t,console.warn(t),++Oa)}function lo(t,n,e,r,{type:i,nice:o,clamp:a,domain:s=cr(r),unknown:u,pivot:c=0,scheme:l,range:h,symmetric:f=!0,interpolate:d=dt.get(t)===Dn?l==null&&h!==void 0?Xa:$s(l!==void 0?l:"rdbu"):fr,reverse:p}){c=+c,s=ie(s);let[g,y]=s;if(s.length>2&&En(`Warning: the diverging ${t} scale domain contains extra elements.`),Ni(g,y)<0&&([g,y]=[y,g],p=!p),g=Math.min(g,c),y=Math.max(y,c),typeof d!="function"&&(d=ed(d)),h!==void 0&&(d=d.length===1?Ms(d)(...h):zi(d,h)),p&&(d=nd(d)),f){const w=e.apply(c),m=w-e.apply(g),v=e.apply(y)-w;m<v?g=e.invert(w-v):m>v&&(y=e.invert(w+m))}return n.domain([g,c,y]).unknown(u).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,y],pivot:c,interpolate:d,scale:n}}function I_(t,n,e){return lo(t,Wf(),B_,n,e)}function R_(t,n,e){return od(t,n,{...e,exponent:.5})}function od(t,n,{exponent:e=1,...r}){return lo(t,Vf().exponent(e=+e),W_(e),n,{...r,type:"diverging-pow"})}function P_(t,n,{base:e=10,pivot:r=1,domain:i=cr(n,r<0?hs:Ji),...o}){return lo(t,Hf().base(e=+e),z_,n,{domain:i,pivot:r,...o})}function F_(t,n,{constant:e=1,...r}){return lo(t,Yf().constant(e=+e),H_(e),n,r)}const B_={apply(t){return t},invert(t){return t}},z_={apply:Math.log,invert:Math.exp},q_={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function W_(t){return t===.5?q_:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function H_(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function ad(t,n,e,r){return Cr(t,n,e,r)}function Y_(t,n,e){return ad(t,cy(),n,e)}function V_(t,n,e){return ad(t,fy(),n,e)}const Ur=Symbol("ordinal");function sd(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:s,hint:u}){return i=$r(i,r),o===void 0&&(o=ld(e,i,t)),(r==="categorical"||r===Ur)&&(r="ordinal"),s&&(o=ei(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:u,interval:i}}function G_(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:s,...u}){r=$r(r,e),i===void 0&&(i=ld(n,r,t));let c;if(dt.get(t)===so)c=Q_(n),o=o===void 0?K_(c):Tt(o,vs);else if(dt.get(t)===Dn&&(o===void 0&&(e==="ordinal"||e===Ur)&&(o=__(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const l=$s(a),h=o[0],f=o[1]-o[0];o=({length:d})=>jt(p=>l(h+f*p),d)}else o=td(a);if(s===Ta)throw new Error(`implicit unknown on ${t} scale is not supported`);return sd(t,rs().unknown(s),n,{...u,type:e,domain:i,range:o,hint:c})}function j_(t,n,{align:e=.5,padding:r=.5,...i}){return ud(X0().align(e).padding(r),n,i,t)}function X_(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return ud(Hi().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function ud(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=sd(r,t,n,e),t.round=i,t}function ld(t,n,e){const r=new Bi;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=An(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&dt.get(e)===an)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return kg(r,Te)}function ol(t,n){let e;for(const{hint:r}of t){const i=r?.[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function Q_(t){return{fill:ol(t,"fill"),stroke:ol(t,"stroke")}}function K_(t){return Ut(t.fill)?Ry:Iy}function Ra(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:s,nice:u,clamp:c,zero:l,align:h,padding:f,projection:d,facet:{label:p=n}={},...g}={}){const y={};for(const[w,m]of t){const v=g[w],_=ew(w,m,{round:dt.get(w)===an?s:void 0,nice:u,clamp:c,zero:l,align:h,padding:f,projection:d,...v});if(_){let{label:x=w==="fx"||w==="fy"?p:n,percent:b,transform:S,inset:T,insetTop:M=T!==void 0?T:w==="y"?r:0,insetRight:k=T!==void 0?T:w==="x"?i:0,insetBottom:D=T!==void 0?T:w==="y"?o:0,insetLeft:O=T!==void 0?T:w==="x"?a:0}=v||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");_.percent=!!b,_.label=x===void 0?J_(m,_):x,_.transform=S,w==="x"||w==="fx"?(_.insetLeft=+O,_.insetRight=+k):(w==="y"||w==="fy")&&(_.insetTop=+M,_.insetBottom=+D),y[w]=_}}return y}function al(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:s,label:u}=i;n[r]=sw(i),e[r]=o,o.type=a,s!=null&&(o.interval=s),u!=null&&(o.label=u)}return e}function Z_(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?Ds(n):n;i&&sl(i,a),o&&ul(o,a);const s=i||o?cd(t,n):n;e&&sl(e,s),r&&ul(r,s)}function J_(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!se(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function tw(t){return Math.sign(Me(t.domain()))*Math.sign(Me(t.range()))}function Ds(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:u,marginBottom:c,marginLeft:l}}=t;return{marginTop:Math.max(n,s),marginRight:Math.max(e,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,l),width:o,height:a}}function cd({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:u}=Ds(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:s,height:n?n.scale.bandwidth()+r+o:u,facet:{width:s,height:u}}}function sl(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,s=o+e,u=i-a-r;t.range=[s,Math.max(s,u)],se(t)||(t.range=hd(t)),t.scale.range(t.range)}fd(t)}function ul(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,s=o+e,u=i-a-r;t.range=[Math.max(s,u),s],se(t)?t.range.reverse():t.range=hd(t),t.scale.range(t.range)}fd(t)}function fd(t){t.round===void 0&&iw(t)&&nw(t)<=30&&t.scale.round(!0)}function nw({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,s=Math.abs(r-e)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function hd(t){const n=t.scale.domain().length+dd(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function ew(t,n=[],e={}){const r=rw(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&se({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(cn)?En(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${he(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${he(r)}".`):i.some(I1)?En(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${he(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${he(r)}".`):i.some(R1)&&En(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${he(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${he(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=Ir(n,e,$i);break;case"identity":switch(dt.get(t)){case an:e=Ir(n,e,$i);break;case so:e=Ir(n,e,ow);break}break;case"utc":case"time":e=Ir(n,e,Ph);break}switch(r){case"diverging":return I_(t,n,e);case"diverging-sqrt":return R_(t,n,e);case"diverging-pow":return od(t,n,e);case"diverging-log":return P_(t,n,e);case"diverging-symlog":return F_(t,n,e);case"categorical":case"ordinal":case Ur:return G_(t,n,e);case"cyclical":case"sequential":case"linear":return v_(t,n,e);case"sqrt":return x_(t,n,e);case"threshold":return Ts(t,n,e);case"quantile":return M_(t,n,e);case"quantize":return D_(t,n,e);case"pow":return rd(t,n,e);case"log":return $_(t,n,e);case"symlog":return T_(t,n,e);case"utc":return V_(t,n,e);case"time":return Y_(t,n,e);case"point":return j_(t,n,e);case"band":return X_(t,n,e);case"identity":return U_(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function he(t){return typeof t=="symbol"?t.description:t}function ll(t){return typeof t=="string"?`${t}`.toLowerCase():t}const cl={toString:()=>"projection"};function rw(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(e=ll(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&s!=null&&(e=cl);for(const l of n){const h=ll(l.type);if(h!==void 0){if(e===void 0)e=h;else if(e!==h)throw new Error(`scale incompatible with channel: ${e} !== ${h}`)}}if(e===cl)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:l})=>l!==void 0))return;const u=dt.get(t);if(u===Tr)return"sqrt";if(u===Dr||u===Mr)return"linear";if(u===so)return"ordinal";const c=(r??i)?.length;if(c<2||c>2)return Fo(u);if(r!==void 0){if(Gu(r))return Fo(u);if(cn(r))return"utc"}else{const l=n.map(({value:h})=>h).filter(h=>h!==void 0);if(l.some(Gu))return Fo(u);if(l.some(cn))return"utc"}if(u===Dn){if(a!=null||b_(o))return"diverging";if(y_(o))return"categorical"}return"linear"}function Fo(t){switch(t){case an:return"point";case Dn:return Ur;default:return"ordinal"}}function se({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Ur}function dd({type:t}){return t==="threshold"}function iw({type:t}){return t==="point"||t==="band"}function Ti(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function Ir(t,{domain:n,...e},r){for(const i of t)i.value!==void 0&&(n===void 0&&(n=i.value?.domain),i.value=r(i.value));return{domain:n===void 0?n:r(n),...e}}function ow(t){return Tt(t,vs)}function aw(t){return n=>{if(!dt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function sw({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:u}){if(n==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const c=t.unknown?t.unknown():void 0;return{type:n,domain:ka(e),...r!==void 0&&{range:ka(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:l=>t(l),...t.invert&&{invert:l=>t.invert(l)}}}function uw(t,n){const{fx:e,fy:r}=Ra(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?Tg(i,o).map(([a,s],u)=>({x:a,y:s,i:u})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function lw(t,{x:n,y:e}){return n&&=Pa(n),e&&=Pa(e),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function Cs(t,{fx:n,fy:e}){const r=xr(t),i=n?.value,o=e?.value;return n&&e?po(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?po(r,a=>(a.fx=i[a[0]],a),a=>i[a]):po(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function cw(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:a})=>t(a)-r:()=>0,o=n?({y:a})=>n(a)-e:()=>0;return function(a){this.tagName==="svg"?(this.setAttribute("x",i(a)),this.setAttribute("y",o(a))):this.setAttribute("transform",`translate(${i(a)},${o(a)})`)}}function fw(t){const n=[],e=new Uint32Array(Ka(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const hw=new Map([["top",Bo],["right",Wo],["bottom",zo],["left",qo],["top-left",Rr(Bo,qo)],["top-right",Rr(Bo,Wo)],["bottom-left",Rr(zo,qo)],["bottom-right",Rr(zo,Wo)],["top-empty",gw],["right-empty",_w],["bottom-empty",mw],["left-empty",yw],["empty",ww]]);function dw(t){if(t==null)return null;const n=hw.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const fl=new WeakMap;function Pa(t){let n=fl.get(t);return n||fl.set(t,n=new er(Tt(t,(e,r)=>[e,r]))),n}function Rn(t,n){return Pa(t).get(n)}function pw(t,n,e){return n=vn(n),e=vn(e),t.find(r=>Object.is(vn(r.x),n)&&Object.is(vn(r.y),e))}function co(t,n,e){return pw(t,n,e)?.empty}function Bo(t,{y:n},{y:e}){return n?Rn(n,e)===0:!0}function zo(t,{y:n},{y:e}){return n?Rn(n,e)===n.length-1:!0}function qo(t,{x:n},{x:e}){return n?Rn(n,e)===0:!0}function Wo(t,{x:n},{x:e}){return n?Rn(n,e)===n.length-1:!0}function gw(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Rn(n,r);if(o>0)return co(t,e,n[o-1])}function mw(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Rn(n,r);if(o<n.length-1)return co(t,e,n[o+1])}function yw(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Rn(n,e);if(o>0)return co(t,n[o-1],r)}function _w(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Rn(n,e);if(o<n.length-1)return co(t,n[o+1],r)}function ww(t,n,{empty:e}){return e}function Rr(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Ho(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const pd=Math.PI,dn=2*pd,Yo=.618;function bw({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let s,u,c="frame";if(oe(t)){let x;if({type:t,domain:u,inset:x,insetTop:e=x!==void 0?x:e,insetRight:r=x!==void 0?x:r,insetBottom:i=x!==void 0?x:i,insetLeft:o=x!==void 0?x:o,clip:c=c,...s}=t,t==null)return}typeof t!="function"&&({type:t}=Fa(t));const{width:l,height:h,marginLeft:f,marginRight:d,marginTop:p,marginBottom:g}=a,y=l-f-d-o-r,w=h-p-g-e-i;if(t=t?.({width:y,height:w,clip:c,...s}),t==null)return;c=Sw(c,f,p,l-d,h-g);let m=f+o,v=p+e,_;if(u!=null){const[[x,b],[S,T]]=Ja(t).bounds(u),M=Math.min(y/(S-x),w/(T-b));M>0?(m-=(M*(x+S)-y)/2,v-=(M*(b+T)-w)/2,_=di({point(k,D){this.stream.point(k*M+m,D*M+v)}})):En("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??=m===0&&v===0?gd():di({point(x,b){this.stream.point(x+m,b+v)}}),{stream:x=>t.stream(_.stream(c(x)))}}function Fa(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Yt(N0,.7463,.4673);case"albers":return Pr(lf,.7463,.4673);case"azimuthal-equal-area":return Yt(O0,4,4);case"azimuthal-equidistant":return Yt(I0,dn,dn);case"conic-conformal":return Pr(F0,dn,dn);case"conic-equal-area":return Pr(pi,6.1702,2.9781);case"conic-equidistant":return Pr(q0,7.312,3.6282);case"equal-earth":return Yt(H0,5.4133,2.6347);case"equirectangular":return Yt(B0,dn,pd);case"gnomonic":return Yt(Y0,3.4641,3.4641);case"identity":return{type:gd};case"reflect-y":return{type:vw};case"mercator":return Yt(R0,dn,dn);case"orthographic":return Yt(V0,2,2);case"stereographic":return Yt(G0,2,2);case"transverse-mercator":return Yt(j0,dn,dn);default:throw new Error(`unknown projection type: ${t}`)}}function Sw(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Vc(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Yt(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{const u=t();return a!=null&&u.precision?.(a),o!=null&&u.rotate?.(o),typeof s=="number"&&u.clipAngle?.(s),r!=null&&(u.scale(Math.min(r/n,i/e)),u.translate([r/2,i/2])),u},aspectRatio:e/n}}function Pr(t,n,e){const{type:r,aspectRatio:i}=Yt(t,n,e);return{type:o=>{const{parallels:a,domain:s,width:u,height:c}=o,l=r(o);return a!=null&&(l.parallels(a),s===void 0&&u!=null&&l.fitSize([u,c],{type:"Sphere"})),l},aspectRatio:i}}const gd=Sn({stream:t=>t}),vw=Sn(di({point(t,n){this.stream.point(t,-n)}}));function xw(t,n,e,r){const i=e[t],o=e[n],a=i.length,s=e[t]=new Float64Array(a).fill(NaN),u=e[n]=new Float64Array(a).fill(NaN);let c;const l=r.stream({point(h,f){s[c]=h,u[c]=f}});for(c=0;c<a;++c)l.point(i[c],o[c])}function $w({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(oe(t)&&(t=t.type),t!=null)}function Tw(t){if(typeof t?.stream=="function")return Yo;if(oe(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?Fa(t).type:t,[[i,o],[a,s]]=Ja(r({...e,width:100,height:100})).bounds(n),u=(s-o)/(a-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Yo}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=Fa(t);if(n)return n}return Yo}}function Mw(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,s){n.push(a),e.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Yn(a,o);return[r,i]}function Dw({x:t,y:n}){if(t||n)return t??=e=>e,n??=e=>e,di({point(e,r){this.stream.point(t(e),n(r))}})}function Us(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:Wh(e)}}function Mt(t,{document:n}){return vt(bc(t).call(n.documentElement))}const Ba=Symbol("unset");function ks(t){return(t.length===1?Cw:Uw)(t)}function Cw(t){let n,e=Ba;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function Uw(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const kw=ks(t=>new Intl.NumberFormat(t));ks((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));ks((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function Aw(t="en-US"){const n=kw(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function Ew(t){return f1(t,"Invalid Date")}function Lw(t="en-US"){const n=Aw(t);return e=>(e instanceof Date?Ew:typeof e=="number"?n:xt)(e)}const ke=Lw(),Lt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Nw=0;function md(){return`plot-clip-${++Nw}`}function Ow(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:u,stroke:c,strokeWidth:l,strokeOpacity:h,strokeLinejoin:f,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:y,opacity:w,mixBlendMode:m,imageFilter:v,paintOrder:_,pointerEvents:x,shapeRendering:b,channels:S},{ariaLabel:T,fill:M="currentColor",fillOpacity:k,stroke:D="none",strokeOpacity:O,strokeWidth:W,strokeLinecap:I,strokeLinejoin:C,strokeMiterlimit:P,paintOrder:K}){M===null&&(s=null,u=null),D===null&&(c=null,h=null),Ut(M)?!Ut(D)&&(!Ut(s)||S?.fill)&&(D="none"):Ut(D)&&(!Ut(c)||S?.stroke)&&(M="none");const[V,A]=te(s,M),[F,B]=Ct(u,k),[q,R]=te(c,D),[J,nt]=Ct(h,O),[et,L]=Ct(w);ur(R)||(l===void 0&&(l=W),d===void 0&&(d=I),f===void 0&&(f=C),p===void 0&&!z1(f)&&(p=P),!ur(A)&&_===void 0&&(_=K));const[rt,$]=Ct(l);return M!==null&&(t.fill=St(A,"currentColor"),t.fillOpacity=ze(B,1)),D!==null&&(t.stroke=St(R,"none"),t.strokeWidth=ze($,1),t.strokeOpacity=ze(nt,1),t.strokeLinejoin=St(f,"miter"),t.strokeLinecap=St(d,"butt"),t.strokeMiterlimit=ze(p,4),t.strokeDasharray=St(g,"none"),t.strokeDashoffset=St(y,"0")),t.target=xt(a),t.ariaLabel=xt(T),t.ariaDescription=xt(i),t.ariaHidden=xt(o),t.opacity=ze(L,1),t.mixBlendMode=St(m,"normal"),t.imageFilter=St(v,"none"),t.paintOrder=St(_,"normal"),t.pointerEvents=St(x,"auto"),t.shapeRendering=St(b,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:V,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:q,scale:"auto",optional:!0},strokeOpacity:{value:J,scale:"auto",optional:!0},strokeWidth:{value:rt,optional:!0},opacity:{value:et,scale:"auto",optional:!0}}}function Iw(t,n){n&&t.filter(e=>fs(n[e])).append("title").call(Pw,n)}function Rw(t,n){n&&t.filter(([e])=>fs(n[e])).append("title").call(Fw,n)}function Pw(t,n){n&&t.text(e=>ke(n[e]))}function Fw(t,n){n&&t.text(([e])=>ke(n[e]))}function Le(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,strokeWidth:c,opacity:l,href:h}){r&&X(t,"aria-label",f=>r[f]),o&&X(t,"fill",f=>o[f]),a&&X(t,"fill-opacity",f=>a[f]),s&&X(t,"stroke",f=>s[f]),u&&X(t,"stroke-opacity",f=>u[f]),c&&X(t,"stroke-width",f=>c[f]),l&&X(t,"opacity",f=>l[f]),h&&yd(t,f=>h[f],n),e||Iw(t,i)}function Bw(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,strokeWidth:c,opacity:l,href:h}){r&&X(t,"aria-label",([f])=>r[f]),o&&X(t,"fill",([f])=>o[f]),a&&X(t,"fill-opacity",([f])=>a[f]),s&&X(t,"stroke",([f])=>s[f]),u&&X(t,"stroke-opacity",([f])=>u[f]),c&&X(t,"stroke-width",([f])=>c[f]),l&&X(t,"opacity",([f])=>l[f]),h&&yd(t,([f])=>h[f],n),e||Rw(t,i)}function zw({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:u},{tip:c}){return[t,c?void 0:n,e,r,i,o,a,s,u].filter(l=>l!==void 0)}function qw(t,n,e){const r=Dg(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&En("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*Ww(t,n,e,r){const{z:i}=e,{z:o}=r,a=zw(r,e),s=[...n,...a];for(const u of o?qw(t,o,i):[t]){let c,l;t:for(const h of u){for(const f of s)if(!Nn(f[h])){l&&l.push(-1);continue t}if(c===void 0){l&&(yield l),c=a.map(f=>vn(f[h])),l=[h];continue}l.push(h);for(let f=0;f<a.length;++f)if(vn(a[f][h])!==c[f]){yield l,c=a.map(p=>vn(p[h])),l=[h];continue t}}l&&(yield l)}}function Hw(t,n,e,r){let i;const{clip:o=r.clip}=n;o==="frame"?(t=Mt("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=Vw(r,e)):o&&(i=jw(o,r)),X(t,"aria-label",n.ariaLabel),X(t,"aria-description",n.ariaDescription),X(t,"aria-hidden",n.ariaHidden),X(t,"clip-path",i)}function Yw(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=md();vt(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const Vw=Yw((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:s,marginBottom:u}=e;t.append("rect").attr("x",o).attr("y",s).attr("width",r-a-o).attr("height",i-s-u)}),hl=new WeakMap,Gw={type:"Sphere"};function jw(t,n){let e,r;if((e=hl.get(n))||hl.set(n,e=new WeakMap),t.type==="Sphere"&&(t=Gw),!(r=e.get(t))){const i=md();vt(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function Pn(t,n,e,r){Hw(t,n,e,r),X(t,"class",n.className),X(t,"fill",n.fill),X(t,"fill-opacity",n.fillOpacity),X(t,"stroke",n.stroke),X(t,"stroke-width",n.strokeWidth),X(t,"stroke-opacity",n.strokeOpacity),X(t,"stroke-linejoin",n.strokeLinejoin),X(t,"stroke-linecap",n.strokeLinecap),X(t,"stroke-miterlimit",n.strokeMiterlimit),X(t,"stroke-dasharray",n.strokeDasharray),X(t,"stroke-dashoffset",n.strokeDashoffset),X(t,"shape-rendering",n.shapeRendering),X(t,"filter",n.imageFilter),X(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;X(t,"pointer-events",i)}function Fn(t,n){Xw(t,"mix-blend-mode",n.mixBlendMode),X(t,"opacity",n.opacity)}function yd(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(Kr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Kr.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function X(t,n,e){e!=null&&t.attr(n,e)}function Xw(t,n,e){e!=null&&t.style(n,e)}function Bn(t,n,{x:e,y:r},i=Lt,o=Lt){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function St(t,n){if((t=xt(t))!==n)return t}function ze(t,n){if((t=$t(t))!==n)return t}const Qw=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function As(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!Qw.test(t))throw new Error(`invalid class name: ${t}`);return t}function Es(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function kr({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class Zt{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:u,sort:c,dx:l=0,dy:h=0,margin:f=0,marginTop:d=f,marginRight:p=f,marginBottom:g=f,marginLeft:y=f,className:w,clip:m=i?.clip,channels:v,tip:_,render:x}=r;if(this.data=n,this.sort=Ce(c)?c:null,this.initializer=Ue(r).initializer,this.transform=this.initializer?r.transform:Gh(r).transform,o===null||o===!1?this.facet=null:(this.facet=Kt(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===Vr&&typeof s=="string"?[s]:s,this.fy=n===Vr&&typeof u=="string"?[u]:u),this.facetAnchor=dw(a),e=qh(e),v!==void 0&&(e={...Kw(v),...e}),i!==void 0&&(e={...Ow(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([b,S])=>{if(no(S.value)){const{value:T,label:M=S.label,scale:k=S.scale}=S.value;S={...S,label:M,scale:k,value:T}}if(n===Vr&&typeof S.value=="string"){const{value:T}=S;S={...S,value:[T]}}return[b,S]}).filter(([b,{value:S,optional:T}])=>{if(S!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${b}`)})),this.dx=+l,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+y,this.clip=Wh(m),this.tip=Zw(_),this.className=xt(w),this.facet==="super"){if(s||u)throw new Error("super-faceting cannot use fx or fy");for(const b in this.channels){const{scale:S}=e[b];if(!(S!=="x"&&S!=="y"))throw new Error("super-faceting cannot use x or y")}}x!=null&&(this.render=wd(x,this.render))}initialize(n,e,r){let i=De(this.data);n===void 0&&i!=null&&(n=[xr(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=De(i)),n!==void 0&&(n.original=o);const a=f_(this.channels,i);return this.sort!=null&&d_(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=Nn}=e[i];if(o!==null){const a=r[i];n=n.filter(s=>o(a[s]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&xw(i,o,e,r.projection)}}scale(n,e,r){const i=h_(n,e);return r.projection&&this.project(n,i,r),i}}function _d(...t){return t.plot=Zt.prototype.plot,t}function wd(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,s){return t.call(this,e,r,i,o,a,(u,c,l,h,f)=>n.call(this,u,c,l,h,f,s))}}function Kw(t){return Object.fromEntries(Object.entries(qh(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:io(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function Zw(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Kt(t,"tip",["x","y","xy"]):t}function bd(t,n){return t?.tip===!0?{...t,tip:n}:oe(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function Jw(t,n,e={}){let r=.5-Lt,i=.5+Lt,o=.5+Lt,a=.5-Lt;for(const{marginTop:g,marginRight:y,marginBottom:w,marginLeft:m}of n)g>r&&(r=g),y>i&&(i=y),w>o&&(o=w),m>a&&(a=m);let{margin:s,marginTop:u=s!==void 0?s:r,marginRight:c=s!==void 0?s:i,marginBottom:l=s!==void 0?s:o,marginLeft:h=s!==void 0?s:a}=e;u=+u,c=+c,l=+l,h=+h;let{width:f=640,height:d=t2(t,e,{width:f,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+l-o)}=e;f=+f,d=+d;const p={width:f,height:d,marginTop:u,marginRight:c,marginBottom:l,marginLeft:h};if(t.fx||t.fy){let{margin:g,marginTop:y=g!==void 0?g:u,marginRight:w=g!==void 0?g:c,marginBottom:m=g!==void 0?g:l,marginLeft:v=g!==void 0?g:h}=e.facet??{};y=+y,w=+w,m=+m,v=+v,p.facet={marginTop:y,marginRight:w,marginBottom:m,marginLeft:v}}return p}function t2({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:l}){const h=e&&e.scale.domain().length||1,f=Tw(i);if(f){const p=r?r.scale.domain().length:1,g=(1.1*h-.1)/(1.1*p-.1)*f,y=Math.max(.1,Math.min(10,g));return Math.round((a-l-u)*y+s+c)}const d=n?se(n)?n.scale.domain().length||1:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=dl("y",n)/(dl("x",t)*o),g=r?r.scale.bandwidth():1,y=e?e.scale.bandwidth():1,w=g*(a-l-u)-t.insetLeft-t.insetRight;return(p*w+n.insetTop+n.insetBottom)/y+s+c}return!!(n||e)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function dl(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=n.scale.exponent();i=u=>Math.pow(u,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=An(r);return Math.abs(i(a)-i(o))}const pl=new WeakMap;function Ls(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:s,render:u,...c}={}){return a=+a,i!=null&&(e??=null,s={...s,px:{value:i,scale:"x"}}),o!=null&&(r??=null,s={...s,py:{value:o,scale:"y"}}),{x:e,y:r,channels:s,...c,render:wd(function(l,h,f,d,p,g){p={...p,pointerSticky:!1};const y=p.ownerSVGElement,{data:w}=p.getMarkState(this);let m=pl.get(y);m||pl.set(y,m={sticky:!1,roots:[],renders:[]});let v=m.renders.push(R)-1;const{x:_,y:x,fx:b,fy:S}=h;let T=b?b(l.fx)-d.marginLeft:0,M=S?S(l.fy)-d.marginTop:0;_?.bandwidth&&(T+=_.bandwidth()/2),x?.bandwidth&&(M+=x.bandwidth()/2);const k=l.fi!=null;let D;if(k){let L=m.facetStates;L||(m.facetStates=L=new Map),D=L.get(this),D||L.set(this,D=new Map)}const[O,W]=kr(this,d),{px:I,py:C}=f,P=I?L=>I[L]:Sd(f,O),K=C?L=>C[L]:vd(f,W);let V,A,F,B;function q(L,rt){if(k)if(B&&(B=cancelAnimationFrame(B)),L==null)D.delete(l.fi);else{D.set(l.fi,rt),B=requestAnimationFrame(()=>{B=null;for(const[$,N]of D)if(N<rt||N===rt&&$<l.fi){L=null;break}R(L)});return}R(L)}function R(L){if(V===L&&F===m.sticky)return;V=L,F=p.pointerSticky=m.sticky;const rt=V==null?[]:[V];k&&(rt.fx=l.fx,rt.fy=l.fy,rt.fi=l.fi);const $=g(rt,h,f,d,p);if(A){if(k){const N=A.parentNode,H=A.getAttribute("transform"),U=$.getAttribute("transform");H?$.setAttribute("transform",H):$.removeAttribute("transform"),U?N.setAttribute("transform",U):N.removeAttribute("transform"),$.removeAttribute("aria-label"),$.removeAttribute("aria-description"),$.removeAttribute("aria-hidden")}A.replaceWith($)}if(m.roots[v]=A=$,!(V==null&&D?.size>1)){const N=V==null?null:vr(w)?w[V]:w.get(V);p.dispatchValue(N)}return $}function J(L){if(m.sticky||L.pointerType==="mouse"&&L.buttons===1)return;let[rt,$]=jg(L);rt-=T,$-=M;const N=rt<d.marginLeft||rt>d.width-d.marginRight?1:t,H=$<d.marginTop||$>d.height-d.marginBottom?1:n;let U=null,ut=a*a;for(const G of l){const ct=N*(P(G)-rt),pt=H*(K(G)-$),At=ct*ct+pt*pt;At<=ut&&(U=G,ut=At)}if(U!=null&&(t!==1||n!==1)){const G=P(U)-rt,ct=K(U)-$;ut=G*G+ct*ct}q(U,ut)}function nt(L){L.pointerType==="mouse"&&V!=null&&(m.sticky&&m.roots.some(rt=>rt?.contains(L.target))||(m.sticky?(m.sticky=!1,m.renders.forEach(rt=>rt(null))):(m.sticky=!0,R(V)),L.stopImmediatePropagation()))}function et(L){L.pointerType==="mouse"&&(m.sticky||q(null))}return y.addEventListener("pointerenter",J),y.addEventListener("pointermove",J),y.addEventListener("pointerdown",nt),y.addEventListener("pointerleave",et),R(null)},u)}}function n2(t){return Ls(1,1,t)}function e2(t){return Ls(1,.01,t)}function gl(t){return Ls(.01,1,t)}function Sd({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function vd({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function xd(t){return se(t)&&t.interval===void 0?void 0:"tabular-nums"}function r2(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:u=16+r,marginLeft:c=0,style:l,ticks:h=(i-c-s)/64,tickFormat:f,fontVariant:d=xd(t),round:p=!0,opacity:g,className:y}=n;const w=Us(n);y=As(y),g=Ct(g)[1],f===null&&(f=()=>null);const m=Mt("svg",w).attr("class",`${y}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(O=>O.append("style").text(`:where(.${y}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${y}-ramp text) {
  white-space: pre;
}`)).call(Es,l);let v=O=>O.selectAll(".tick line").attr("y1",a+u-o),_;const x=p?(O,W)=>O.rangeRound(W):(O,W)=>O.range(W),{type:b,domain:S,range:T,interpolate:M,scale:k,pivot:D}=t;if(M){const O=T===void 0?M:zi(M.length===1?Ms(M):M,T);_=x(k.copy(),jt(fr(c,i-s),Math.min(S.length+(D!==void 0),T===void 0?1/0:T.length)));const W=256,I=w.document.createElement("canvas");I.width=W,I.height=1;const C=I.getContext("2d");for(let P=0,K=W-1;P<W;++P)C.fillStyle=O(P/K),C.fillRect(P,0,1,1);m.append("image").attr("opacity",g).attr("x",c).attr("y",a).attr("width",i-c-s).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",I.toDataURL())}else if(b==="threshold"){const O=S,W=f===void 0?I=>I:typeof f=="string"?Ai(f):f;_=x(ja().domain([-1,T.length-1]),[c,i-s]),m.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(I,C)=>_(C-1)).attr("y",a).attr("width",(I,C)=>_(C)-_(C-1)).attr("height",o-a-u).attr("fill",I=>I),h=Tt(O,(I,C)=>C),f=I=>W(O[I],I)}else _=x(Hi().domain(S),[c,i-s]),m.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",_).attr("y",a).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-a-u).attr("fill",k),v=()=>{};return m.append("g").attr("transform",`translate(0,${o-u})`).call(Yg(_).ticks(Array.isArray(h)?null:h,typeof f=="string"?f:void 0).tickFormat(typeof f=="function"?f:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",St(d,"normal")).call(v).call(O=>O.select(".domain").remove()),e!==void 0&&m.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),m.node()}const $d=Math.PI/180;function Ns(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Vo(e),t.markerMid=Vo(r),t.markerEnd=Vo(i)}function Vo(t){if(t==null||t===!1)return null;if(t===!0)return yl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return ml("auto");case"arrow-reverse":return ml("auto-start-reverse");case"dot":return i2;case"circle":case"circle-fill":return yl;case"circle-stroke":return o2;case"tick":return Go("auto");case"tick-x":return Go(90);case"tick-y":return Go(0)}throw new Error(`invalid marker: ${t}`)}function ml(t){return(n,e)=>Mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function i2(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function yl(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function o2(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function Go(t){return(n,e)=>Mt("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let a2=0;function Td(t,n,{stroke:e},r){return Dd(t,n,e&&(i=>e[i]),null,r)}function s2(t,n,{stroke:e,z:r},i){return Dd(t,n,e&&(([o])=>e[o]),r,i)}const za=1,Md=2;function u2(t,n){const e=new Uint8Array(n.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=Ba;o<i;++o){const s=r[o];if(s.length>1){const u=s[0];a!==(a=vn(n[u]))&&(e[u]|=za)}}for(let o=i-1,a=Ba;o>=0;--o){const s=r[o];if(s.length>1){const u=s[0];a!==(a=vn(n[u]))&&(e[u]|=Md)}}return([o])=>e[o]}function Dd(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,s){if(!n&&!e&&!r)return;const u=new Map,c=a&&u2(t,a);function l(h,f,d){return function(p){if(d&&!d(p))return;const g=o(p);let y=u.get(f);y||u.set(f,y=new Map);let w=y.get(g);if(!w){const m=this.parentNode.insertBefore(f(g,s),this),v=`plot-marker-${++a2}`;m.setAttribute("id",v),y.set(g,w=`url(#${v})`)}this.setAttribute(h,w)}}n&&t.each(l("marker-start",n,c&&(h=>c(h)&za))),e&&c&&t.each(l("marker-start",e,h=>!(c(h)&za))),e&&t.each(l("marker-mid",e)),r&&t.each(l("marker-end",r,c&&(h=>c(h)&Md)))}function Cd({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=kd(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Ud({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=kd(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function kd(t,n,e){return t===void 0&&n===void 0&&e===void 0?Lt?[1,0]:[.5,.5]:[n,e]}function Ad(t,{interval:n}){return t={...io(t)},t.interval=ws(t.interval===void 0?n:t.interval),t}function Ed(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:s,interval:u}=Ad(i,e);if(s==null||u==null&&!r)return e;const c=ro(i);if(u==null){let d;const p={transform:g=>d||(d=On(g,s)),label:c};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let l,h;function f(d){return h!==void 0&&d===l?h:h=Tt(On(l=d,s),p=>u.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:f,label:c}:o,[`${t}2`]:a===void 0?{transform:d=>f(d).map(p=>u.offset(p)),label:c}:a})}function Ld(t,n,e){const{[t]:r}=e,{value:i,interval:o}=Ad(r,e);return i==null||o==null?e:n({...e,[t]:{label:ro(r),transform:a=>{const s=Tt(On(a,i),c=>o.floor(c)),u=s.map(c=>o.offset(c));return s.map(cn(s)?(c,l)=>c==null||isNaN(c=+c)||(l=u[l],l==null)||isNaN(l=+l)?void 0:new Date((c+l)/2):(c,l)=>c==null||(l=u[l],l==null)?NaN:(+c+ +l)/2)}}})}function l2(t={}){return Ed("x",Cd,t)}function c2(t={}){return Ed("y",Ud,t)}function f2(t={}){return Ld("x",Cd,t)}function h2(t={}){return Ld("y",Ud,t)}const Nd={ariaLabel:"rule",fill:null,stroke:"currentColor"};class d2 extends Zt{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:u=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},bd(e,"x"),Nd),this.insetTop=$t(s),this.insetBottom=$t(u),Ns(this,e)}render(n,e,r,i,o){const{x:a,y:s}=e,{x:u,y1:c,y2:l}=r,{width:h,height:f,marginTop:d,marginRight:p,marginLeft:g,marginBottom:y}=i,{insetTop:w,insetBottom:m}=this;return Mt("svg:g",o).call(Pn,this,i,o).call(Bn,this,{x:u&&a},Lt,0).call(v=>v.selectAll().data(n).enter().append("line").call(Fn,this).attr("x1",u?_=>u[_]:(g+h-p)/2).attr("x2",u?_=>u[_]:(g+h-p)/2).attr("y1",c&&!Ti(s)?_=>c[_]+w:d+w).attr("y2",l&&!Ti(s)?s.bandwidth?_=>l[_]+s.bandwidth()-m:_=>l[_]-m:f-y-m).call(Le,this,r).call(Td,this,r,o)).node()}}class p2 extends Zt{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:u=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},bd(e,"y"),Nd),this.insetRight=$t(s),this.insetLeft=$t(u),Ns(this,e)}render(n,e,r,i,o){const{x:a,y:s}=e,{y:u,x1:c,x2:l}=r,{width:h,height:f,marginTop:d,marginRight:p,marginLeft:g,marginBottom:y}=i,{insetLeft:w,insetRight:m}=this;return Mt("svg:g",o).call(Pn,this,i,o).call(Bn,this,{y:u&&s},0,Lt).call(v=>v.selectAll().data(n).enter().append("line").call(Fn,this).attr("x1",c&&!Ti(a)?_=>c[_]+w:g+w).attr("x2",l&&!Ti(a)?a.bandwidth?_=>l[_]+a.bandwidth()-m:_=>l[_]-m:h-p-m).attr("y1",u?_=>u[_]:(d+f-y)/2).attr("y2",u?_=>u[_]:(d+f-y)/2).call(Le,this,r).call(Td,this,r,o)).node()}}function Gr(t,n){let{x:e=Mn,y:r,y1:i,y2:o,...a}=c2(n);return[i,o]=Od(r,i,o),new d2(t,{...a,x:e,y1:i,y2:o})}function g2(t,n){let{y:e=Mn,x:r,x1:i,x2:o,...a}=l2(n);return[i,o]=Od(r,i,o),new p2(t,{...a,y:e,x1:i,x2:o})}function Od(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function Os(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const m2={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Id="­";class Is extends Zt{constructor(n,e={}){const{x:r,y:i,text:o=ae(n)&&zh(n)?Mn:$1,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:l=1/0,textOverflow:h,monospace:f,fontFamily:d=f?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:y,fontWeight:w,rotate:m}=e,[v,_]=Ct(m,0),[x,b]=v2(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:x,optional:!0},rotate:{value:O1(v),optional:!0},text:{value:o,filter:fs,optional:!0}},e,m2),this.rotate=_,this.textAnchor=St(s,"middle"),this.lineAnchor=Kt(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.textOverflow=Rd(h),this.monospace=!!f,this.fontFamily=xt(d),this.fontSize=b,this.fontStyle=xt(g),this.fontVariant=xt(y),this.fontWeight=xt(w),this.frameAnchor=ao(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=Fd(this),this.clipLine=Bd(this)}render(n,e,r,i,o){const{x:a,y:s}=e,{x:u,y:c,rotate:l,text:h,title:f,fontSize:d}=r,{rotate:p}=this,[g,y]=kr(this,i);return Mt("svg:g",o).call(Pn,this,i,o).call(Pd,this,h,i).call(Bn,this,{x:u&&a,y:c&&s}).call(w=>w.selectAll().data(n).enter().append("text").call(Fn,this).call(y2,this,h,f).attr("transform",Os`translate(${u?m=>u[m]:g},${c?m=>c[m]:y})${l?m=>` rotate(${l[m]})`:p?` rotate(${p})`:""}`).call(X,"font-size",d&&(m=>d[m])).call(Le,this,r)).node()}}function Rd(t){return t==null?null:Kt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function y2(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:u}=n;t.each(function(c){const l=s(ke(e[c])??"").map(u),h=l.length,f=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!l[p])continue;const g=this.ownerDocument.createElementNS(Kr.svg,"tspan");g.setAttribute("x",0),p===d-1?g.setAttribute("y",`${(f+p)*o}em`):g.setAttribute("dy",`${d*o}em`),g.textContent=l[p],this.appendChild(g),d=0}}else f&&this.setAttribute("y",`${f*o}em`),this.textContent=l[0];if(a&&!r&&l[0]!==e[c]){const d=this.ownerDocument.createElementNS(Kr.svg,"title");d.textContent=e[c],this.appendChild(d)}})}function Mi(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=eo(n,e)),new Is(t,{...r,x:n,y:e})}function _2(t,{x:n=Mn,...e}={}){return new Is(t,h2({...e,x:n}))}function w2(t,{y:n=Mn,...e}={}){return new Is(t,f2({...e,y:n}))}function Pd(t,n,e){X(t,"text-anchor",n.textAnchor),X(t,"font-family",n.fontFamily),X(t,"font-size",n.fontSize),X(t,"font-style",n.fontStyle),X(t,"font-variant",n.fontVariant===void 0?b2(e):n.fontVariant),X(t,"font-weight",n.fontWeight)}function b2(t){return t&&(P1(t)||cn(t))?"tabular-nums":void 0}const S2=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function v2(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),S2.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function x2(t,n,e){const r=[];let i,o=0;for(const[a,s,u]of $2(t)){if(i===void 0&&(i=a),o>i&&e(t,i,s)>n&&(r.push(t.slice(i,o)+(t[o-1]===Id?"-":"")),i=a),u){r.push(t.slice(i,s)),i=void 0;continue}o=s}return r}function*$2(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case Id:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const _l={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Rs(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ne(t,i))r+=_l[t[i]]??(qd(t,i)?120:_l.e);return r}function Ps(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ne(t,i))r+=qd(t,i)?126:63;return r}function Fd({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?Ps:Rs,i=n*100;return o=>x2(o,i,r)}function Bd({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?Ps:Rs,i=n*100;switch(e){case"clip-start":return o=>bl(o,i,r,"");case"clip-end":return o=>wl(o,i,r,"");case"ellipsis-start":return o=>bl(o,i,r,ye);case"ellipsis-middle":return o=>T2(o,i,r,ye);case"ellipsis-end":return o=>wl(o,i,r,ye)}}const ye="…";function Ae(t,n,e,r){const i=[];let o=0;for(let a=0,s=0,u=t.length;a<u;a=s){s=Ne(t,a);const c=e(t,a,s);if(o+c>n){for(o+=r;o>n&&a>0;)s=a,a=i.pop(),o-=e(t,a,s);return[a,n-o]}o+=c,i.push(a)}return[-1,0]}function wl(t,n,e,r){t=t.trim();const i=e(r),[o]=Ae(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function T2(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,s]=Ae(t,n/2,e,o),[u]=Ae(t,i-n/2-s+o,e,-o);return u<0?r:t.slice(0,a).trimEnd()+r+t.slice(Ne(t,u)).trimStart()}function bl(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=Ae(t,i-n+o,e,-o);return a<0?r:r+t.slice(Ne(t,a)).trimStart()}const qa=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Sl=new RegExp("\\p{Extended_Pictographic}","uy");function Ne(t,n){return n+=M2(t,n)?2:1,C2(t,n)&&(n=qa.lastIndex),D2(t,n)?Ne(t,n+1):n}function zd(t,n){return t.charCodeAt(n)<128}function M2(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function D2(t,n){return t.charCodeAt(n)===8205}function C2(t,n){return zd(t,n)?!1:(qa.lastIndex=n,qa.test(t))}function qd(t,n){return zd(t,n)?!1:(Sl.lastIndex=n,Sl.test(t))}const U2={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Wd=3.5,k2=Wd*5,Hd={draw(t,n,e){const r=n*e/k2;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},A2={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},E2=new Map([["arrow",Hd],["spike",A2]]);function L2(t){return t&&typeof t.draw=="function"}function N2(t){if(L2(t))return t;const n=E2.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class Yd extends Zt{constructor(n,e={}){const{x:r,y:i,r:o=Wd,length:a,rotate:s,shape:u=Hd,anchor:c="middle",frameAnchor:l}=e,[h,f]=Ct(a,12),[d,p]=Ct(s,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},e,U2),this.r=+o,this.length=f,this.rotate=p,this.shape=N2(u),this.anchor=Kt(c,"anchor",["start","middle","end"]),this.frameAnchor=ao(l)}render(n,e,r,i,o){const{x:a,y:s}=e,{x:u,y:c,length:l,rotate:h}=r,{length:f,rotate:d,anchor:p,shape:g,r:y}=this,[w,m]=kr(this,i);return Mt("svg:g",o).call(Pn,this,i,o).call(Bn,this,{x:u&&a,y:c&&s}).call(v=>v.selectAll().data(n).enter().append("path").call(Fn,this).attr("transform",Os`translate(${u?_=>u[_]:w},${c?_=>c[_]:m})${h?_=>` rotate(${h[_]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?l?_=>` translate(0,${l[_]})`:` translate(0,${f})`:l?_=>` translate(0,${l[_]/2})`:` translate(0,${f/2})`}`).attr("d",l?_=>{const x=Vn();return g.draw(x,l[_],y),x}:(()=>{const _=Vn();return g.draw(_,f,y),_})()).call(Le,this,r)).node()}}function O2(t,n={}){const{x:e=Mn,...r}=n;return new Yd(t,{...r,x:e})}function I2(t,n={}){const{y:e=Mn,...r}=n;return new Yd(t,{...r,y:e})}function zn(t,n){return arguments.length<2&&!ae(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function fo({anchor:t}={},n){return t===void 0?n[0]:Kt(t,"anchor",n)}function Vd(t){return fo(t,["left","right"])}function Gd(t){return fo(t,["right","left"])}function jd(t){return fo(t,["bottom","top"])}function Xd(t){return fo(t,["top","bottom"])}function Qd(){const[t,n]=zn(...arguments);return Zd("y",Vd(n),t,n)}function R2(){const[t,n]=zn(...arguments);return Zd("fy",Gd(n),t,n)}function Kd(){const[t,n]=zn(...arguments);return Jd("x",jd(n),t,n)}function P2(){const[t,n]=zn(...arguments);return Jd("fx",Xd(n),t,n)}function Zd(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:f,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:y,x:w,margin:m,marginTop:v=m===void 0?20:m,marginRight:_=m===void 0?n==="right"?40:0:m,marginBottom:x=m===void 0?20:m,marginLeft:b=m===void 0?n==="left"?40:0:m,label:S,labelAnchor:T,labelArrow:M,labelOffset:k,ariaLabel:D=`${t}-axis`,...O}){return p=$t(p),g=$t(g),y=$t(y),T!==void 0&&(T=Kt(T,"labelAnchor",["center","top","bottom"])),M=sp(M),_d(p&&!Ut(o)?F2(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:y,x:w,ariaLabel:D,...O}):null,Ut(u)?null:z2(t,n,e,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:f,strokeWidth:d,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:y,x:w,marginTop:v,marginRight:_,marginBottom:x,marginLeft:b,ariaLabel:D,...O}),!Ut(u)&&S!==null?Mi([],rp({fill:u,fillOpacity:c,...O},function(W,I,C,P,K){const V=P[t],{marginTop:A,marginRight:F,marginBottom:B,marginLeft:q}=t==="y"&&K.inset||K,R=T??(V.bandwidth?"center":"top"),J=k??(n==="right"?F:q)-3;return R==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=R,this.frameAnchor=`${R}-${n}`,this.rotate=0),this.dy=R==="top"?3-A:R==="bottom"?B-3:0,this.dx=n==="right"?J:-J,this.ariaLabel=`${D} label`,{facets:[[0]],channels:{text:{value:[ap(t,V,{anchor:n,label:S,labelAnchor:R,labelArrow:M})]}}}})):null)}function Jd(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:f,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:y,y:w,margin:m,marginTop:v=m===void 0?n==="top"?30:0:m,marginRight:_=m===void 0?20:m,marginBottom:x=m===void 0?n==="bottom"?30:0:m,marginLeft:b=m===void 0?20:m,label:S,labelAnchor:T,labelArrow:M,labelOffset:k,ariaLabel:D=`${t}-axis`,...O}){return p=$t(p),g=$t(g),y=$t(y),T!==void 0&&(T=Kt(T,"labelAnchor",["center","left","right"])),M=sp(M),_d(p&&!Ut(o)?B2(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:y,y:w,ariaLabel:D,...O}):null,Ut(u)?null:q2(t,n,e,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:f,strokeWidth:d,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:y,y:w,marginTop:v,marginRight:_,marginBottom:x,marginLeft:b,ariaLabel:D,...O}),!Ut(u)&&S!==null?Mi([],rp({fill:u,fillOpacity:c,...O},function(W,I,C,P,K){const V=P[t],{marginTop:A,marginRight:F,marginBottom:B,marginLeft:q}=t==="x"&&K.inset||K,R=T??(V.bandwidth?"center":"right"),J=k??(n==="top"?A:B)-3;return R==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${R}`,this.textAnchor=R==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-J:J,this.dx=R==="right"?F-3:R==="left"?3-q:0,this.ariaLabel=`${D} label`,{facets:[[0]],channels:{text:{value:[ap(t,V,{anchor:n,label:S,labelAnchor:R,labelArrow:M})]}}}})):null)}function F2(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:s=n,tickSize:u,inset:c=0,insetLeft:l=c,insetRight:h=c,dx:f=0,y:d=t==="y"?void 0:null,ariaLabel:p,...g}){return Oe(I2,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:d,...g,dx:n==="left"?+f-Lt+ +l:+f+Lt-h,anchor:"start",length:u,shape:n==="left"?Q2:K2})}function B2(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:s=n,tickSize:u,inset:c=0,insetTop:l=c,insetBottom:h=c,dy:f=0,x:d=t==="x"?void 0:null,ariaLabel:p,...g}){return Oe(O2,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:d,...g,dy:n==="bottom"?+f-Lt-h:+f+Lt+ +l,anchor:"start",length:u,shape:n==="bottom"?j2:X2})}function z2(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*$d):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:l=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:f=0,insetLeft:d=f,insetRight:p=f,dx:g=0,ariaLabel:y,y:w=t==="y"?void 0:null,...m}){return Oe(w2,t,e,{ariaLabel:`${y} tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:a,y:w,...m,dx:n==="left"?+g-o-s+ +d:+g+ +o+ +s-p},function(v,_,x,b,S){h===void 0&&(this.fontVariant=op(v)),u===void 0&&(S.text=ip(v,_,x,b,n))})}function q2(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*$d):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:l=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:h,inset:f=0,insetTop:d=f,insetBottom:p=f,dy:g=0,x:y=t==="x"?void 0:null,ariaLabel:w,...m}){return Oe(_2,t,e,{ariaLabel:`${w} tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:a,x:y,...m,dy:n==="bottom"?+g+ +o+ +s-p:+g-o-s+ +d},function(v,_,x,b,S){h===void 0&&(this.fontVariant=op(v)),u===void 0&&(S.text=ip(v,_,x,b,n))})}function W2(){const[t,n]=zn(...arguments);return tp("y",Vd(n),t,n)}function H2(){const[t,n]=zn(...arguments);return tp("fy",Gd(n),t,n)}function Y2(){const[t,n]=zn(...arguments);return np("x",jd(n),t,n)}function V2(){const[t,n]=zn(...arguments);return np("fx",Xd(n),t,n)}function tp(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,ariaLabel:s=`${t}-grid`,ariaHidden:u=!0,...c}){return Oe(g2,t,e,{ariaLabel:s,ariaHidden:u},{y:r,x1:o,x2:a,...ep(c)})}function np(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,ariaLabel:s=`${t}-grid`,ariaHidden:u=!0,...c}){return Oe(Gr,t,e,{ariaLabel:s,ariaHidden:u},{x:r,y1:o,y2:a,...ep(c)})}function ep({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function rp({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:u,shapeRendering:c,clip:l=!1},h){return[,t]=te(t),[,n]=Ct(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:u,shapeRendering:c,clip:l,initializer:h}}function Oe(t,n,e,r,i,o){let a;function s(l,h,f,d,p,g){const y=l==null&&(n==="fx"||n==="fy"),{[n]:w}=d;if(!w)throw new Error(`missing scale: ${n}`);const m=w.domain();let{interval:v,ticks:_,tickFormat:x,tickSpacing:b=n==="x"?80:35}=i;if(typeof _=="string"&&up(w)&&(v=_,_=void 0),_===void 0&&(_=$r(v,w.type)??G2(w,b)),l==null){if(ae(_))l=ie(_);else if(N1(_))l=jo(_,...An(m));else if(w.interval){let T=w.interval;if(w.ticks){const[M,k]=An(m),D=(k-M)/T[Sr];T=Wu(T,D/_)??T,l=jo(T,M,k)}else{l=m;const M=l.length;T=Wu(T,M/_)??T,T!==w.interval&&(l=jo(T,...An(l)))}if(T===w.interval){const M=Math.round(l.length/_);M>1&&(l=l.filter((k,D)=>D%M===0))}}else w.ticks?l=w.ticks(_):l=m;if(!w.ticks&&l.length&&l!==m){const T=new Bi(m);l=l.filter(M=>T.has(M)),l.length||En(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?h=[xr(l)]:a[n]={scale:n,value:Mn}}o?.call(this,w,l,_,x,a);const S=Object.fromEntries(Object.entries(a).map(([T,M])=>[T,{...M,value:On(l,M.value)}]));return y&&(h=g.filterFacets(l,S)),{data:l,facets:h,channels:S}}const u=Ue(i).initializer,c=t(e,Ue({...i,initializer:s},u));return e==null?(a=c.channels,c.channels={}):a={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function G2(t,n){const[e,r]=An(t.range());return(r-e)/n}function ip(t,n,e,r,i){return{value:Fs(t,n,e,r,i)}}function Fs(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&cn(n)?y1(t.type,n,i)??ke:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(cn(t.domain())?br:Ai)(r):r===void 0?ke:Sn(r)}function jo(t,n,e){return t.range(n,t.offset(t.floor(e)))}const j2={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},X2={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},Q2={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},K2={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function op(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function ap(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&up(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=tw(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return e==="right"?`${r} ↑`:`↑ ${r}`;case"down":return e==="right"?`${r} ↓`:`↓ ${r}`}return r}}function sp(t="auto"){return Ut(t)?!1:typeof t=="boolean"?t:Kt(t,"labelArrow",["auto","up","right","down","left"])}function up(t){return cn(t.domain())}function vl(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function Z2(t,{opacity:n,...e}={}){if(!se(t)&&!dd(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return lp(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Ct(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function J2(t,{fill:n=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:Ut(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},u){const[c,l]=te(n),[h,f]=te(r),d=vl(u,c),p=vl(u,h),g=a*a*Math.PI;return e=Ct(e)[1],i=Ct(i)[1],o=Ct(o)[1],lp(t,s,(y,w,m,v)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",m).attr("height",v).attr("fill",c==="color"?_=>d.scale(_):l).attr("fill-opacity",e).attr("stroke",h==="color"?_=>p.scale(_):f).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",_=>{const x=Vn();return t.scale(_).draw(x,g),x}))}function lp(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=xd(t),swatchSize:a=15,swatchWidth:s=a,swatchHeight:u=a,marginLeft:c=0,className:l,style:h,width:f}=n;const d=Us(n);l=As(l),i=Fs(t.scale,t.domain,void 0,i);const p=Mt("div",d).attr("class",`${l}-swatches ${l}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${l}-swatches-columns .${l}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${l}-swatches-columns .${l}-swatch::before) {
  flex-shrink: 0;
}
:where(.${l}-swatches-columns .${l}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${l}-swatch`).call(e,t,s,u).call(y=>y.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${l}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${l}-swatches-wrap .${l}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${l}-swatch`).call(e,t,s,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(y=>y.insert("style","*").text(`:where(.${l}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${l}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",c?`${+c}px`:null).style("width",f===void 0?null:`${+f}px`).style("font-variant",St(o,"normal")).call(Es,h).node()}const Wa=new Map([["symbol",J2],["color",fp],["opacity",nb]]);function tb(t,n,e={}){return(r,i)=>{if(!Wa.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Wa.get(r)(t[r],cp(n,e[r],i),o=>t[o])}}function cp({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return q1(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function fp(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return Z2(t,e);case"ramp":return r2(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function nb({type:t,interpolate:n,...e},{legend:r=!0,color:i=Zo(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return fp({type:t,...e,interpolate:eb(i)},{legend:r,...o})}function eb(t){const{r:n,g:e,b:r}=Zo(t)||Zo(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function rb(t,n,e){const r=[];for(const[i,o]of Wa){const a=e[i];if(a?.legend&&i in t){const s=o(t[i],cp(n,t[i],a),u=>t[u]);s!=null&&r.push(s)}}return r}function ib(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=$t(e),t.insetRight=$t(r),t.insetBottom=$t(i),t.insetLeft=$t(o)}function ob(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:s=n,rx1y1:u=i!==void 0?+i:o!==void 0?+o:0,rx1y2:c=i!==void 0?+i:s!==void 0?+s:0,rx2y1:l=a!==void 0?+a:o!==void 0?+o:0,rx2y2:h=a!==void 0?+a:s!==void 0?+s:0}={}){u||c||l||h?(t.rx1y1=u,t.rx1y2=c,t.rx2y1=l,t.rx2y2=h):(t.rx=St(e,"auto"),t.ry=St(r,"auto"))}function ab(t,n,e,r,i,o){const{rx1y1:a,rx1y2:s,rx2y1:u,rx2y2:c}=o;typeof n!="function"&&(n=Sn(n)),typeof e!="function"&&(e=Sn(e)),typeof r!="function"&&(r=Sn(r)),typeof i!="function"&&(i=Sn(i));const l=Math.max(Math.abs(a+u),Math.abs(s+c)),h=Math.max(Math.abs(a+s),Math.abs(u+c));t.attr("d",f=>{const d=n(f),p=e(f),g=r(f),y=i(f),w=d>g,m=p>y,v=w?g:d,_=w?d:g,x=m?y:p,b=m?p:y,S=Math.min(1,(_-v)/l,(b-x)/h),T=S*(w?m?c:u:m?s:a),M=S*(w?m?s:a:m?c:u),k=S*(w?m?a:s:m?u:c),D=S*(w?m?u:c:m?a:s);return`M${v},${x+Br(T,D)}A${T},${T} 0 0 ${T<0?0:1} ${v+Fr(T,D)},${x}H${_-Fr(M,k)}A${M},${M} 0 0 ${M<0?0:1} ${_},${x+Br(M,k)}V${b-Br(k,M)}A${k},${k} 0 0 ${k<0?0:1} ${_-Fr(k,M)},${b}H${v+Fr(D,T)}A${D},${D} 0 0 ${D<0?0:1} ${v},${b-Br(D,T)}Z`})}function Fr(t,n){return n<0?t:Math.abs(t)}function Br(t,n){return n<0?Math.abs(t):t}const sb={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},ub={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class lb extends Zt{constructor(n={}){const{anchor:e=null}=n;super(Vr,void 0,n,e==null?sb:ub),this.anchor=Fh(e,"anchor",["top","right","bottom","left"]),ib(this,n),e||ob(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:s,marginBottom:u,marginLeft:c,width:l,height:h}=i,{anchor:f,insetTop:d,insetRight:p,insetBottom:g,insetLeft:y}=this,{rx:w,ry:m,rx1y1:v,rx1y2:_,rx2y1:x,rx2y2:b}=this,S=c+y,T=l-s-p,M=a+d,k=h-u-g;return Mt(f?"svg:line":v||_||x||b?"svg:path":"svg:rect",o).datum(0).call(Pn,this,i,o).call(Fn,this).call(Le,this,r).call(Bn,this,{}).call(f==="left"?D=>D.attr("x1",S).attr("x2",S).attr("y1",M).attr("y2",k):f==="right"?D=>D.attr("x1",T).attr("x2",T).attr("y1",M).attr("y2",k):f==="top"?D=>D.attr("x1",S).attr("x2",T).attr("y1",M).attr("y2",M):f==="bottom"?D=>D.attr("x1",S).attr("x2",T).attr("y1",k).attr("y2",k):v||_||x||b?D=>D.call(ab,S,M,T,k,this):D=>D.attr("x",S).attr("y",M).attr("width",T-S).attr("height",k-M).attr("rx",w).attr("ry",m)).node()}}function cb(t){return new lb(t)}const Xo={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},fb=new Set(["geometry","href","src","ariaLabel","scales"]);class hb extends Zt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ae(n)&&zh(n)&&(e={...e,title:Mn});const{x:r,y:i,x1:o,x2:a,y1:s,y2:u,anchor:c,preferredAnchor:l="bottom",monospace:h,fontFamily:f=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:g,fontWeight:y,lineHeight:w=1,lineWidth:m=20,frameAnchor:v,format:_,textAnchor:x="start",textOverflow:b,textPadding:S=8,title:T,pointerSize:M=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:s!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:s,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:s==null},title:{value:T,optional:!0}},e,Xo),this.anchor=La(c,"anchor"),this.preferredAnchor=La(l,"preferredAnchor"),this.frameAnchor=ao(v),this.textAnchor=St(x,"middle"),this.textPadding=+S,this.pointerSize=+M,this.pathFilter=xt(k),this.lineHeight=+w,this.lineWidth=+m,this.textOverflow=Rd(b),this.monospace=!!h,this.fontFamily=xt(f),this.fontSize=$t(d),this.fontStyle=xt(p),this.fontVariant=xt(g),this.fontWeight=xt(y);for(const D in Xo)D in this.channels&&(this[D]=Xo[D]);this.splitLines=Fd(this),this.clipLine=Bd(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(n,e,r,i,o){const a=this,{x:s,y:u,fx:c,fy:l}=e,{ownerSVGElement:h,document:f}=o,{anchor:d,monospace:p,lineHeight:g,lineWidth:y}=this,{textPadding:w,pointerSize:m,pathFilter:v}=this,{marginTop:_,marginLeft:x}=i,{x1:b,y1:S,x2:T,y2:M,x:k=b??T,y:D=S??M}=r,O=c?c(n.fx)-x:0,W=l?l(n.fy)-_:0,[I,C]=kr(this,i),P=Sd(r,I),K=vd(r,C),V=p?Ps:Rs,A=V(ye);let F,B;"title"in r?(F=xl.call(this,{title:r.channels.title},e),B=yb):(F=xl.call(this,r.channels,e),B=_b);const q=Mt("svg:g",o).call(Pn,this,i,o).call(Pd,this).call(Bn,this,{x:k&&s,y:D&&u}).call(nt=>nt.selectAll().data(n).enter().append("g").attr("transform",et=>`translate(${Math.round(P(et))},${Math.round(K(et))})`).call(Fn,this).call(et=>et.append("path").attr("filter",v)).call(et=>et.append("text").each(function(L){const rt=vt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const $=B.call(a,L,n,F,e,r);if(typeof $=="string")for(const N of a.splitLines($))R(rt,{value:a.clipLine(N)});else{const N=new Set;for(const H of $){const{label:U=""}=H;U&&N.has(U)||(N.add(U),R(rt,H))}}})));function R(nt,{label:et,value:L,color:rt,opacity:$}){et??="",L??="";const N=rt!=null||$!=null;let H,U=y*100;const[ut]=Ae(et,U,V,A);if(ut>=0)et=et.slice(0,ut).trimEnd()+ye,H=L.trim(),L="";else{(et||!L&&!N)&&(L=" "+L);const[ct]=Ae(L,U-V(et),V,A);ct>=0&&(H=L.trim(),L=L.slice(0,ct).trimEnd()+ye)}const G=nt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");et&&G.append("tspan").attr("font-weight","bold").text(et),L&&G.append(()=>f.createTextNode(L)),N&&G.append("tspan").text(" ■").attr("fill",rt).attr("fill-opacity",$).style("user-select","none"),H&&G.append("title").text(H)}function J(){const{width:nt,height:et}=i.facet??i;q.selectChildren().each(function(L){let{x:rt,width:$,height:N}=this.getBBox();$=Math.round($),N=Math.round(N);let H=d;if(H===void 0){const G=P(L)+O,ct=K(L)+W,pt=G+$+m+w*2<nt,At=G-$-m-w*2>0,ue=ct+N+m+w*2<et,Ie=ct-N-m-w*2>0;H=pt&&At?ue&&Ie?a.preferredAnchor:Ie?"bottom":"top":ue&&Ie?pt?"left":"right":(pt||At)&&(ue||Ie)?`${Ie?"bottom":"top"}-${pt?"left":"right"}`:a.preferredAnchor}const U=this.firstChild,ut=this.lastChild;if(U.setAttribute("d",mb(H,m,w,$,N)),rt)for(const G of ut.childNodes)G.setAttribute("x",-rt);ut.setAttribute("y",`${+pb(H,ut.childNodes.length,g).toFixed(6)}em`),ut.setAttribute("transform",`translate(${gb(H,m,w,$,N)})`)}),q.attr("visibility",null)}return n.length&&(q.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(J):typeof requestAnimationFrame<"u"&&requestAnimationFrame(J)),q.node()}}function db(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=eo(n,e)),new hb(t,{...r,x:n,y:e})}function pb(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function gb(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function mb(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function xl(t,n){const e={};let r=this.format;r=$l(r,t,"x"),r=$l(r,t,"y"),this.format=r;for(const i in r){const o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")e[i]=!0;else{const a=Zu(t,i);a&&(e[i]=a)}}for(const i in t){if(i in e||i in r||fb.has(i)||(i==="x"||i==="y")&&t.geometry)continue;const o=Zu(t,i);if(o){if(o.scale==null&&o.defaultScale==="color")continue;e[i]=o}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const o=this.format[i];if(typeof o=="string"){const a=e[i]?.value??n[i]?.domain()??[];this.format[i]=(cn(a)?br:Ai)(o)}else if(o===void 0||o===!0){const a=n[i];this.format[i]=a?.bandwidth?Fs(a,a.domain()):ke}}return e}function $l(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([s])=>s===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function yb(t,n,{title:e}){return this.format.title(e.value[t],t)}function*_b(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:Di(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:Ml(r,e,"x"),value:Tl(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:Ml(r,e,"y"),value:Tl(this.format.y2,e.y1,a,t)};else{const s=a.value[t],u=a.scale;if(!Nn(s)&&u==null)continue;yield{label:Di(r,e,o),value:this.format[o](s,t),color:u==="color"?i[o][t]:null,opacity:u==="opacity"?i[o][t]:null}}}}function Tl(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function Ml(t,n,e){const r=Di(t,n,`${e}1`,e),i=Di(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function Di(t,n,e,r=e){const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function Qe(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:s}=t,u=As(t.className),c=t.marks===void 0?[]:Cl(t.marks);c.push(...Tb(c));const l=xb(n,t),h=new Map;for(const A of c){const F=Ul(A,l,t);F&&h.set(A,F)}const f=new Map;l&&qe(f,[l],t),qe(f,h,t);const d=Cl(Mb(c,f,t));for(const A of d){const F=Ul(A,l,t);F&&h.set(A,F)}c.unshift(...d);let p=uw(f,t);if(p!==void 0){const A=l?Ho(p,l):void 0;for(const B of c){if(B.facet===null||B.facet==="super")continue;const q=h.get(B);q!==void 0&&(q.facetsIndex=B.fx!=null||B.fy!=null?Ho(p,q):A)}const F=new Set;for(const{facetsIndex:B}of h.values())B?.forEach((q,R)=>{q?.length>0&&F.add(R)});p.forEach(0<F.size&&F.size<p.length?(B,q)=>B.empty=!F.has(q):B=>B.empty=!1);for(const B of c)if(B.facet==="exclude"){const q=h.get(B);q!==void 0&&(q.facetsIndex=fw(q.facetsIndex))}}for(const A of dt.keys())Aa(t[A])&&A!=="fx"&&A!=="fy"&&f.set(A,[]);const g=new Map;for(const A of c){if(g.has(A))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:F,channels:B}=h.get(A)??{},{data:q,facets:R,channels:J}=A.initialize(F,B,t);Bs(J,t),g.set(A,{data:q,facets:R,channels:J})}const y=Ra(qe(f,g,t),t),w=Jw(y,c,t);Z_(y,w);const m=al(y),{fx:v,fy:_}=m,x=v||_?cd(y,w):w,b=v||_?Lb(m,w):w,S=Us(t),T=S.document,M=bc("svg").call(T.documentElement);let k=M;S.ownerSVGElement=M,S.className=u,S.projection=bw(t,x),S.path=function(){return Ja(this.projection??Dw(m))},S.filterFacets=(A,F)=>Ho(p,{channels:F,groups:Cs(A,F)}),S.getMarkState=A=>{const F=g.get(A),B=h.get(A);return{...F,channels:{...F.channels,...B?.channels}}},S.dispatchValue=A=>{k.value!==A&&(k.value=A,k.dispatchEvent(new S.document.defaultView.Event("input",{bubbles:!0})))};const D=new Set;for(const[A,F]of g)if(A.initializer!=null){const B=A.facet==="super"?b:x,q=A.initializer(F.data,F.facets,F.channels,m,B,S);if(q.data!==void 0&&(F.data=q.data),q.facets!==void 0&&(F.facets=q.facets),q.channels!==void 0){const{fx:R,fy:J,...nt}=q.channels;vb(nt),Object.assign(F.channels,nt);for(const et of Object.values(nt)){const{scale:L}=et;L!=null&&!Y1(dt.get(L))&&(hp(et,t),D.add(L))}(R!=null||J!=null)&&h.set(A,!0)}}if(D.size){const A=new Map;qe(A,g,t,R=>D.has(R)),qe(f,g,t,R=>D.has(R));const F=Eb(Ra(A,t),y),{scales:B,...q}=al(F);Object.assign(y,F),Object.assign(m,q),Object.assign(m.scales,B)}let O,W;p!==void 0&&(O={x:v?.domain(),y:_?.domain()},p=lw(p,O),W=cw(v,_,w));for(const[A,F]of g)F.values=A.scale(F.channels,m,S);const{width:I,height:C}=w;vt(M).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",I).attr("height",C).attr("viewBox",`0 0 ${I} ${C}`).attr("aria-label",a).attr("aria-description",s).call(A=>A.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Es,e);for(const A of c){const{channels:F,values:B,facets:q}=g.get(A);if(p===void 0||A.facet==="super"){let R=null;if(q&&(R=q[0],R=A.filter(R,F,B),R.length===0))continue;const J=A.render(R,m,B,b,S);if(J==null)continue;M.appendChild(J)}else{let R;for(const J of p){if(!(A.facetAnchor?.(p,O,J)??!J.empty))continue;let nt=null;if(q){const L=h.has(A);if(nt=q[L?J.i:0],nt=A.filter(nt,F,B),nt.length===0)continue;!L&&nt===q[0]&&(nt=k1(nt)),nt.fx=J.x,nt.fy=J.y,nt.fi=J.i}const et=A.render(nt,m,B,x,S);if(et!=null){(R??=vt(M).append("g")).append(()=>et).datum(J);for(const L of["aria-label","aria-description","aria-hidden","transform"])et.hasAttribute(L)&&(R.attr(L,et.getAttribute(L)),et.removeAttribute(L))}}R?.selectChildren().each(W)}}const P=rb(y,S,t),{figure:K=r!=null||i!=null||o!=null||P.length>0}=t;K&&(k=T.createElement("figure"),k.className=`${u}-figure`,k.style.maxWidth="initial",r!=null&&k.append(Dl(T,r,"h2")),i!=null&&k.append(Dl(T,i,"h3")),k.append(...P,M),o!=null&&k.append(wb(T,o)),"value"in M&&(k.value=M.value,delete M.value)),k.scale=aw(m.scales),k.legend=tb(y,S,t);const V=O_();return V>0&&vt(M).append("text").attr("x",I).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${V.toLocaleString("en-US")} warning${V===1?"":"s"}. Please check the console.`),k}function Dl(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function wb(t,n){const e=t.createElement("figcaption");return e.append(n),e}function Cl(t){return t.flat(1/0).filter(n=>n!=null).map(bb)}function bb(t){return typeof t.render=="function"?t:new Sb(t)}class Sb extends Zt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Bs(t,n){for(const e in t)hp(t[e],n);return t}function hp(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:s=o?u=>u==null?NaN:u*100:A1(a,i)}=n[e]??{};s!=null&&(t.value=Tt(t.value,s),t.transform=!1)}function vb(t){for(const n in t)Qh(n,t[n])}function qe(t,n,e,r=T1){for(const{channels:i}of n.values())for(const o in i){const a=i[o],{scale:s}=a;if(s!=null&&r(s))if(s==="projection"){if(!$w(e)){const u=e.x?.domain===void 0,c=e.y?.domain===void 0;if(u||c){const[l,h]=Mw(a);u&&Qo(t,"x",l),c&&Qo(t,"y",h)}}}else Qo(t,s,a)}return t}function Qo(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function xb(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=De(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=lr(i,{value:e,scale:"fx"})),r!=null&&(o.fy=lr(i,{value:r,scale:"fy"})),Bs(o,n);const a=Cs(i,o);return{channels:o,groups:a,data:t.data}}function Ul(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=De(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=lr(u,{value:r,scale:"fx"})),i!=null&&(c.fy=lr(u,{value:i,scale:"fy"})),Bs(c,e),{channels:c,groups:Cs(u,c)}}if(n===void 0)return;const{channels:o,groups:a,data:s}=n;if(t.facet!=="auto"||t.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Ea(De(t.data))===Ea(s)&&En(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function $b(t,n={}){return Ue({...n,x:null,y:null},(e,r,i,o,a,s)=>s.getMarkState(t))}function Tb(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?e2:/^y$/i.test(i)?gl:n2,r=i($b(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===gl?"left":"bottom");const a=db(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function Mb(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:u,grid:c,facet:l={},facet:{axis:h=u,grid:f}=l,x:{axis:d=u,grid:p=d===null?null:c}=i,y:{axis:g=u,grid:y=g===null?null:c}=o,fx:{axis:w=h,grid:m=w===null?null:f}=a,fy:{axis:v=h,grid:_=v===null?null:f}=s}=e;(r||!Aa(i)&&!kl("x",t))&&(d=p=null),(r||!Aa(o)&&!kl("y",t))&&(g=y=null),n.has("fx")||(w=m=null),n.has("fy")||(v=_=null),d===void 0&&(d=!Wr(t,"x")),g===void 0&&(g=!Wr(t,"y")),w===void 0&&(w=!Wr(t,"fx")),v===void 0&&(v=!Wr(t,"fy")),d===!0&&(d="bottom"),g===!0&&(g="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const x=[];return qr(x,_,H2,s),zr(x,v,R2,"right","left",l,s),qr(x,m,V2,a),zr(x,w,P2,"top","bottom",l,a),qr(x,y,W2,o),zr(x,g,Qd,"left","right",e,o),qr(x,p,Y2,i),zr(x,d,Kd,"bottom","top",e,i),x}function zr(t,n,e,r,i,o,a){if(!n)return;const s=Db(n);a=Cb(s?r:n,o,a);const{line:u}=a;(e===Qd||e===Kd)&&u&&!ur(u)&&t.push(cb(Ub(a))),t.push(e(a)),s&&t.push(e({...a,anchor:i,label:null}))}function qr(t,n,e,r){!n||ur(n)||t.push(e(kb(n,r)))}function Db(t){return/^\s*both\s*$/i.test(t)}function Cb(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:h,label:f=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:h,label:f,labelAnchor:d,labelArrow:p,labelOffset:g}}function Ub(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function kb(t,{stroke:n=oo(t)?t:void 0,ticks:e=Ab(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function Ab(t){switch(typeof t){case"number":return!0;case"string":return!oo(t)}return ae(t)||typeof t?.range=="function"}function Wr(t,n){const e=`${n}-axis `;return t.some(r=>r.ariaLabel?.startsWith(e))}function kl(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function Eb(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function Lb({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:u}=Ds(e),c=t&&Al(t),l=n&&Al(n);return{marginTop:n?l[0]:r,marginRight:t?s-c[1]:i,marginBottom:n?u-l[1]:o,marginLeft:t?c[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:s,height:u}}function Al(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const Nb=new Map([["basis",Py],["basis-closed",Fy],["basis-open",By],["bundle",zy],["bump-x",Dy],["bump-y",Cy],["cardinal",qy],["cardinal-closed",Wy],["cardinal-open",Hy],["catmull-rom",Yy],["catmull-rom-closed",Vy],["catmull-rom-open",Gy],["linear",Qi],["linear-closed",jy],["monotone-x",Xy],["monotone-y",Qy],["natural",Ky],["step",Zy],["step-after",t1],["step-before",Jy]]);function Ob(t=Qi,n){if(typeof t=="function")return t;const e=Nb.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function Ib(t=Ci,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Ci:Ob(t,n)}function Ci(t){return Qi(t)}const Rb={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Pb(t){return t.sort===void 0&&t.reverse===void 0?J1({channel:"-r"},t):t}class Fb extends Zt{constructor(n,e={}){const{x:r,y:i,r:o,rotate:a,symbol:s=xe,frameAnchor:u}=e,[c,l]=Ct(a,0),[h,f]=K1(s),[d,p]=Ct(o,h==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:d,scale:"r",filter:Ji,optional:!0},rotate:{value:c,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},Pb(e),Rb),this.r=p,this.rotate=l,this.symbol=f,this.frameAnchor=ao(u);const{channels:g}=this,{symbol:y}=g;if(y){const{fill:w,stroke:m}=g;y.hint={fill:w?w.value===y.value?"color":"currentColor":this.fill??"currentColor",stroke:m?m.value===y.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,o){const{x:a,y:s}=e,{x:u,y:c,r:l,rotate:h,symbol:f}=r,{r:d,rotate:p,symbol:g}=this,[y,w]=kr(this,i),m=g===xe,v=l?void 0:d*d*Math.PI;return hs(d)&&(n=[]),Mt("svg:g",o).call(Pn,this,i,o).call(Bn,this,{x:u&&a,y:c&&s}).call(_=>_.selectAll().data(n).enter().append(m?"circle":"path").call(Fn,this).call(m?x=>{x.attr("cx",u?b=>u[b]:y).attr("cy",c?b=>c[b]:w).attr("r",l?b=>l[b]:d)}:x=>{x.attr("transform",Os`translate(${u?b=>u[b]:y},${c?b=>c[b]:w})${h?b=>` rotate(${h[b]})`:p?` rotate(${p})`:""}`).attr("d",l&&f?b=>{const S=Vn();return f[b].draw(S,l[b]*l[b]*Math.PI),S}:l?b=>{const S=Vn();return g.draw(S,l[b]*l[b]*Math.PI),S}:f?b=>{const S=Vn();return f[b].draw(S,v),S}:(()=>{const b=Vn();return g.draw(b,v),b})())}).call(Le,this,r)).node()}}function Bb(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=eo(n,e)),new Fb(t,{...r,x:n,y:e})}const zb={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class qb extends Zt{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:s}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:U1(e),optional:!0}},e,zb),this.z=o,this.curve=Ib(a,s),Ns(this,e)}filter(n){return n}project(n,e,r){this.curve!==Ci&&super.project(n,e,r)}render(n,e,r,i,o){const{x:a,y:s}=r,{curve:u}=this;return Mt("svg:g",o).call(Pn,this,i,o).call(Bn,this,e).call(c=>c.selectAll().data(Ww(n,[a,s],this,r)).enter().append("path").call(Fn,this).call(Bw,this,r).call(s2,this,r,o).attr("d",u===Ci&&o.projection?Wb(o.path(),a,s):My().curve(u).defined(l=>l>=0).x(l=>a[l]).y(l=>s[l]))).node()}}function Wb(t,n,e){return n=$i(n),e=$i(e),r=>{let i=[];const o=[i];for(const a of r)a===-1?(i=[],o.push(i)):i.push([n[a],e[a]]);return t({type:"MultiLineString",coordinates:o})}}function El(t,{x:n,y:e,...r}={}){return[n,e]=eo(n,e),new qb(t,{...r,x:n,y:e})}Zt.prototype.plot=function({marks:t=[],...n}={}){return Qe({...n,marks:[...t,this]})};const Hb="https://api.exchange.coinbase.com/currencies",Yb=yg("cbxStore",{state:()=>({channels:st({}),currencies:st({}),msgTypes:st({}),connStatus:st("CBX Connect"),connected:st(!1),ws:st(null),t0:st(null),show:st(!0),msgCount:st(0),connTime:st(0),display_minutes:st(30),buffer_minutes:st(30),d0Idx:st(30)}),getters:{nchan(t){return Object.keys(t.channels).length}},actions:{zeroCB(){Object.keys(this.channels).forEach((t,n)=>{console.log(t),this.channels[t].d0={Date:this.channels[t].rawData[0].Date,price:this.channels[t].rawData[0].price}})},processTickerMsg(t){try{this.msgTypes[t.product_id]+=1}catch{this.msgTypes[t.product_id]=1}if(!("product_id"in t))return;const n=t.product_id;if(n in this.channels){this.channels[n].msgCount+=1;const r={Date:new Date(Date.now()),price:parseFloat(t.price)};this.channels[n].rawData.push(r)}else{const r={Date:new Date(Date.now()),price:parseFloat(t.price)};this.channels[n]={msgCount:0,rawData:[r],d0:r}}let e=new Date(Date.now()-this.cutoff_minutes*6e4);for(;this.channels[n].rawData[0].Date<e;)this.channels[n].rawData.shift()},connect(){if(this.ws)this.connStatus="CBX Closing ...",this.ws.close(),this.ws=null,this.connected=!1,this.connStatus="CBX Connect";else{this.connStatus="CBX Connecting ...";const t="wss://ws-feed.exchange.coinbase.com";this.ws=new WebSocket(t),this.connected=!0,this.t0=parseInt(new Date().getTime()),this.connStatus="CBX Connected",this.ws.onopen=n=>{var r=JSON.stringify({type:"subscribe",product_ids:["QNT-USD","UPI-USD","T-USD","EUROC-USD","FARM-USD","UST-USD","HIGH-USD","MIR-USD","SOL-USD","PNG-USD","CRPT-USD","FX-USD","APE-USD","XLM-USD","AUDIO-USD","GALA-USD","SKL-USD","VGX-USD","WCFG-USD","LOKA-USD","KRL-USD","RLC-USD","SUKU-USD","ROSE-USD","YFI-USD","DIA-USD","QUICK-USD","VOXEL-USD","ELA-USD","STG-USD","CTX-USD","ZRX-USD","POND-USD","AURORA-USD","ZEN-USD","FOX-USD","RGT-USD","SHPING-USD","ETC-USD","BTC-USD","DESO-USD","INDEX-USD","BIT-USD","SPELL-USD","SNT-USD","USDC-USD","HBAR-USD","HFT-USD","BAND-USD","QSP-USD","PRO-USD","CELR-USD","AUCTION-USD","NKN-USD","RBN-USD","CBETH-USD","FIDA-USD","POWR-USD","TRU-USD","WBTC-USD","RPL-USD","FORTH-USD","GYEN-USD","MLN-USD","AXS-USD","IMX-USD","JASMY-USD","LTC-USD","FORT-USD","NEAR-USD","ALICE-USD","AMP-USD","REQ-USD","IDEX-USD","AIOZ-USD","ASM-USD","EOS-USD","FET-USD","ADA-USD","ICP-USD","OXT-USD","STORJ-USD","WAXL-USD","MSOL-USD","KAVA-USD","ATA-USD","LQTY-USD","SYN-USD","BLUR-USD","GAL-USD","MUSD-USD","BICO-USD","COMP-USD","GFI-USD","GNO-USD","00-USD","LDO-USD","ATOM-USD","PLA-USD","MASK-USD","CRV-USD","NEST-USD","OCEAN-USD","ILV-USD","AXL-USD","ANKR-USD","MXC-USD","TBTC-USD","TRIBE-USD","CVC-USD","GNT-USD","GRT-USD","ORN-USD","ANT-USD","SNX-USD","DNT-USD","POLS-USD","DASH-USD","ALGO-USD","XTZ-USD","NMR-USD","YFII-USD","STX-USD","BAT-USD","BNT-USD","EGLD-USD","AGLD-USD","MDT-USD","LIT-USD","MPL-USD","SUPER-USD","SWFTC-USD","RNDR-USD","GHST-USD","DAR-USD","APT-USD","ORCA-USD","NU-USD","DOGE-USD","MINA-USD","RAI-USD","RARI-USD","MNDE-USD","CHZ-USD","LINK-USD","PRIME-USD","MTL-USD","KEEP-USD","BTRST-USD","ENS-USD","MKR-USD","FIS-USD","ALEPH-USD","OOKI-USD","MAGIC-USD","REP-USD","TRAC-USD","BUSD-USD","ENJ-USD","SUSHI-USD","USDT-USD","AVAX-USD","LPT-USD","UNI-USD","BOND-USD","IOTX-USD","XYO-USD","RARE-USD","AVT-USD","INV-USD","NCT-USD","QI-USD","MCO2-USD","XRP-USD","OMG-USD","MATH-USD","SYLO-USD","ALCX-USD","BLZ-USD","GMT-USD","OP-USD","LSETH-USD","COVAL-USD","DOT-USD","ZEC-USD","XMON-USD","ERN-USD","FIL-USD","REN-USD","LRC-USD","UNFI-USD","LCX-USD","MATIC-USD","RAD-USD","WLUNA-USD","BAL-USD","CGLD-USD","COTI-USD","TONE-USD","CTSI-USD","PERP-USD","POLY-USD","ARPA-USD","ABT-USD","KSM-USD","PRQ-USD","ACS-USD","API3-USD","HOPR-USD","KNC-USD","SAND-USD","GLM-USD","GST-USD","GTC-USD","INJ-USD","DDX-USD","ETH-USD","GODS-USD","RLY-USD","FLOW-USD","CRO-USD","OGN-USD","SHIB-USD","DYP-USD","PYR-USD","AERGO-USD","ACH-USD","BCH-USD","PLU-USD","UMA-USD","MANA-USD","TRB-USD","BADGER-USD","LOOM-USD","WAMPL-USD","C98-USD","CVX-USD","PUNDIX-USD","AAVE-USD"],channels:["ticker"]});this.ws.send(r)},this.ws.onmessage=n=>{this.msgCount+=1,this.connTime=parseInt((parseInt(new Date().getTime())-this.t0)/1e3);const e=JSON.parse(n.data);if(this.processTickerMsg(e),!this.show)return;let r='<center><table width="100%">';r+="<tr><td>ChanCount</td><td>"+Object.keys(this.channels).length+"</td></tr>",r+="<tr><td>MsgCount</td><td>"+this.msgCount+"</td></tr>",r+="<tr><td>ConnTime</td><td>"+this.connTime+"</td></tr>";for(const[i,o]of Object.entries(e))i.indexOf("volume")>-1?r+='<tr class="text-uppercase"><td>'+i+"</td><td> "+parseInt(o)+"</td></tr>":i.indexOf("time")>-1?r+='<tr class="text-uppercase"><td>'+i+"</td><td> "+o.split(":")[0]+"</td></tr>":r+='<tr class="text-uppercase"><td>'+i+"</td><td> "+o+"</td></tr>";r+="</table></center>",vt("#cbx_debug").html(r)}}},getCurrencies(){bg(Hb).then(t=>{t.data.forEach(n=>{this.currencies[n.id]=n})})}}}),Vb=Pi({name:"TypeA",setup(){return{lrSwitch:st(!1),z25Store:Ii(),cbxstore:Yb(),interval:st(null),running:st(!1),d0:st(null),loglin:st(!0),mode:st(1)}},mounted(){console.log("mounted")},methods:{toggleAll(){this.z25Store.plotAllChannelsOverride===!0?this.z25Store.plotAllChannelsOverride=!1:this.z25Store.plotAllChannelsOverride=!0},toggleOrders(){vt("#ordersPanel").classed("hidden")==!0?vt("#ordersPanel").classed("hidden",!1):vt("#ordersPanel").classed("hidden",!0)},toggleLRSwitch(){this.lrSwitch?this.lrSwitch=!1:this.lrSwitch=!0},toggleLogLin(){this.loglin?this.loglin=!1:this.loglin=!0},cycleMode(){this.mode==1?this.mode=0:this.mode=1},multiLayerX(t,n,...e){const i=Qe({...t,marks:n}).scale("x");let o="linear";return this.loglin&&(o="symlog"),Qe({...t,marks:[n,...e.map(a=>()=>Qe({...t,marks:[a(i)],x:{...i,axis:null},y:{axis:"right",line:!1,grid:!0,nice:!0,type:o},style:{background:"0000",color:"white",fontSize:"15"}}))]})},plotCB(){vt("#plotDIV1").select("svg").remove();let t;this.lrSwitch?t=this.cbxstore:t=this.z25Store;let n=new Date(Date.now()-t.display_minutes*6e4);const e=[],r=[];let i=t.channels["BTC-USD"].rawData.filter(c=>Date.parse(c.tlast)>n),o=2,a=t.channels["BTC-USD"].d0;r.push(El(i,{x:c=>Date.parse(c.tlast),y:c=>(c.Close-a.Close)/a.Close*100,curve:"catmull-rom",stroke:"red",strokeWidth:o})),Object.keys(t.channels).forEach((c,l)=>{if(!t.plotAllChannelsOverride){if(t.channels[c].hidden)return}let h=t.channels[c].d0,f=t.channels[c].rawData.filter(p=>Date.parse(p.tlast)>n),d=t.channels[c].fatLine?3:2;e.push(El(f,{x:p=>Date.parse(p.tlast),y:p=>(p.Close-h.Close)/h.Close*100,curve:"catmull-rom",stroke:t.getChannelColor(c),strokeWidth:d})),t.channels[c].candlesticks&&(e.push(Gr(f,{x:p=>Date.parse(p.tlast),y1:p=>(p.Open-h.Close)/h.Close*100,y2:p=>(p.Close-h.Close)/h.Close*100,stroke:p=>p.Close>p.Open?"#5F5":"#F55",strokeWidth:10,strokeLinecap:"square"})),e.push(Gr(f,{x:p=>Date.parse(p.tlast),y1:p=>(p.Low-h.Close)/h.Close*100,y2:p=>(p.High-h.Close)/h.Close*100,stroke:p=>p.Close>p.Open?"#5F5":"#F55"}))),t.channels[c].bars&&(e.push(Gr(f,{x:p=>Date.parse(p.tlast),y:p=>(p.BuyUSD-p.SellUSD)/t.barsNormalization,stroke:p=>t.getChannelColor(c),strokeWidth:10,strokeOpacity:.5})),e.push(Mi(f,{x:p=>Date.parse(p.tlast),y:p=>(p.BuyUSD-p.SellUSD)/t.barsNormalization,fill:p=>t.getChannelColor(c),text:[c.split("-")[0]],fontSize:10}))),t.channels[c].dots&&e.push(Bb(f,{x:p=>Date.parse(p.tlast),y:p=>(p.Close-h.Close)/h.Close*100,stroke:"#FF0"})),e.push(Mi(f,{x:p=>Date.parse(p.tlast),y:p=>(p.Close-h.Close)/h.Close*100,dy:0,dx:25,text:[c.split("-")[0]],fill:t.getChannelColor(c),strokeWidth:0,fontSize:t.channels[c].fatLine?30:15}))});let s=document.getElementById("plotDIV1").getBoundingClientRect(),u="linear";this.loglin&&(u="symlog"),this.mode==0?vt("#plotDIV1").node().append(Qe({y:{grid:!0,type:u,axis:"right",line:!1},style:{background:t.background,color:"cyan"},insetRight:0,insetLeft:20,insetTop:20,insetBottom:20,marginRight:30,marginTop:0,width:s.width,height:s.height,marks:e})):this.mode==1&&vt("#plotDIV1").node().append(this.multiLayerX({y:{axis:"left",grid:!1,line:!1,type:u},x:{axis:"top",tickFormat:Gi("%I:%M"),domain:[n,new Date(Date.now())],tickRotate:35},style:{background:"0000",color:"steelblue",fontSize:"15"},width:s.width,height:s.height,marginBottom:20,marginTop:40,insetTop:0,insetBottom:0,insetLeft:20,insetRight:50},r,c=>e)),this.running==!0&&(cancelAnimationFrame(this.interval),this.interval=requestAnimationFrame(()=>{this.plotCB()}))},clearPlotCB(){vt("#plotDIV1").select("svg").remove()},runCB(){console.log("runCB"),this.running==!0?(this.running=!1,cancelAnimationFrame(this.interval),this.interval=null):(this.running=!0,this.interval=requestAnimationFrame(()=>{this.plotCB()}))}}}),Gb={class:"full-width"};function jb(t,n,e,r,i,o){return gt(),yn(Zr,{dense:"",flat:"",style:{backgroundColor:"grey"},class:"q-ma-xs ptr q-pa-xs"},{default:Y(()=>[z("div",Gb,[E(xi,{style:{backgroundColor:"#333"}},{default:Y(()=>[E(lt,{"no-caps":"",flat:"",label:"Plot Controls"},{default:Y(()=>[E(c1,{style:{width:"350px"},bordered:"",dense:"",class:"rounded-borders text-center q-py-md q-ma-md z-top",label:"Plot Controls"},{default:Y(()=>[E(r1,null,{default:Y(()=>[E(ho,null,{default:Y(()=>[E(qn,null,{default:Y(()=>[z("table",null,[z("tr",null,[z("td",null,[E(Qs,{"show-value":"",min:0,max:this.z25Store.buffer_minutes,size:"100px",thickness:.5,style:{height:"100px"},color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.z25Store.display_minutes,"onUpdate:modelValue":n[0]||(n[0]=a=>this.z25Store.display_minutes=a)},null,8,["max","modelValue"])]),z("td",null,[E(Qs,{"show-value":"",size:"100px",stacked:"",thickness:.5,style:{height:"100px"},color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.z25Store.d0Idx,"onUpdate:modelValue":[n[1]||(n[1]=a=>this.z25Store.d0Idx=a),n[2]||(n[2]=a=>this.z25Store.zeroCB())]},null,8,["modelValue"])])]),n[16]||(n[16]=z("tr",null,[z("td",null,[z("div",{class:"text-weight-bold"},"Display Minutes")]),z("td",null,[z("div",{class:"text-weight-bold"},"Pinch Minutes")])],-1))])]),_:1})]),_:1}),E(ho,null,{default:Y(()=>[E(qn),E(qn,null,{default:Y(()=>[E(lt,{class:"bg-positive"},{default:Y(()=>[E(Wn,{name:this.candlesticks?"candlestick_chart":"insights",onClick:n[3]||(n[3]=a=>this.toggleCandlesticks())},null,8,["name"])]),_:1})]),_:1}),E(qn,null,{default:Y(()=>[E(lt,{class:"bg-positive"},{default:Y(()=>[E(Wn,{name:this.mode==0?"timeline":"show_chart",onClick:n[4]||(n[4]=a=>this.cycleMode())},null,8,["name"])]),_:1})]),_:1})]),_:1}),E(ho,null,{default:Y(()=>[E(qn),E(qn,null,{default:Y(()=>[E(lt,{class:"bg-positive"},{default:Y(()=>[E(Wn,{name:"sync_alt",onClick:n[5]||(n[5]=a=>this.z25Store.sendSettings())})]),_:1})]),_:1}),E(qn,null,{default:Y(()=>[E(lt,{class:"bg-positive"},{default:Y(()=>[E(Wn,{name:"clear",onClick:n[6]||(n[6]=a=>this.z25Store.clearLookAtMe())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),E(Da),E(lt,{flat:"","no-caps":""},{default:Y(()=>[bt("$"+Et(this.z25Store.portfolioBalance)+" ",1),E(It,null,{default:Y(()=>[...n[17]||(n[17]=[bt("Portfolio Balance",-1)])]),_:1})]),_:1}),E(lt,{flat:"","no-caps":""},{default:Y(()=>[bt("$"+Et(this.z25Store.usdAvailable)+" ",1),E(It,null,{default:Y(()=>[bt("USD Available = "+Et(this.z25Store.usdAvailable)+" USD Holds = "+Et(this.z25Store.usdBalance-this.z25Store.usdAvailable),1)]),_:1})]),_:1}),E(lt,{flat:"","no-caps":""},{default:Y(()=>[bt("$"+Et(this.z25Store.usdBalance)+" ",1),E(It,null,{default:Y(()=>[...n[18]||(n[18]=[bt("USD Balance",-1)])]),_:1})]),_:1})]),_:1}),n[28]||(n[28]=z("div",{id:"plotDIV1",style:{height:"50vh",backgroundColor:"#222"},class:"full-width"},null,-1)),E(xi,{style:{backgroundColor:"#333"}},{default:Y(()=>[E(lt,{dense:"",onClick:n[7]||(n[7]=a=>this.clearPlotCB()),color:"positive"},{default:Y(()=>[E(Wn,{name:"cancel"}),E(It,null,{default:Y(()=>[...n[19]||(n[19]=[bt("Clear the Plot area",-1)])]),_:1})]),_:1}),E(lt,{dense:"",onClick:n[8]||(n[8]=a=>this.runCB()),color:"positive"},{default:Y(()=>[E(Wn,{name:this.running?"pause":"play_arrow"},null,8,["name"]),E(It,null,{default:Y(()=>[...n[20]||(n[20]=[bt("Run Plot w/continuous updates",-1)])]),_:1})]),_:1}),E(lt,{dense:"",class:"bg-positive on-right"},{default:Y(()=>[E(Wn,{name:this.loglin?"stacked_bar_chart":"bar_chart",onClick:n[9]||(n[9]=a=>this.toggleLogLin())},null,8,["name"]),E(It,null,{default:Y(()=>[...n[21]||(n[21]=[bt("Toggle Log/Lin",-1)])]),_:1})]),_:1}),E(lt,{"no-caps":"",flat:"",label:"Orders",onClick:n[10]||(n[10]=a=>this.toggleOrders())},{default:Y(()=>[E(It,null,{default:Y(()=>[...n[22]||(n[22]=[bt("Show/hide Orders table",-1)])]),_:1})]),_:1}),E(lt,{dense:"",onClick:n[11]||(n[11]=a=>this.z25Store.getOrders()),icon:"replay"},{default:Y(()=>[E(It,null,{default:Y(()=>[...n[23]||(n[23]=[bt("Update Orders info",-1)])]),_:1})]),_:1}),E(lt,{dense:"",onClick:n[12]||(n[12]=a=>this.z25Store.getCBX()),icon:"replay"},{default:Y(()=>[E(It,null,{default:Y(()=>[...n[24]||(n[24]=[bt("Update Account Balances",-1)])]),_:1})]),_:1}),E(lt,{dense:"",onClick:n[13]||(n[13]=a=>this.z25Store.setAllHidden()),icon:"visibility_off"},{default:Y(()=>[E(It,null,{default:Y(()=>[...n[25]||(n[25]=[bt("This will set every channel hidden only, not a toggle.",-1)])]),_:1})]),_:1}),E(lt,{dense:"",onClick:n[14]||(n[14]=a=>this.toggleAll()),icon:"cancel"},{default:Y(()=>[E(It,null,{default:Y(()=>[...n[26]||(n[26]=[bt("TypeA plot will bypass checks and plot all channels, and NOT change any settings",-1)])]),_:1})]),_:1}),E(Da),E(lt,{dense:"",onClick:n[15]||(n[15]=a=>this.z25Store.cancelAll()),icon:"cancel"},{default:Y(()=>[E(It,null,{default:Y(()=>[...n[27]||(n[27]=[bt("Cancel all orders",-1)])]),_:1})]),_:1})]),_:1})])]),_:1})}const Xb=Oi(Vb,[["render",jb]]),Qb=Pi({name:"Component",props:["o"],setup(t){return{z25Store:Ii(),title:st("Title"),props:st(t),running:st(!0),interval:st(null),half_domain:st(5)}},mounted(){console.log("mounted"),this.render()},computed:{channelColor(){return ug().domain([0,Object.keys(this.z25Store.currencies).length]).interpolator(Ga),this.z25Store.colorThemes[this.z25Store.colorTheme](parseFloat(Object.keys(this.z25Store.currencies).indexOf(this.props.o.product_id.split("-")[0])/260))}},methods:{incHalfDomain(){this.half_domain+=1},decHalfDomain(){this.half_domain-1>0&&(this.half_domain-=1)},runCB(){console.log("runCB");const t=`https://www.coinbase.com/advanced-trade/spot/${this.props.o.product_id}`;window.open(t,"_blank")},render(){if(this.props.o.status=="FILLED")return;const t=`${this.props.o.product_id}-${this.props.o.id}`;vt("#"+t).selectAll("svg").remove();const n=document.getElementById(t).getBoundingClientRect(),e=vt("#"+t).append("svg").style("height","225px").style("width","100px").attr("id","plot_svg"),r=ja().domain([-1*this.half_domain,this.half_domain]).range([100,-100]),i=Vg(r);e.append("g").attr("transform","translate("+n.width/3+","+(n.height/2+5)+")").call(i);let o="----";try{if(o=((this.props.o.order_configuration.limit_limit_gtc.limit_price-this.z25Store.channels[this.props.o.product_id].rawData[0].Close)/this.props.o.order_configuration.limit_limit_gtc.limit_price*100).toFixed(2),e.append("text").attr("transform","translate("+n.width*.55+",35)").attr("fill","#FFF").text(o+"%"),e.append("text").attr("transform","translate("+(n.width/3+15)+","+(n.height/2+9)+")").attr("fill","#CC6").text(this.z25Store.channels[this.props.o.product_id].rawData[0].Close),e.append("path").attr("d",Eo().type(nr).size(64)).attr("fill","#CC6").attr("transform","translate("+(n.width/3+5)+","+(n.height/2+5)+")"),this.props.o.side==="BUY"){const a=(this.props.o.order_configuration.limit_limit_gtc.limit_price-this.z25Store.channels[this.props.o.product_id].rawData[0].Close)/this.props.o.order_configuration.limit_limit_gtc.limit_price*100,s=parseInt(a*(100/this.half_domain));e.append("text").attr("transform","translate("+(n.width/3+15)+","+(n.height/2-s+9)+")").attr("fill","#5F5").text(parseFloat(this.props.o.order_configuration.limit_limit_gtc.limit_price).toFixed(4)),e.append("path").attr("d",Eo().type(nr).size(64)).attr("fill","#5F5").attr("transform","translate("+(n.width/3+5)+","+(n.height/2-s+5)+")")}else if(this.props.o.side==="SELL"){const a=(this.props.o.order_configuration.limit_limit_gtc.limit_price-this.z25Store.channels[this.props.o.product_id].rawData[0].Close)/this.props.o.order_configuration.limit_limit_gtc.limit_price*100,s=parseInt(a*(100/this.half_domain));e.append("text").attr("transform","translate("+(n.width/3+15)+","+(n.height/2-s+9)+")").attr("fill","#F55").text(parseFloat(this.props.o.order_configuration.limit_limit_gtc.limit_price).toFixed(4)),e.append("path").attr("d",Eo().type(nr).size(64)).attr("fill","#F55").attr("transform","translate("+(n.width/3+5)+","+(n.height/2-s+5)+")")}}catch{}this.running==!0&&(cancelAnimationFrame(this.interval),this.interval=requestAnimationFrame(()=>{this.render()}))}}}),Kb={class:"flex flex-center",style:{backgroundColor:"#222"}},Zb={class:"text-center"},Jb=["id"];function tS(t,n,e,r,i,o){return gt(),Ht(Jo,null,[E(Zr,{class:"hidden"},{default:Y(()=>[...n[8]||(n[8]=[z("ul",{style:{display:"table"}},[z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_buyB",class:"clickerB"},[z("div",{id:"clicker_buyL",class:"clickerL w3-xlarge"},"B")])]),z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_amtB",class:"clickerB"},[z("div",{id:"clicker_amtL",class:"clickerL w3-xlarge"},"2")])]),z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_typeB",class:"clickerB"},[z("div",{id:"clicker_typeL",class:"clickerL w3-xlarge"},"L")])]),z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_limitB",class:"clickerB"},[z("div",{id:"clicker_limitL",class:"clickerL w3-xlarge"},"0.1%")])]),z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_sellB",class:"clickerB"},[z("div",{id:"clicker_sellL",class:"clickerL w3-xlarge"},"S")])]),z("li",{style:{display:"table-cell"}},[z("div")])],-1)])]),_:1}),E(Zr,{dense:"",flat:"",style:{backgroundColor:"grey"},class:"q-ma-xs ptr q-pa-xs"},{default:Y(()=>[z("div",Kb,[z("table",Zb,[z("tr",null,[z("td",null,[z("div",{id:`${t.props.o.product_id}-${t.props.o.id}`,style:{height:"225px",width:"100px",borderRadius:"5px"},class:"q-mx-xs q-my-xs"},null,8,Jb),E(lt,{class:"absolute-top-left font-weight-bold",flat:"",dense:"",outline:"",onClick:n[0]||(n[0]=a=>this.runCB()),style:_g({backgroundColor:t.channelColor,border:"1px solid grey",color:"navy",width:"50px"})},{default:Y(()=>[bt(Et(t.o.product_id.split("-")[0])+" ",1),this.running&&t.o.side=="sell"?(gt(),yn(Jr,{key:0,color:"red",rounded:"",floating:""})):Jt("",!0),this.running&&t.o.side=="buy"?(gt(),yn(Jr,{key:1,color:"green",rounded:"",floating:""})):Jt("",!0)]),_:1},8,["style"]),E(lt,{flat:"","no-padding":"",class:"absolute-top-right",icon:"open_in_new",style:{color:"grey"},onClick:n[1]||(n[1]=a=>this.z25Store.togglePinned(t.o.product_id))})])]),z("tr",null,[this.running&&t.o.side=="BUY"?(gt(),yn(xi,{key:0,style:{backgroundColor:"green"}},{default:Y(()=>[E(lt,{flat:"",dense:"",onClick:n[2]||(n[2]=a=>this.z25Store.cancelOrder(this.props.o.order_id)),icon:"cancel"}),E(lt,{flat:"",dense:"",onClick:n[3]||(n[3]=a=>this.incHalfDomain()),icon:"remove"}),E(lt,{flat:"",dense:"",onClick:n[4]||(n[4]=a=>this.decHalfDomain()),icon:"add"})]),_:1})):(gt(),yn(xi,{key:1,style:{backgroundColor:"red"}},{default:Y(()=>[E(lt,{flat:"",dense:"",onClick:n[5]||(n[5]=a=>this.z25Store.cancelOrder(this.props.o.order_id)),icon:"cancel"}),E(lt,{flat:"",dense:"",onClick:n[6]||(n[6]=a=>this.incHalfDomain()),icon:"remove"}),E(lt,{flat:"",dense:"",onClick:n[7]||(n[7]=a=>this.decHalfDomain()),icon:"add"})]),_:1}))])])])]),_:1})],64)}const nS=Oi(Qb,[["render",tS]]),eS=Pi({name:"OrdersComponent",components:{OrderComponent:nS},setup(){return{z25Store:Ii(),title:st("Title")}},mounted(){console.log("OrdersComponent mounted")},methods:{dummy(){console.log("dummy")}}}),rS={class:"flex flex-center",style:{"background-color":"#222"}},iS={class:"flex flex-center","no-margin":"",style:{"background-color":"#222"}},oS={class:"full-width text-center"},aS={style:{width:"80px"}},sS={key:0},uS={key:0},lS={key:0},cS={key:0},fS={key:0},hS={key:0};function dS(t,n,e,r,i,o){const a=ta("OrderComponent");return gt(),yn(Zr,{dense:"",flat:"",style:{backgroundColor:"grey"},class:"q-ma-xs q-pa-xs ptr"},{default:Y(()=>[z("div",rS,[(gt(!0),Ht(Jo,null,Js(this.z25Store.orders,(s,u)=>(gt(),Ht("div",{key:u},[E(a,{o:s},null,8,["o"])]))),128))]),E(Da),z("div",iS,[z("table",oS,[n[0]||(n[0]=z("tr",{style:{"background-color":"#333"}},[z("th",null,"Curr"),z("th",null,"Side"),z("th",null,"Size"),z("th",null,"Price"),z("th",null,"Pnow"),z("th",null,"Value"),z("th",null,"Target"),z("th",null,"Progress")],-1)),(gt(!0),Ht(Jo,null,Js(this.z25Store.orders,(s,u)=>(gt(),Ht("tr",{key:u},[z("td",aS,[E(lt,{flat:"",dense:"",onClick:c=>this.z25Store.cbxLink(s.product_id)},{default:Y(()=>[bt(Et(s.product_id.split("-")[0]),1)]),_:2},1032,["onClick"])]),z("td",null,[s.side=="SELL"?(gt(),yn(Jr,{key:0,color:"red",rounded:""})):Jt("",!0),s.side=="BUY"?(gt(),yn(Jr,{key:1,color:"green",rounded:""})):Jt("",!0)]),z("td",null,[s.status=="OPEN"&&s.side=="SELL"?(gt(),Ht("span",sS,Et(parseFloat(s.order_configuration.limit_limit_gtc.base_size)),1)):Jt("",!0)]),z("td",null,[s.status=="OPEN"&&s.side=="SELL"?(gt(),Ht("span",uS,Et(parseFloat(s.order_configuration.limit_limit_gtc.limit_price).toFixed(4)),1)):Jt("",!0)]),z("td",null,[this.z25Store.channels[s.product_id]?(gt(),Ht("span",lS,Et(this.z25Store.channels[s.product_id].rawData[0].Close.toFixed(4)),1)):Jt("",!0)]),z("td",null,[this.z25Store.channels[s.product_id]&&s.side=="SELL"&&s.status=="OPEN"?(gt(),Ht("span",cS,Et((parseFloat(s.order_configuration.limit_limit_gtc.base_size)*this.z25Store.channels[s.product_id].rawData[0].Close).toFixed(6)),1)):Jt("",!0)]),z("td",null,[this.z25Store.channels[s.product_id]&&s.side=="SELL"&&s.status=="OPEN"?(gt(),Ht("span",fS,Et((parseFloat(s.order_configuration.limit_limit_gtc.base_size)*parseFloat(s.order_configuration.limit_limit_gtc.limit_price)).toFixed(4)),1)):Jt("",!0)]),z("td",null,[this.z25Store.channels[s.product_id]&&s.side=="SELL"&&s.status=="OPEN"?(gt(),Ht("span",hS,Et(((s.order_configuration.limit_limit_gtc.limit_price-this.z25Store.channels[s.product_id].rawData[0].Close)/s.order_configuration.limit_limit_gtc.limit_price*100).toFixed(2))+"% ",1)):Jt("",!0)])]))),128))])])]),_:1})}const pS=Oi(eS,[["render",dS]]),gS=Pi({name:"IndexPage",components:{TypeA:Xb,OrdersComponent:pS},setup(){return{visible:st(!0),z25Store:Ii()}},mounted(){},methods:{fatOn(t){console.log("fatOn",t),this.z25Store.channels[t].fatLine=!0},fatOff(t){console.log("fatOff",t),this.z25Store.channels[t].fatLine=!1},toggleVisibility(t){this.z25Store.channels[t].hidden?this.z25Store.channels[t].hidden=!1:this.z25Store.channels[t].hidden=!0}}}),mS={id:"ordersPanel",class:"hidden"};function yS(t,n,e,r,i,o){const a=ta("TypeA"),s=ta("OrdersComponent");return gt(),yn(n1,null,{default:Y(()=>[E(lg,{style:{height:"94vh"}},{default:Y(()=>[E(a),z("div",mS,[E(s)])]),_:1})]),_:1})}const vS=Oi(gS,[["render",yS]]);export{vS as default};
