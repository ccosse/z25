import{t as Qr,v as Sp,w as xp,R as Rl,x as $p,y as Mp,z as Tp,A as Fl,B as Bl,C as zl,D as Ys,E as an,F as ql,G as Wl,H as Tn,I as Vs,J as Ai,K as Ga,L as Ei,M as Zo,N as Cp,O as Li,P as ge,S as Hl,U as Yl,V as Gs,W as Dp,X as Ni,Y as Oi,Z as Vl,$ as It,a0 as Gl,a1 as Up,a2 as js,i as Yr,l as kp,a3 as Ap,T as Ep,a4 as Xs,b as ja,d as Xa,u as Lp,a5 as Np,a6 as Op,a7 as Qs,a8 as Pp,c as Ip,a9 as Rp,aa as Fp,e as Bp,ab as zp,ac as qp,ad as Wp,f as Hp,ae as Yp,af as Ks,ag as Vp,ah as Gp,ai as jp,aj as Zs,ak as Xp,al as Qp,am as Pi,an as jl,ao as Xl,ap as Ql,aq as Kl,ar as Kr,as as Zl,at as Zr,au as Jl,av as tc,aw as nc,ax as ec,ay as rc,az as Qa,aA as ic,aB as oc,aC as ac,aD as sc,aE as uc,aF as lc,aG as cc,aH as fc,aI as hc,aJ as dc,aK as pc,aL as gc,aM as mc,aN as yc,aO as _c,aP as bc,aQ as wc,aR as vc,aS as Sc,aT as xc,aU as $c,aV as Kp,aW as Zp,aX as Jp,aY as tg,aZ as Js,a_ as ng,a$ as tu,b0 as eg,b1 as rg,b2 as ig,b3 as og,b4 as ag,b5 as sg,b6 as ug,b7 as lg,b8 as cg,b9 as fg,ba as hg,bb as dg,bc as pg,bd as gg,be as mg,bf as yg,bg as _g,bh as bg,bi as dr,bj as Ka,bk as Za,bl as xt,bm as Mc,bn as Jr,bo as Jo,_ as Ii,n as po,o as Hn,p as Rt,q as ti,r as Ri,bp as wg,s as vg}from"./_plugin-vue_export-helper-BD3ODpiA.js";import{c as In,g as Le,i as nu,e as fe,l as Sg,b as xg,a as ot,h as kt,r as st,w as ta,s as Tc,Q as Cc,R as $g,f as Dc,T as Mg,o as Tg,S as Cg,A as Fi,F as _n,C as mt,E as Y,I as z,D as L,K as vt,J as Nt,B as Vt,O as Dg,G as tn,M as na,N as eu,L as ea}from"./index-CwKA4EOt.js";import{h as Bi,u as Ug,d as kg,e as Ag,b as Eg,i as Lg,g as ct,Q as Yn,c as Ng}from"./QBtn-CF5w5SiP.js";import{a as Og}from"./index-ngrFHoWO.js";function Pg(t){return t.length|0}function Ig(t){return!(t>0)}function Rg(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Fg(t){return n=>t(...n)}function Bg(...t){const n=typeof t[t.length-1]=="function"&&Fg(t.pop());t=t.map(Rg);const e=t.map(Pg),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(Ig))return o;for(;;){o.push(i.map((s,u)=>t[u][s]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function Uc(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let s of t)(s=n(s,++a,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++e,o+=r*(s-i))}if(e>1)return o/(e-1)}function zg(t,n){const e=Uc(t,n);return e&&Math.sqrt(e)}function En(t,n){let e,r;for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));return[e,r]}class Zn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,s=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);s&&(e[r++]=s),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class ir extends Map{constructor(n,e=Ec){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(ra(this,n))}has(n){return super.has(ra(this,n))}set(n,e){return super.set(kc(this,n),e)}delete(n){return super.delete(Ac(this,n))}}class zi extends Set{constructor(n,e=Ec){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(ra(this,n))}add(n){return super.add(kc(this,n))}delete(n){return super.delete(Ac(this,n))}}function ra({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function kc({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Ac({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Ec(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ia(t){return t}function qg(t,...n){return Ja(t,ia,ia,n)}function go(t,n,...e){return Ja(t,ia,n,e)}function Wg(t,n,...e){return Ja(t,Array.from,n,e)}function Ja(t,n,e,r){return(function i(o,a){if(a>=r.length)return e(o);const s=new ir,u=r[a++];let c=-1;for(const l of o){const h=u(l,++c,o),f=s.get(h);f?f.push(l):s.set(h,[l])}for(const[l,h]of s)s.set(l,i(h,a));return n(s)})(t,0)}function Hg(t,n){return Array.from(n,e=>t[e])}function Yg(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const s=ni(a[i],a[o]);if(s)return s}})):(e=t.map(e),r.sort((i,o)=>ni(e[i],e[o]))),Hg(t,r)}return t.sort(Lc(e))}function Lc(t=Qr){if(t===Qr)return ni;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function ni(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function ln(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Vg(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function or(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Gg(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Nc(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?ni:Lc(i);r>e;){if(r-e>600){const u=r-e+1,c=n-e+1,l=Math.log(u),h=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*h*(u-h)/u)*(c-u/2<0?-1:1),d=Math.max(e,Math.floor(n-c*h/u+f)),p=Math.min(r,Math.floor(n+(u-c)*h/u+f));Nc(t,n,d,p,i)}const o=t[n];let a=e,s=r;for(Fe(t,e,n),i(t[r],o)>0&&Fe(t,e,r);a<s;){for(Fe(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[e],o)===0?Fe(t,e,s):(++s,Fe(t,s,r)),s<=n&&(e=s+1),n<=s&&(r=s-1)}return t}function Fe(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function ei(t,n,e){if(t=Float64Array.from(xp(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return or(t);if(n>=1)return ln(t);var r,i=(r-1)*n,o=Math.floor(i),a=ln(Nc(t,o).subarray(0,o+1)),s=or(t.subarray(o+1));return a+(s-a)*(i-o)}}function jg(t,n,e=Sp){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),s=+e(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Xg(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function oa(t,n){return ei(t,.5,n)}function*Qg(t){for(const n of t)yield*n}function Oc(t){return Array.from(Qg(t))}function Kg(t,n){const e=new ir;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function Zg(t,n=Jg){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function Jg(t,n){return[t,n]}function aa(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function ts(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function ri(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function t0(t){return t}var mo=1,yo=2,sa=3,Ye=4,ru=1e-6;function n0(t){return"translate("+t+",0)"}function e0(t){return"translate(0,"+t+")"}function r0(t){return n=>+t(n)}function i0(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function o0(){return!this.__axis}function Pc(t,n){var e=[],r=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===mo||t===Ye?-1:1,l=t===Ye||t===yo?"x":"y",h=t===mo||t===sa?n0:e0;function f(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):t0),y=Math.max(o,0)+s,b=n.range(),m=+b[0]+u,S=+b[b.length-1]+u,_=(n.bandwidth?i0:r0)(n.copy(),u),x=d.selection?d.selection():d,w=x.selectAll(".domain").data([null]),v=x.selectAll(".tick").data(p,n).order(),T=v.exit(),C=v.enter().append("g").attr("class","tick"),k=v.select("line"),D=v.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),v=v.merge(C),k=k.merge(C.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),D=D.merge(C.append("text").attr("fill","currentColor").attr(l,c*y).attr("dy",t===mo?"0em":t===sa?"0.71em":"0.32em")),d!==x&&(w=w.transition(d),v=v.transition(d),k=k.transition(d),D=D.transition(d),T=T.transition(d).attr("opacity",ru).attr("transform",function(R){return isFinite(R=_(R))?h(R+u):this.getAttribute("transform")}),C.attr("opacity",ru).attr("transform",function(R){var q=this.parentNode.__axis;return h((q&&isFinite(q=q(R))?q:_(R))+u)})),T.remove(),w.attr("d",t===Ye||t===yo?a?"M"+c*a+","+m+"H"+u+"V"+S+"H"+c*a:"M"+u+","+m+"V"+S:a?"M"+m+","+c*a+"V"+u+"H"+S+"V"+c*a:"M"+m+","+u+"H"+S),v.attr("opacity",1).attr("transform",function(R){return h(_(R)+u)}),k.attr(l+"2",c*o),D.attr(l,c*y).text(g),x.filter(o0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===yo?"start":t===Ye?"end":"middle"),x.each(function(){this.__axis=_})}return f.scale=function(d){return arguments.length?(n=d,f):n},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),f):e.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(o=a=+d,f):o},f.tickSizeInner=function(d){return arguments.length?(o=+d,f):o},f.tickSizeOuter=function(d){return arguments.length?(a=+d,f):a},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(u=+d,f):u},f}function a0(t){return Pc(sa,t)}function s0(t){return Pc(Ye,t)}function u0(t){let n;for(;n=t.sourceEvent;)t=n;return t}function l0(t,n){if(t=u0(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const ii=18,Ic=.96422,Rc=1,Fc=.82521,Bc=4/29,_e=6/29,zc=3*_e*_e,c0=_e*_e*_e;function qc(t){if(t instanceof un)return new un(t.l,t.a,t.b,t.opacity);if(t instanceof bn)return Wc(t);t instanceof Rl||(t=$p(t));var n=vo(t.r),e=vo(t.g),r=vo(t.b),i=_o((.2225045*n+.7168786*e+.0606169*r)/Rc),o,a;return n===e&&e===r?o=a=i:(o=_o((.4360747*n+.3850649*e+.1430804*r)/Ic),a=_o((.0139322*n+.0971045*e+.7141733*r)/Fc)),new un(116*i-16,500*(o-i),200*(i-a),t.opacity)}function ua(t,n,e,r){return arguments.length===1?qc(t):new un(t,n,e,r??1)}function un(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Fl(un,ua,Bl(zl,{brighter(t){return new un(this.l+ii*(t??1),this.a,this.b,this.opacity)},darker(t){return new un(this.l-ii*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Ic*bo(n),t=Rc*bo(t),e=Fc*bo(e),new Rl(wo(3.1338561*n-1.6168667*t-.4906146*e),wo(-.9787684*n+1.9161415*t+.033454*e),wo(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function _o(t){return t>c0?Math.pow(t,1/3):t/zc+Bc}function bo(t){return t>_e?t*t*t:zc*(t-Bc)}function wo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function vo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function f0(t){if(t instanceof bn)return new bn(t.h,t.c,t.l,t.opacity);if(t instanceof un||(t=qc(t)),t.a===0&&t.b===0)return new bn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Tp;return new bn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function la(t,n,e,r){return arguments.length===1?f0(t):new bn(t,n,e,r??1)}function bn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Wc(t){if(isNaN(t.h))return new un(t.l,0,0,t.opacity);var n=t.h*Mp;return new un(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Fl(bn,la,Bl(zl,{brighter(t){return new bn(this.h,this.c,this.l+ii*(t??1),this.opacity)},darker(t){return new bn(this.h,this.c,this.l-ii*(t??1),this.opacity)},rgb(){return Wc(this).rgb()}}));function h0(t){return function(n,e){var r=t((n=Ys(n)).h,(e=Ys(e)).h),i=an(n.s,e.s),o=an(n.l,e.l),a=an(n.opacity,e.opacity);return function(s){return n.h=r(s),n.s=i(s),n.l=o(s),n.opacity=a(s),n+""}}}const d0=h0(ql);function p0(t,n){var e=an((t=ua(t)).l,(n=ua(n)).l),r=an(t.a,n.a),i=an(t.b,n.b),o=an(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function g0(t){return function(n,e){var r=t((n=la(n)).h,(e=la(e)).h),i=an(n.c,e.c),o=an(n.l,e.l),a=an(n.opacity,e.opacity);return function(s){return n.h=r(s),n.c=i(s),n.l=o(s),n.opacity=a(s),n+""}}}const m0=g0(ql);function qi(t,n){n===void 0&&(n=t,t=Wl);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Xt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}const ca=Math.PI,fa=2*ca,Vn=1e-6,y0=fa-Vn;function Hc(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function _0(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Hc;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Yc{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Hc:_0(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-n,c=i-e,l=a-n,h=s-e,f=l*l+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>Vn)if(!(Math.abs(h*u-c*l)>Vn)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,p=i-s,g=u*u+c*c,y=d*d+p*p,b=Math.sqrt(g),m=Math.sqrt(f),S=o*Math.tan((ca-Math.acos((g+f-y)/(2*b*m)))/2),_=S/m,x=S/b;Math.abs(_-1)>Vn&&this._append`L${n+_*l},${e+_*h}`,this._append`A${o},${o},0,0,${+(h*d>l*p)},${this._x1=n+x*u},${this._y1=e+x*c}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),c=n+s,l=e+u,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Vn||Math.abs(this._y1-l)>Vn)&&this._append`L${c},${l}`,r&&(f<0&&(f=f%fa+fa),f>y0?this._append`A${r},${r},0,1,${h},${n-s},${e-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:f>Vn&&this._append`A${r},${r},0,${+(f>=ca)},${h},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jn(t=3){return new Yc(+t)}var K=1e-6,Vc=1e-12,tt=Math.PI,dt=tt/2,iu=tt/4,Pt=tt*2,Dt=180/tt,ht=tt/180,ut=Math.abs,Ne=Math.atan,$n=Math.atan2,Z=Math.cos,Gc=Math.exp,oi=Math.log,So=Math.pow,X=Math.sin,qt=Math.sign||function(t){return t>0?1:t<0?-1:0},Et=Math.sqrt,ns=Math.tan;function jc(t){return t>1?0:t<-1?tt:Math.acos(t)}function Yt(t){return t>1?dt:t<-1?-dt:Math.asin(t)}function Wt(){}function ai(t,n){t&&au.hasOwnProperty(t.type)&&au[t.type](t,n)}var ou={Feature:function(t,n){ai(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)ai(e[r].geometry,n)}},au={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){ha(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ha(e[r],n,0)},Polygon:function(t,n){su(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)su(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)ai(e[r],n)}};function ha(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function su(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)ha(t[e],n,1);n.polygonEnd()}function Gn(t,n){t&&ou.hasOwnProperty(t.type)?ou[t.type](t,n):ai(t,n)}function da(t){return[$n(t[1],t[0]),Yt(t[2])]}function we(t){var n=t[0],e=t[1],r=Z(e);return[r*Z(n),r*X(n),X(e)]}function Er(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function si(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function xo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Lr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function pa(t){var n=Et(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function ga(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function ma(t,n){return ut(t)>tt&&(t-=Math.round(t/Pt)*Pt),[t,n]}ma.invert=ma;function Xc(t,n,e){return(t%=Pt)?n||e?ga(lu(t),cu(n,e)):lu(t):n||e?cu(n,e):ma}function uu(t){return function(n,e){return n+=t,ut(n)>tt&&(n-=Math.round(n/Pt)*Pt),[n,e]}}function lu(t){var n=uu(t);return n.invert=uu(-t),n}function cu(t,n){var e=Z(t),r=X(t),i=Z(n),o=X(n);function a(s,u){var c=Z(u),l=Z(s)*c,h=X(s)*c,f=X(u),d=f*e+l*r;return[$n(h*i-d*o,l*e-f*r),Yt(d*i+h*o)]}return a.invert=function(s,u){var c=Z(u),l=Z(s)*c,h=X(s)*c,f=X(u),d=f*i-h*o;return[$n(h*i+f*o,l*e+d*r),Yt(d*e-l*r)]},a}function b0(t){t=Xc(t[0]*ht,t[1]*ht,t.length>2?t[2]*ht:0);function n(e){return e=t(e[0]*ht,e[1]*ht),e[0]*=Dt,e[1]*=Dt,e}return n.invert=function(e){return e=t.invert(e[0]*ht,e[1]*ht),e[0]*=Dt,e[1]*=Dt,e},n}function w0(t,n,e,r,i,o){if(e){var a=Z(n),s=X(n),u=r*e;i==null?(i=n+r*Pt,o=n-u/2):(i=fu(a,i),o=fu(a,o),(r>0?i<o:i>o)&&(i+=r*Pt));for(var c,l=i;r>0?l>o:l<o;l-=u)c=da([a,-s*Z(l),-s*X(l)]),t.point(c[0],c[1])}}function fu(t,n){n=we(n),n[0]-=t,pa(n);var e=jc(-n[1]);return((-n[2]<0?-e:e)+Pt-K)%Pt}function Qc(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Wt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Vr(t,n){return ut(t[0]-n[0])<K&&ut(t[1]-n[1])<K}function Nr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Kc(t,n,e,r,i){var o=[],a=[],s,u;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,y=p[0],b=p[g],m;if(Vr(y,b)){if(!y[2]&&!b[2]){for(i.lineStart(),s=0;s<g;++s)i.point((y=p[s])[0],y[1]);i.lineEnd();return}b[0]+=2*K}o.push(m=new Nr(y,p,null,!0)),a.push(m.o=new Nr(y,null,m,!1)),o.push(m=new Nr(b,p,null,!1)),a.push(m.o=new Nr(b,null,m,!0))}}),!!o.length){for(a.sort(n),hu(o),hu(a),s=0,u=a.length;s<u;++s)a[s].e=e=!e;for(var c=o[0],l,h;;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,u=l.length;s<u;++s)i.point((h=l[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;s>=0;--s)i.point((h=l[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);i.lineEnd()}}}function hu(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function $o(t){return ut(t[0])<=tt?t[0]:qt(t[0])*((ut(t[0])+tt)%Pt-tt)}function v0(t,n){var e=$o(n),r=n[1],i=X(r),o=[X(e),-Z(e),0],a=0,s=0,u=new Zn;i===1?r=dt+K:i===-1&&(r=-dt-K);for(var c=0,l=t.length;c<l;++c)if(f=(h=t[c]).length)for(var h,f,d=h[f-1],p=$o(d),g=d[1]/2+iu,y=X(g),b=Z(g),m=0;m<f;++m,p=_,y=w,b=v,d=S){var S=h[m],_=$o(S),x=S[1]/2+iu,w=X(x),v=Z(x),T=_-p,C=T>=0?1:-1,k=C*T,D=k>tt,R=y*w;if(u.add($n(R*C*X(k),b*v+R*Z(k))),a+=D?T+C*Pt:T,D^p>=e^_>=e){var q=si(we(d),we(S));pa(q);var E=si(o,q);pa(E);var M=(D^T>=0?-1:1)*Yt(E[2]);(r>M||r===M&&(q[0]||q[1]))&&(s+=D^T>=0?1:-1)}}return(a<-K||a<K&&u<-Vc)^s&1}function Zc(t,n,e,r){return function(i){var o=n(i),a=Qc(),s=n(a),u=!1,c,l,h,f={point:d,lineStart:g,lineEnd:y,polygonStart:function(){f.point=b,f.lineStart=m,f.lineEnd=S,l=[],c=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=y,l=Oc(l);var _=v0(c,r);l.length?(u||(i.polygonStart(),u=!0),Kc(l,x0,_,e,i)):_&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(_,x){t(_,x)&&i.point(_,x)}function p(_,x){o.point(_,x)}function g(){f.point=p,o.lineStart()}function y(){f.point=d,o.lineEnd()}function b(_,x){h.push([_,x]),s.point(_,x)}function m(){s.lineStart(),h=[]}function S(){b(h[0][0],h[0][1]),s.lineEnd();var _=s.clean(),x=a.result(),w,v=x.length,T,C,k;if(h.pop(),c.push(h),h=null,!!v){if(_&1){if(C=x[0],(T=C.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),w=0;w<T;++w)i.point((k=C[w])[0],k[1]);i.lineEnd()}return}v>1&&_&2&&x.push(x.pop().concat(x.shift())),l.push(x.filter(S0))}}return f}}function S0(t){return t.length>1}function x0(t,n){return((t=t.x)[0]<0?t[1]-dt-K:dt-t[1])-((n=n.x)[0]<0?n[1]-dt-K:dt-n[1])}const du=Zc(function(){return!0},$0,T0,[-tt,-dt]);function $0(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?tt:-tt,u=ut(o-n);ut(u-tt)<K?(t.point(n,e=(e+a)/2>0?dt:-dt),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),t.point(o,e),i=0):r!==s&&u>=tt&&(ut(n-r)<K&&(n-=r*K),ut(o-s)<K&&(o-=s*K),e=M0(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),i=0),t.point(n=o,e=a),r=s},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function M0(t,n,e,r){var i,o,a=X(t-e);return ut(a)>K?Ne((X(n)*(o=Z(r))*X(e)-X(r)*(i=Z(n))*X(t))/(i*o*a)):(n+r)/2}function T0(t,n,e,r){var i;if(t==null)i=e*dt,r.point(-tt,i),r.point(0,i),r.point(tt,i),r.point(tt,0),r.point(tt,-i),r.point(0,-i),r.point(-tt,-i),r.point(-tt,0),r.point(-tt,i);else if(ut(t[0]-n[0])>K){var o=t[0]<n[0]?tt:-tt;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function C0(t){var n=Z(t),e=2*ht,r=n>0,i=ut(n)>K;function o(l,h,f,d){w0(d,t,e,f,l,h)}function a(l,h){return Z(l)*Z(h)>n}function s(l){var h,f,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(y,b){var m=[y,b],S,_=a(y,b),x=r?_?0:c(y,b):_?c(y+(y<0?tt:-tt),b):0;if(!h&&(p=d=_)&&l.lineStart(),_!==d&&(S=u(h,m),(!S||Vr(h,S)||Vr(m,S))&&(m[2]=1)),_!==d)g=0,_?(l.lineStart(),S=u(m,h),l.point(S[0],S[1])):(S=u(h,m),l.point(S[0],S[1],2),l.lineEnd()),h=S;else if(i&&h&&r^_){var w;!(x&f)&&(w=u(m,h,!0))&&(g=0,r?(l.lineStart(),l.point(w[0][0],w[0][1]),l.point(w[1][0],w[1][1]),l.lineEnd()):(l.point(w[1][0],w[1][1]),l.lineEnd(),l.lineStart(),l.point(w[0][0],w[0][1],3)))}_&&(!h||!Vr(h,m))&&l.point(m[0],m[1]),h=m,d=_,f=x},lineEnd:function(){d&&l.lineEnd(),h=null},clean:function(){return g|(p&&d)<<1}}}function u(l,h,f){var d=we(l),p=we(h),g=[1,0,0],y=si(d,p),b=Er(y,y),m=y[0],S=b-m*m;if(!S)return!f&&l;var _=n*b/S,x=-n*m/S,w=si(g,y),v=Lr(g,_),T=Lr(y,x);xo(v,T);var C=w,k=Er(v,C),D=Er(C,C),R=k*k-D*(Er(v,v)-1);if(!(R<0)){var q=Et(R),E=Lr(C,(-k-q)/D);if(xo(E,v),E=da(E),!f)return E;var M=l[0],N=h[0],G=l[1],V=h[1],A;N<M&&(A=M,M=N,N=A);var O=N-M,F=ut(O-tt)<K,W=F||O<K;if(!F&&V<G&&(A=G,G=V,V=A),W?F?G+V>0^E[1]<(ut(E[0]-M)<K?G:V):G<=E[1]&&E[1]<=V:O>tt^(M<=E[0]&&E[0]<=N)){var B=Lr(C,(-k+q)/D);return xo(B,v),[E,da(B)]}}}function c(l,h){var f=r?t:tt-t,d=0;return l<-f?d|=1:l>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return Zc(a,s,o,r?[0,-t]:[-tt,t-tt])}function D0(t,n,e,r,i,o){var a=t[0],s=t[1],u=n[0],c=n[1],l=0,h=1,f=u-a,d=c-s,p;if(p=e-a,!(!f&&p>0)){if(p/=f,f<0){if(p<l)return;p<h&&(h=p)}else if(f>0){if(p>h)return;p>l&&(l=p)}if(p=i-a,!(!f&&p<0)){if(p/=f,f<0){if(p>h)return;p>l&&(l=p)}else if(f>0){if(p<l)return;p<h&&(h=p)}if(p=r-s,!(!d&&p>0)){if(p/=d,d<0){if(p<l)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>l&&(l=p)}if(p=o-s,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>l&&(l=p)}else if(d>0){if(p<l)return;p<h&&(h=p)}return l>0&&(t[0]=a+l*f,t[1]=s+l*d),h<1&&(n[0]=a+h*f,n[1]=s+h*d),!0}}}}}var Ve=1e9,Or=-Ve;function Jc(t,n,e,r){function i(c,l){return t<=c&&c<=e&&n<=l&&l<=r}function o(c,l,h,f){var d=0,p=0;if(c==null||(d=a(c,h))!==(p=a(l,h))||u(c,l)<0^h>0)do f.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==p);else f.point(l[0],l[1])}function a(c,l){return ut(c[0]-t)<K?l>0?0:3:ut(c[0]-e)<K?l>0?2:1:ut(c[1]-n)<K?l>0?1:0:l>0?3:2}function s(c,l){return u(c.x,l.x)}function u(c,l){var h=a(c,1),f=a(l,1);return h!==f?h-f:h===0?l[1]-c[1]:h===1?c[0]-l[0]:h===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,h=Qc(),f,d,p,g,y,b,m,S,_,x,w,v={point:T,lineStart:R,lineEnd:q,polygonStart:k,polygonEnd:D};function T(M,N){i(M,N)&&l.point(M,N)}function C(){for(var M=0,N=0,G=d.length;N<G;++N)for(var V=d[N],A=1,O=V.length,F=V[0],W,B,J=F[0],nt=F[1];A<O;++A)W=J,B=nt,F=V[A],J=F[0],nt=F[1],B<=r?nt>r&&(J-W)*(r-B)>(nt-B)*(t-W)&&++M:nt<=r&&(J-W)*(r-B)<(nt-B)*(t-W)&&--M;return M}function k(){l=h,f=[],d=[],w=!0}function D(){var M=C(),N=w&&M,G=(f=Oc(f)).length;(N||G)&&(c.polygonStart(),N&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),G&&Kc(f,s,M,o,c),c.polygonEnd()),l=c,f=d=p=null}function R(){v.point=E,d&&d.push(p=[]),x=!0,_=!1,m=S=NaN}function q(){f&&(E(g,y),b&&_&&h.rejoin(),f.push(h.result())),v.point=T,_&&l.lineEnd()}function E(M,N){var G=i(M,N);if(d&&p.push([M,N]),x)g=M,y=N,b=G,x=!1,G&&(l.lineStart(),l.point(M,N));else if(G&&_)l.point(M,N);else{var V=[m=Math.max(Or,Math.min(Ve,m)),S=Math.max(Or,Math.min(Ve,S))],A=[M=Math.max(Or,Math.min(Ve,M)),N=Math.max(Or,Math.min(Ve,N))];D0(V,A,t,n,e,r)?(_||(l.lineStart(),l.point(V[0],V[1])),l.point(A[0],A[1]),G||l.lineEnd(),w=!1):G&&(l.lineStart(),l.point(M,N),w=!1)}m=M,S=N,_=G}return v}}const ya=t=>t;var Mo=new Zn,_a=new Zn,tf,nf,ba,wa,yn={point:Wt,lineStart:Wt,lineEnd:Wt,polygonStart:function(){yn.lineStart=U0,yn.lineEnd=A0},polygonEnd:function(){yn.lineStart=yn.lineEnd=yn.point=Wt,Mo.add(ut(_a)),_a=new Zn},result:function(){var t=Mo/2;return Mo=new Zn,t}};function U0(){yn.point=k0}function k0(t,n){yn.point=ef,tf=ba=t,nf=wa=n}function ef(t,n){_a.add(wa*t-ba*n),ba=t,wa=n}function A0(){ef(tf,nf)}var ve=1/0,ui=ve,ar=-ve,li=ar,ci={point:E0,lineStart:Wt,lineEnd:Wt,polygonStart:Wt,polygonEnd:Wt,result:function(){var t=[[ve,ui],[ar,li]];return ar=li=-(ui=ve=1/0),t}};function E0(t,n){t<ve&&(ve=t),t>ar&&(ar=t),n<ui&&(ui=n),n>li&&(li=n)}var va=0,Sa=0,Ge=0,fi=0,hi=0,me=0,xa=0,$a=0,je=0,rf,of,rn,on,zt={point:Jn,lineStart:pu,lineEnd:gu,polygonStart:function(){zt.lineStart=O0,zt.lineEnd=P0},polygonEnd:function(){zt.point=Jn,zt.lineStart=pu,zt.lineEnd=gu},result:function(){var t=je?[xa/je,$a/je]:me?[fi/me,hi/me]:Ge?[va/Ge,Sa/Ge]:[NaN,NaN];return va=Sa=Ge=fi=hi=me=xa=$a=je=0,t}};function Jn(t,n){va+=t,Sa+=n,++Ge}function pu(){zt.point=L0}function L0(t,n){zt.point=N0,Jn(rn=t,on=n)}function N0(t,n){var e=t-rn,r=n-on,i=Et(e*e+r*r);fi+=i*(rn+t)/2,hi+=i*(on+n)/2,me+=i,Jn(rn=t,on=n)}function gu(){zt.point=Jn}function O0(){zt.point=I0}function P0(){af(rf,of)}function I0(t,n){zt.point=af,Jn(rf=rn=t,of=on=n)}function af(t,n){var e=t-rn,r=n-on,i=Et(e*e+r*r);fi+=i*(rn+t)/2,hi+=i*(on+n)/2,me+=i,i=on*t-rn*n,xa+=i*(rn+t),$a+=i*(on+n),je+=i*3,Jn(rn=t,on=n)}function sf(t){this._context=t}sf.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Pt);break}}},result:Wt};var Ma=new Zn,To,uf,lf,Xe,Qe,sr={point:Wt,lineStart:function(){sr.point=R0},lineEnd:function(){To&&cf(uf,lf),sr.point=Wt},polygonStart:function(){To=!0},polygonEnd:function(){To=null},result:function(){var t=+Ma;return Ma=new Zn,t}};function R0(t,n){sr.point=cf,uf=Xe=t,lf=Qe=n}function cf(t,n){Xe-=t,Qe-=n,Ma.add(Et(Xe*Xe+Qe*Qe)),Xe=t,Qe=n}let mu,di,yu,_u;class bu{constructor(n){this._append=n==null?ff:F0(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==yu||this._append!==di){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,yu=r,di=this._append,_u=this._,this._=i}this._+=_u;break}}}result(){const n=this._;return this._="",n.length?n:null}}function ff(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function F0(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return ff;if(n!==mu){const e=10**n;mu=n,di=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return di}function es(t,n){let e=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Gn(s,i(o))),o.result()}return a.area=function(s){return Gn(s,i(yn)),yn.result()},a.measure=function(s){return Gn(s,i(sr)),sr.result()},a.bounds=function(s){return Gn(s,i(ci)),ci.result()},a.centroid=function(s){return Gn(s,i(zt)),zt.result()},a.projection=function(s){return arguments.length?(i=s==null?(t=null,ya):(t=s).stream,a):t},a.context=function(s){return arguments.length?(o=s==null?(n=null,new bu(e)):new sf(n=s),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return e;if(s==null)e=null;else{const u=Math.floor(s);if(!(u>=0))throw new RangeError(`invalid digits: ${s}`);e=u}return n===null&&(o=new bu(e)),a},a.projection(t).digits(e).context(n)}function pi(t){return{stream:Wi(t)}}function Wi(t){return function(n){var e=new Ta;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ta(){}Ta.prototype={constructor:Ta,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rs(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Gn(e,t.stream(ci)),n(ci.result()),r!=null&&t.clipExtent(r),t}function is(t,n,e){return rs(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,u])},e)}function hf(t,n,e){return is(t,[[0,0],n],e)}function df(t,n,e){return rs(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},e)}function pf(t,n,e){return rs(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},e)}var wu=16,B0=Z(30*ht);function vu(t,n){return+n?q0(t,n):z0(t)}function z0(t){return Wi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function q0(t,n){function e(r,i,o,a,s,u,c,l,h,f,d,p,g,y){var b=c-r,m=l-i,S=b*b+m*m;if(S>4*n&&g--){var _=a+f,x=s+d,w=u+p,v=Et(_*_+x*x+w*w),T=Yt(w/=v),C=ut(ut(w)-1)<K||ut(o-h)<K?(o+h)/2:$n(x,_),k=t(C,T),D=k[0],R=k[1],q=D-r,E=R-i,M=m*q-b*E;(M*M/S>n||ut((b*q+m*E)/S-.5)>.3||a*f+s*d+u*p<B0)&&(e(r,i,o,a,s,u,D,R,C,_/=v,x/=v,w,g,y),y.point(D,R),e(D,R,C,_,x,w,c,l,h,f,d,p,g,y))}}return function(r){var i,o,a,s,u,c,l,h,f,d,p,g,y={point:b,lineStart:m,lineEnd:_,polygonStart:function(){r.polygonStart(),y.lineStart=x},polygonEnd:function(){r.polygonEnd(),y.lineStart=m}};function b(T,C){T=t(T,C),r.point(T[0],T[1])}function m(){h=NaN,y.point=S,r.lineStart()}function S(T,C){var k=we([T,C]),D=t(T,C);e(h,f,l,d,p,g,h=D[0],f=D[1],l=T,d=k[0],p=k[1],g=k[2],wu,r),r.point(h,f)}function _(){y.point=b,r.lineEnd()}function x(){m(),y.point=w,y.lineEnd=v}function w(T,C){S(i=T,C),o=h,a=f,s=d,u=p,c=g,y.point=S}function v(){e(h,f,l,d,p,g,o,a,i,s,u,c,wu,r),y.lineEnd=_,_()}return y}}var W0=Wi({point:function(t,n){this.stream.point(t*ht,n*ht)}});function H0(t){return Wi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Y0(t,n,e,r,i){function o(a,s){return a*=r,s*=i,[n+t*a,e-t*s]}return o.invert=function(a,s){return[(a-n)/t*r,(e-s)/t*i]},o}function Su(t,n,e,r,i,o){if(!o)return Y0(t,n,e,r,i);var a=Z(o),s=X(o),u=a*t,c=s*t,l=a/t,h=s/t,f=(s*e-a*n)/t,d=(s*n+a*e)/t;function p(g,y){return g*=r,y*=i,[u*g-c*y+n,e-c*g-u*y]}return p.invert=function(g,y){return[r*(l*g-h*y+f),i*(d-h*g-l*y)]},p}function Rn(t){return gf(function(){return t})()}function gf(t){var n,e=150,r=480,i=250,o=0,a=0,s=0,u=0,c=0,l,h=0,f=1,d=1,p=null,g=du,y=null,b,m,S,_=ya,x=.5,w,v,T,C,k;function D(M){return T(M[0]*ht,M[1]*ht)}function R(M){return M=T.invert(M[0],M[1]),M&&[M[0]*Dt,M[1]*Dt]}D.stream=function(M){return C&&k===M?C:C=W0(H0(l)(g(w(_(k=M)))))},D.preclip=function(M){return arguments.length?(g=M,p=void 0,E()):g},D.postclip=function(M){return arguments.length?(_=M,y=b=m=S=null,E()):_},D.clipAngle=function(M){return arguments.length?(g=+M?C0(p=M*ht):(p=null,du),E()):p*Dt},D.clipExtent=function(M){return arguments.length?(_=M==null?(y=b=m=S=null,ya):Jc(y=+M[0][0],b=+M[0][1],m=+M[1][0],S=+M[1][1]),E()):y==null?null:[[y,b],[m,S]]},D.scale=function(M){return arguments.length?(e=+M,q()):e},D.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],q()):[r,i]},D.center=function(M){return arguments.length?(o=M[0]%360*ht,a=M[1]%360*ht,q()):[o*Dt,a*Dt]},D.rotate=function(M){return arguments.length?(s=M[0]%360*ht,u=M[1]%360*ht,c=M.length>2?M[2]%360*ht:0,q()):[s*Dt,u*Dt,c*Dt]},D.angle=function(M){return arguments.length?(h=M%360*ht,q()):h*Dt},D.reflectX=function(M){return arguments.length?(f=M?-1:1,q()):f<0},D.reflectY=function(M){return arguments.length?(d=M?-1:1,q()):d<0},D.precision=function(M){return arguments.length?(w=vu(v,x=M*M),E()):Et(x)},D.fitExtent=function(M,N){return is(D,M,N)},D.fitSize=function(M,N){return hf(D,M,N)},D.fitWidth=function(M,N){return df(D,M,N)},D.fitHeight=function(M,N){return pf(D,M,N)};function q(){var M=Su(e,0,0,f,d,h).apply(null,n(o,a)),N=Su(e,r-M[0],i-M[1],f,d,h);return l=Xc(s,u,c),v=ga(n,N),T=ga(l,v),w=vu(v,x),E()}function E(){return C=k=null,D}return function(){return n=t.apply(this,arguments),D.invert=n.invert&&R,q()}}function os(t){var n=0,e=tt/3,r=gf(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ht,e=o[1]*ht):[n*Dt,e*Dt]},i}function V0(t){var n=Z(t);function e(r,i){return[r*n,X(i)/n]}return e.invert=function(r,i){return[r/n,Yt(i*n)]},e}function G0(t,n){var e=X(t),r=(e+X(n))/2;if(ut(r)<K)return V0(t);var i=1+e*(2*r-e),o=Et(i)/r;function a(s,u){var c=Et(i-2*r*X(u))/r;return[c*X(s*=r),o-c*Z(s)]}return a.invert=function(s,u){var c=o-u,l=$n(s,ut(c))*qt(c);return c*r<0&&(l-=tt*qt(s)*qt(c)),[l/r,Yt((i-(s*s+c*c)*r*r)/(2*r))]},a}function gi(){return os(G0).scale(155.424).center([0,33.6442])}function mf(){return gi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function j0(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function X0(){var t,n,e=mf(),r,i=gi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=gi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,c={point:function(f,d){u=[f,d]}};function l(f){var d=f[0],p=f[1];return u=null,r.point(d,p),u||(o.point(d,p),u)||(s.point(d,p),u)}l.invert=function(f){var d=e.scale(),p=e.translate(),g=(f[0]-p[0])/d,y=(f[1]-p[1])/d;return(y>=.12&&y<.234&&g>=-.425&&g<-.214?i:y>=.166&&y<.234&&g>=-.214&&g<-.115?a:e).invert(f)},l.stream=function(f){return t&&n===f?t:t=j0([e.stream(n=f),i.stream(f),a.stream(f)])},l.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),a.precision(f),h()):e.precision()},l.scale=function(f){return arguments.length?(e.scale(f),i.scale(f*.35),a.scale(f),l.translate(e.translate())):e.scale()},l.translate=function(f){if(!arguments.length)return e.translate();var d=e.scale(),p=+f[0],g=+f[1];return r=e.translate(f).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(c),o=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+K,g+.12*d+K],[p-.214*d-K,g+.234*d-K]]).stream(c),s=a.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+K,g+.166*d+K],[p-.115*d-K,g+.234*d-K]]).stream(c),h()},l.fitExtent=function(f,d){return is(l,f,d)},l.fitSize=function(f,d){return hf(l,f,d)},l.fitWidth=function(f,d){return df(l,f,d)},l.fitHeight=function(f,d){return pf(l,f,d)};function h(){return t=n=null,l}return l.scale(1070)}function yf(t){return function(n,e){var r=Z(n),i=Z(e),o=t(r*i);return o===1/0?[2,0]:[o*i*X(n),o*X(e)]}}function pr(t){return function(n,e){var r=Et(n*n+e*e),i=t(r),o=X(i),a=Z(i);return[$n(n*o,r*a),Yt(r&&e*o/r)]}}var _f=yf(function(t){return Et(2/(1+t))});_f.invert=pr(function(t){return 2*Yt(t/2)});function Q0(){return Rn(_f).scale(124.75).clipAngle(180-.001)}var bf=yf(function(t){return(t=jc(t))&&t/X(t)});bf.invert=pr(function(t){return t});function K0(){return Rn(bf).scale(79.4188).clipAngle(180-.001)}function Hi(t,n){return[t,oi(ns((dt+n)/2))]}Hi.invert=function(t,n){return[t,2*Ne(Gc(n))-dt]};function Z0(){return wf(Hi).scale(961/Pt)}function wf(t){var n=Rn(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,s,u,c;n.scale=function(h){return arguments.length?(r(h),l()):r()},n.translate=function(h){return arguments.length?(i(h),l()):i()},n.center=function(h){return arguments.length?(e(h),l()):e()},n.clipExtent=function(h){return arguments.length?(h==null?a=s=u=c=null:(a=+h[0][0],s=+h[0][1],u=+h[1][0],c=+h[1][1]),l()):a==null?null:[[a,s],[u,c]]};function l(){var h=tt*r(),f=n(b0(n.rotate()).invert([0,0]));return o(a==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===Hi?[[Math.max(f[0]-h,a),s],[Math.min(f[0]+h,u),c]]:[[a,Math.max(f[1]-h,s)],[u,Math.min(f[1]+h,c)]])}return l()}function Pr(t){return ns((dt+t)/2)}function J0(t,n){var e=Z(t),r=t===n?X(t):oi(e/Z(n))/oi(Pr(n)/Pr(t)),i=e*So(Pr(t),r)/r;if(!r)return Hi;function o(a,s){i>0?s<-dt+K&&(s=-dt+K):s>dt-K&&(s=dt-K);var u=i/So(Pr(s),r);return[u*X(r*a),i-u*Z(r*a)]}return o.invert=function(a,s){var u=i-s,c=qt(r)*Et(a*a+u*u),l=$n(a,ut(u))*qt(u);return u*r<0&&(l-=tt*qt(a)*qt(u)),[l/r,2*Ne(So(i/c,1/r))-dt]},o}function tm(){return os(J0).scale(109.5).parallels([30,30])}function mi(t,n){return[t,n]}mi.invert=mi;function nm(){return Rn(mi).scale(152.63)}function em(t,n){var e=Z(t),r=t===n?X(t):(e-Z(n))/(n-t),i=e/r+t;if(ut(r)<K)return mi;function o(a,s){var u=i-s,c=r*a;return[u*X(c),i-u*Z(c)]}return o.invert=function(a,s){var u=i-s,c=$n(a,ut(u))*qt(u);return u*r<0&&(c-=tt*qt(a)*qt(u)),[c/r,i-qt(r)*Et(a*a+u*u)]},o}function rm(){return os(em).scale(131.154).center([0,13.9389])}var Je=1.340264,tr=-.081106,nr=893e-6,er=.003796,yi=Et(3)/2,im=12;function vf(t,n){var e=Yt(yi*X(n)),r=e*e,i=r*r*r;return[t*Z(e)/(yi*(Je+3*tr*r+i*(7*nr+9*er*r))),e*(Je+tr*r+i*(nr+er*r))]}vf.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,s,u;o<im&&(s=e*(Je+tr*r+i*(nr+er*r))-n,u=Je+3*tr*r+i*(7*nr+9*er*r),e-=a=s/u,r=e*e,i=r*r*r,!(ut(a)<Vc));++o);return[yi*t*(Je+3*tr*r+i*(7*nr+9*er*r))/Z(e),Yt(X(e)/yi)]};function om(){return Rn(vf).scale(177.158)}function Sf(t,n){var e=Z(n),r=Z(t)*e;return[e*X(t)/r,X(n)/r]}Sf.invert=pr(Ne);function am(){return Rn(Sf).scale(144.049).clipAngle(60)}function xf(t,n){return[Z(n)*X(t),X(n)]}xf.invert=pr(Yt);function sm(){return Rn(xf).scale(249.5).clipAngle(90+K)}function $f(t,n){var e=Z(n),r=1+Z(t)*e;return[e*X(t)/r,X(n)/r]}$f.invert=pr(function(t){return 2*Ne(t)});function um(){return Rn($f).scale(250).clipAngle(142)}function Mf(t,n){return[oi(ns((dt+n)/2)),-t]}Mf.invert=function(t,n){return[-n,2*Ne(Gc(t))-dt]};function lm(){var t=wf(Mf),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}const Ca=Symbol("implicit");function as(){var t=new ir,n=[],e=[],r=Ca;function i(o){let a=t.get(o);if(a===void 0){if(r!==Ca)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new ir;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return as(n,e).unknown(r)},Tn.apply(i,arguments),i}function Yi(){var t=as().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,s=!1,u=0,c=0,l=.5;delete t.unknown;function h(){var f=n().length,d=i<r,p=d?i:r,g=d?r:i;o=(g-p)/Math.max(1,f-u+c*2),s&&(o=Math.floor(o)),p+=(g-p-o*(f-u))*l,a=o*(1-u),s&&(p=Math.round(p),a=Math.round(a));var y=aa(f).map(function(b){return p+o*b});return e(d?y.reverse():y)}return t.domain=function(f){return arguments.length?(n(f),h()):n()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),h()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),h()):l},t.copy=function(){return Yi(n(),[r,i]).round(s).paddingInner(u).paddingOuter(c).align(l)},Tn.apply(h(),arguments)}function Tf(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Tf(n())},t}function cm(){return Tf(Yi.apply(null,arguments).paddingInner(1))}function Cf(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Vs),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return Cf(t).unknown(n)},t=arguments.length?Array.from(t,Vs):[0,1],Ai(e)}function Df(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function xu(t){return Math.log(t)}function $u(t){return Math.exp(t)}function fm(t){return-Math.log(-t)}function hm(t){return-Math.exp(-t)}function dm(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pm(t){return t===10?dm:t===Math.E?Math.exp:n=>Math.pow(t,n)}function gm(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function Mu(t){return(n,e)=>-t(-n,e)}function Uf(t){const n=t(xu,$u),e=n.domain;let r=10,i,o;function a(){return i=gm(r),o=pm(r),e()[0]<0?(i=Mu(i),o=Mu(o),t(fm,hm)):t(xu,$u),n}return n.base=function(s){return arguments.length?(r=+s,a()):r},n.domain=function(s){return arguments.length?(e(s),a()):e()},n.ticks=s=>{const u=e();let c=u[0],l=u[u.length-1];const h=l<c;h&&([c,l]=[l,c]);let f=i(c),d=i(l),p,g;const y=s==null?10:+s;let b=[];if(!(r%1)&&d-f<y){if(f=Math.floor(f),d=Math.ceil(d),c>0){for(;f<=d;++f)for(p=1;p<r;++p)if(g=f<0?p/o(-f):p*o(f),!(g<c)){if(g>l)break;b.push(g)}}else for(;f<=d;++f)for(p=r-1;p>=1;--p)if(g=f>0?p/o(-f):p*o(f),!(g<c)){if(g>l)break;b.push(g)}b.length*2<y&&(b=Zo(c,l,y))}else b=Zo(f,d,Math.min(d-f,y)).map(o);return h?b.reverse():b},n.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Cp(u)).precision==null&&(u.trim=!0),u=Li(u)),s===1/0)return u;const c=Math.max(1,r*s/n.ticks().length);return l=>{let h=l/o(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=c?u(l):""}},n.nice=()=>e(Df(e(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),n}function kf(){const t=Uf(Ga()).domain([1,10]);return t.copy=()=>Ei(t,kf()).base(t.base()),Tn.apply(t,arguments),t}function Tu(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Cu(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Af(t){var n=1,e=t(Tu(n),Cu(n));return e.constant=function(r){return arguments.length?t(Tu(n=+r),Cu(n)):n},Ai(e)}function Ef(){var t=Af(Ga());return t.copy=function(){return Ei(t,Ef()).constant(t.constant())},Tn.apply(t,arguments)}function Du(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function mm(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ym(t){return t<0?-t*t:t*t}function Lf(t){var n=t(ge,ge),e=1;function r(){return e===1?t(ge,ge):e===.5?t(mm,ym):t(Du(e),Du(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Ai(n)}function Nf(){var t=Lf(Ga());return t.copy=function(){return Ei(t,Nf()).exponent(t.exponent())},Tn.apply(t,arguments),t}function Of(){var t=[],n=[],e=[],r;function i(){var a=0,s=Math.max(1,n.length);for(e=new Array(s-1);++a<s;)e[a-1]=jg(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:n[Hl(e,a)]}return o.invertExtent=function(a){var s=n.indexOf(a);return s<0?[NaN,NaN]:[s>0?e[s-1]:t[0],s<e.length?e[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Qr),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return Of().domain(t).range(n).unknown(r)},Tn.apply(o,arguments)}function Pf(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Hl(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return Pf().domain(t).range(n).unknown(e)},Tn.apply(i,arguments)}const Co=new Date,Do=new Date;function yt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let c;do u.push(c=new Date(+o)),n(o,s),t(o);while(c<o&&o<a);return u},i.filter=o=>yt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;n(a,-1),!o(a););else for(;--s>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(Co.setTime(+o),Do.setTime(+a),t(Co),t(Do),Math.floor(e(Co,Do))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _i=yt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);_i.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):_i);_i.range;const wn=1e3,Ht=wn*60,vn=Ht*60,Mn=vn*24,ss=Mn*7,Uu=Mn*30,Uo=Mn*365,jt=yt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*wn)},(t,n)=>(n-t)/wn,t=>t.getUTCSeconds());jt.range;const gr=yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wn)},(t,n)=>{t.setTime(+t+n*Ht)},(t,n)=>(n-t)/Ht,t=>t.getMinutes());gr.range;const mr=yt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ht)},(t,n)=>(n-t)/Ht,t=>t.getUTCMinutes());mr.range;const yr=yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wn-t.getMinutes()*Ht)},(t,n)=>{t.setTime(+t+n*vn)},(t,n)=>(n-t)/vn,t=>t.getHours());yr.range;const _r=yt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*vn)},(t,n)=>(n-t)/vn,t=>t.getUTCHours());_r.range;const re=yt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ht)/Mn,t=>t.getDate()-1);re.range;const Vi=yt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Mn,t=>t.getUTCDate()-1);Vi.range;const Gi=yt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Mn,t=>Math.floor(t/Mn));Gi.range;function ie(t){return yt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ht)/ss)}const Se=ie(0),ur=ie(1),If=ie(2),Rf=ie(3),te=ie(4),Ff=ie(5),Bf=ie(6);Se.range;ur.range;If.range;Rf.range;te.range;Ff.range;Bf.range;function oe(t){return yt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/ss)}const xe=oe(0),lr=oe(1),zf=oe(2),qf=oe(3),ne=oe(4),Wf=oe(5),Hf=oe(6);xe.range;lr.range;zf.range;qf.range;ne.range;Wf.range;Hf.range;const br=yt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());br.range;const wr=yt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wr.range;const Qt=yt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Qt.range;const Kt=yt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Kt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Kt.range;function Yf(t,n,e,r,i,o){const a=[[jt,1,wn],[jt,5,5*wn],[jt,15,15*wn],[jt,30,30*wn],[o,1,Ht],[o,5,5*Ht],[o,15,15*Ht],[o,30,30*Ht],[i,1,vn],[i,3,3*vn],[i,6,6*vn],[i,12,12*vn],[r,1,Mn],[r,2,2*Mn],[e,1,ss],[n,1,Uu],[n,3,3*Uu],[t,1,Uo]];function s(c,l,h){const f=l<c;f&&([c,l]=[l,c]);const d=h&&typeof h.range=="function"?h:u(c,l,h),p=d?d.range(c,+l+1):[];return f?p.reverse():p}function u(c,l,h){const f=Math.abs(l-c)/h,d=Yl(([,,y])=>y).right(a,f);if(d===a.length)return t.every(Gs(c/Uo,l/Uo,h));if(d===0)return _i.every(Math.max(Gs(c,l,h),1));const[p,g]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return p.every(g)}return[s,u]}const[_m,bm]=Yf(Kt,wr,xe,Gi,_r,mr),[wm,vm]=Yf(Qt,br,Se,re,yr,gr);function ko(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ao(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Be(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Sm(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=ze(i),l=qe(i),h=ze(o),f=qe(o),d=ze(a),p=qe(a),g=ze(s),y=qe(s),b=ze(u),m=qe(u),S={a:G,A:V,b:A,B:O,c:null,d:Ou,e:Ou,f:Ym,g:ny,G:ry,H:qm,I:Wm,j:Hm,L:Vf,m:Vm,M:Gm,p:F,q:W,Q:Ru,s:Fu,S:jm,u:Xm,U:Qm,V:Km,w:Zm,W:Jm,x:null,X:null,y:ty,Y:ey,Z:iy,"%":Iu},_={a:B,A:J,b:nt,B:et,c:null,d:Pu,e:Pu,f:uy,g:_y,G:wy,H:oy,I:ay,j:sy,L:jf,m:ly,M:cy,p:P,q:rt,Q:Ru,s:Fu,S:fy,u:hy,U:dy,V:py,w:gy,W:my,x:null,X:null,y:yy,Y:by,Z:vy,"%":Iu},x={a:k,A:D,b:R,B:q,c:E,d:Lu,e:Lu,f:Rm,g:Eu,G:Au,H:Nu,I:Nu,j:Nm,L:Im,m:Lm,M:Om,p:C,q:Em,Q:Bm,s:zm,S:Pm,u:Cm,U:Dm,V:Um,w:Tm,W:km,x:M,X:N,y:Eu,Y:Au,Z:Am,"%":Fm};S.x=w(e,S),S.X=w(r,S),S.c=w(n,S),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_);function w($,I){return function(H){var U=[],lt=-1,j=0,ft=$.length,gt,Lt,ce;for(H instanceof Date||(H=new Date(+H));++lt<ft;)$.charCodeAt(lt)===37&&(U.push($.slice(j,lt)),(Lt=ku[gt=$.charAt(++lt)])!=null?gt=$.charAt(++lt):Lt=gt==="e"?" ":"0",(ce=I[gt])&&(gt=ce(H,Lt)),U.push(gt),j=lt+1);return U.push($.slice(j,lt)),U.join("")}}function v($,I){return function(H){var U=Be(1900,void 0,1),lt=T(U,$,H+="",0),j,ft;if(lt!=H.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(I&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(j=Ao(Be(U.y,0,1)),ft=j.getUTCDay(),j=ft>4||ft===0?lr.ceil(j):lr(j),j=Vi.offset(j,(U.V-1)*7),U.y=j.getUTCFullYear(),U.m=j.getUTCMonth(),U.d=j.getUTCDate()+(U.w+6)%7):(j=ko(Be(U.y,0,1)),ft=j.getDay(),j=ft>4||ft===0?ur.ceil(j):ur(j),j=re.offset(j,(U.V-1)*7),U.y=j.getFullYear(),U.m=j.getMonth(),U.d=j.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),ft="Z"in U?Ao(Be(U.y,0,1)).getUTCDay():ko(Be(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(ft+5)%7:U.w+U.U*7-(ft+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Ao(U)):ko(U)}}function T($,I,H,U){for(var lt=0,j=I.length,ft=H.length,gt,Lt;lt<j;){if(U>=ft)return-1;if(gt=I.charCodeAt(lt++),gt===37){if(gt=I.charAt(lt++),Lt=x[gt in ku?I.charAt(lt++):gt],!Lt||(U=Lt($,H,U))<0)return-1}else if(gt!=H.charCodeAt(U++))return-1}return U}function C($,I,H){var U=c.exec(I.slice(H));return U?($.p=l.get(U[0].toLowerCase()),H+U[0].length):-1}function k($,I,H){var U=d.exec(I.slice(H));return U?($.w=p.get(U[0].toLowerCase()),H+U[0].length):-1}function D($,I,H){var U=h.exec(I.slice(H));return U?($.w=f.get(U[0].toLowerCase()),H+U[0].length):-1}function R($,I,H){var U=b.exec(I.slice(H));return U?($.m=m.get(U[0].toLowerCase()),H+U[0].length):-1}function q($,I,H){var U=g.exec(I.slice(H));return U?($.m=y.get(U[0].toLowerCase()),H+U[0].length):-1}function E($,I,H){return T($,n,I,H)}function M($,I,H){return T($,e,I,H)}function N($,I,H){return T($,r,I,H)}function G($){return a[$.getDay()]}function V($){return o[$.getDay()]}function A($){return u[$.getMonth()]}function O($){return s[$.getMonth()]}function F($){return i[+($.getHours()>=12)]}function W($){return 1+~~($.getMonth()/3)}function B($){return a[$.getUTCDay()]}function J($){return o[$.getUTCDay()]}function nt($){return u[$.getUTCMonth()]}function et($){return s[$.getUTCMonth()]}function P($){return i[+($.getUTCHours()>=12)]}function rt($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var I=w($+="",S);return I.toString=function(){return $},I},parse:function($){var I=v($+="",!1);return I.toString=function(){return $},I},utcFormat:function($){var I=w($+="",_);return I.toString=function(){return $},I},utcParse:function($){var I=v($+="",!0);return I.toString=function(){return $},I}}}var ku={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,xm=/^%/,$m=/[\\^$*+?|[\]().{}]/g;function at(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Mm(t){return t.replace($m,"\\$&")}function ze(t){return new RegExp("^(?:"+t.map(Mm).join("|")+")","i")}function qe(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Tm(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Cm(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Dm(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Um(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function km(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Au(t,n,e){var r=wt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Eu(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Am(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Em(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Lm(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Lu(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Nm(t,n,e){var r=wt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Nu(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Om(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Pm(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Im(t,n,e){var r=wt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Rm(t,n,e){var r=wt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Fm(t,n,e){var r=xm.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Bm(t,n,e){var r=wt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function zm(t,n,e){var r=wt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Ou(t,n){return at(t.getDate(),n,2)}function qm(t,n){return at(t.getHours(),n,2)}function Wm(t,n){return at(t.getHours()%12||12,n,2)}function Hm(t,n){return at(1+re.count(Qt(t),t),n,3)}function Vf(t,n){return at(t.getMilliseconds(),n,3)}function Ym(t,n){return Vf(t,n)+"000"}function Vm(t,n){return at(t.getMonth()+1,n,2)}function Gm(t,n){return at(t.getMinutes(),n,2)}function jm(t,n){return at(t.getSeconds(),n,2)}function Xm(t){var n=t.getDay();return n===0?7:n}function Qm(t,n){return at(Se.count(Qt(t)-1,t),n,2)}function Gf(t){var n=t.getDay();return n>=4||n===0?te(t):te.ceil(t)}function Km(t,n){return t=Gf(t),at(te.count(Qt(t),t)+(Qt(t).getDay()===4),n,2)}function Zm(t){return t.getDay()}function Jm(t,n){return at(ur.count(Qt(t)-1,t),n,2)}function ty(t,n){return at(t.getFullYear()%100,n,2)}function ny(t,n){return t=Gf(t),at(t.getFullYear()%100,n,2)}function ey(t,n){return at(t.getFullYear()%1e4,n,4)}function ry(t,n){var e=t.getDay();return t=e>=4||e===0?te(t):te.ceil(t),at(t.getFullYear()%1e4,n,4)}function iy(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+at(n/60|0,"0",2)+at(n%60,"0",2)}function Pu(t,n){return at(t.getUTCDate(),n,2)}function oy(t,n){return at(t.getUTCHours(),n,2)}function ay(t,n){return at(t.getUTCHours()%12||12,n,2)}function sy(t,n){return at(1+Vi.count(Kt(t),t),n,3)}function jf(t,n){return at(t.getUTCMilliseconds(),n,3)}function uy(t,n){return jf(t,n)+"000"}function ly(t,n){return at(t.getUTCMonth()+1,n,2)}function cy(t,n){return at(t.getUTCMinutes(),n,2)}function fy(t,n){return at(t.getUTCSeconds(),n,2)}function hy(t){var n=t.getUTCDay();return n===0?7:n}function dy(t,n){return at(xe.count(Kt(t)-1,t),n,2)}function Xf(t){var n=t.getUTCDay();return n>=4||n===0?ne(t):ne.ceil(t)}function py(t,n){return t=Xf(t),at(ne.count(Kt(t),t)+(Kt(t).getUTCDay()===4),n,2)}function gy(t){return t.getUTCDay()}function my(t,n){return at(lr.count(Kt(t)-1,t),n,2)}function yy(t,n){return at(t.getUTCFullYear()%100,n,2)}function _y(t,n){return t=Xf(t),at(t.getUTCFullYear()%100,n,2)}function by(t,n){return at(t.getUTCFullYear()%1e4,n,4)}function wy(t,n){var e=t.getUTCDay();return t=e>=4||e===0?ne(t):ne.ceil(t),at(t.getUTCFullYear()%1e4,n,4)}function vy(){return"+0000"}function Iu(){return"%"}function Ru(t){return+t}function Fu(t){return Math.floor(+t/1e3)}var he,ji,vr;Sy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Sy(t){return he=Sm(t),ji=he.format,he.parse,vr=he.utcFormat,he.utcParse,he}function xy(t){return new Date(t)}function $y(t){return t instanceof Date?+t:+new Date(+t)}function us(t,n,e,r,i,o,a,s,u,c){var l=Dp(),h=l.invert,f=l.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),m=c("%b %d"),S=c("%B"),_=c("%Y");function x(w){return(u(w)<w?d:s(w)<w?p:a(w)<w?g:o(w)<w?y:r(w)<w?i(w)<w?b:m:e(w)<w?S:_)(w)}return l.invert=function(w){return new Date(h(w))},l.domain=function(w){return arguments.length?f(Array.from(w,$y)):f().map(xy)},l.ticks=function(w){var v=f();return t(v[0],v[v.length-1],w??10)},l.tickFormat=function(w,v){return v==null?x:c(v)},l.nice=function(w){var v=f();return(!w||typeof w.range!="function")&&(w=n(v[0],v[v.length-1],w??10)),w?f(Df(v,w)):l},l.copy=function(){return Ei(l,us(t,n,e,r,i,o,a,s,u,c))},l}function My(){return Tn.apply(us(wm,vm,Qt,br,Se,re,yr,gr,jt,ji).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ty(){return Tn.apply(us(_m,bm,Kt,wr,xe,Vi,_r,mr,jt,vr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xi(){var t=0,n=.5,e=1,r=1,i,o,a,s,u,c=ge,l,h=!1,f;function d(g){return isNaN(g=+g)?f:(g=.5+((g=+l(g))-o)*(r*g<r*o?s:u),c(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,n,e]=g,i=l(t=+t),o=l(n=+n),a=l(e=+e),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(c=g,d):c};function p(g){return function(y){var b,m,S;return arguments.length?([b,m,S]=y,c=qi(g,[b,m,S]),d):[c(0),c(.5),c(1)]}}return d.range=p(Wl),d.rangeRound=p(Vl),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return l=g,i=g(t),o=g(n),a=g(e),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Qf(){var t=Ai(Xi()(ge));return t.copy=function(){return Ni(t,Qf())},Oi.apply(t,arguments)}function Kf(){var t=Uf(Xi()).domain([.1,1,10]);return t.copy=function(){return Ni(t,Kf()).base(t.base())},Oi.apply(t,arguments)}function Zf(){var t=Af(Xi());return t.copy=function(){return Ni(t,Zf()).constant(t.constant())},Oi.apply(t,arguments)}function Jf(){var t=Lf(Xi());return t.copy=function(){return Ni(t,Jf()).exponent(t.exponent())},Oi.apply(t,arguments)}const Cy=It("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Dy=It("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Uy=It("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),ky=It("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ay=It("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ey=It("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ly=It("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ny=It("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Oy=It("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Py=It("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Iy=It("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var th=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(It);const nh=Gl(th);var eh=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(It);const rh=Gl(eh),ih=Up(js(300,.5,0),js(-240,.5,1));function oh(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function en(t){return function(){return t}}const ah=Math.cos,ls=Math.min,bi=Math.sin,_t=Math.sqrt,Bu=1e-12,wi=Math.PI,Qi=2*wi;function sh(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Yc(n)}function Ry(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uh(t){this._context=t}uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Ki(t){return new uh(t)}function Fy(t){return t[0]}function By(t){return t[1]}function zy(t,n){var e=en(!0),r=null,i=Ki,o=null,a=sh(s);t=typeof t=="function"?t:t===void 0?Fy:en(t),n=typeof n=="function"?n:n===void 0?By:en(n);function s(u){var c,l=(u=Ry(u)).length,h,f=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=l;++c)!(c<l&&e(h=u[c],c,u))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,c,u),+n(h,c,u));if(d)return o=null,d+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:en(+u),s):t},s.y=function(u){return arguments.length?(n=typeof u=="function"?u:en(+u),s):n},s.defined=function(u){return arguments.length?(e=typeof u=="function"?u:en(!!u),s):e},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}class lh{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function qy(t){return new lh(t,!0)}function Wy(t){return new lh(t,!1)}const Hy=_t(3),ch={draw(t,n){const e=_t(n+ls(n/28,.75))*.59436,r=e/2,i=r*Hy;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},$e={draw(t,n){const e=_t(n/wi);t.moveTo(e,0),t.arc(0,0,e,0,Qi)}},fh={draw(t,n){const e=_t(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},hh=_t(1/3),Yy=hh*2,rr={draw(t,n){const e=_t(n/Yy),r=e*hh;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},dh={draw(t,n){const e=_t(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},ph={draw(t,n){const e=_t(n-ls(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},gh={draw(t,n){const e=_t(n),r=-e/2;t.rect(r,r,e,e)}},mh={draw(t,n){const e=_t(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},Vy=.8908130915292852,yh=bi(wi/10)/bi(7*wi/10),Gy=bi(Qi/10)*yh,jy=-ah(Qi/10)*yh,_h={draw(t,n){const e=_t(n*Vy),r=Gy*e,i=jy*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Qi*o/5,s=ah(a),u=bi(a);t.lineTo(u*e,-s*e),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Eo=_t(3),bh={draw(t,n){const e=-_t(n/(Eo*3));t.moveTo(0,e*2),t.lineTo(-Eo*e,-e),t.lineTo(Eo*e,-e),t.closePath()}},Xy=_t(3),wh={draw(t,n){const e=_t(n)*.6824,r=e/2,i=e*Xy/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Ft=-.5,Bt=_t(3)/2,Da=1/_t(12),Qy=(Da/2+1)*3,vh={draw(t,n){const e=_t(n/Qy),r=e/2,i=e*Da,o=r,a=e*Da+e,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(Ft*r-Bt*i,Bt*r+Ft*i),t.lineTo(Ft*o-Bt*a,Bt*o+Ft*a),t.lineTo(Ft*s-Bt*u,Bt*s+Ft*u),t.lineTo(Ft*r+Bt*i,Ft*i-Bt*r),t.lineTo(Ft*o+Bt*a,Ft*a-Bt*o),t.lineTo(Ft*s+Bt*u,Ft*u-Bt*s),t.closePath()}},Sh={draw(t,n){const e=_t(n-ls(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},Ky=[$e,fh,rr,gh,_h,bh,vh],Zy=[$e,ph,Sh,wh,ch,mh,dh];function Lo(t,n){let e=null,r=sh(i);t=typeof t=="function"?t:en(t||$e),n=typeof n=="function"?n:en(n===void 0?64:+n);function i(){let o;if(e||(e=o=r()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),o)return e=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:en(o),i):t},i.size=function(o){return arguments.length?(n=typeof o=="function"?o:en(+o),i):n},i.context=function(o){return arguments.length?(e=o??null,i):e},i}function Nn(){}function vi(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Zi(t){this._context=t}Zi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vi(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Jy(t){return new Zi(t)}function xh(t){this._context=t}xh.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:vi(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function t1(t){return new xh(t)}function $h(t){this._context=t}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:vi(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function n1(t){return new $h(t)}function Mh(t,n){this._basis=new Zi(t),this._beta=n}Mh.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,s=-1,u;++s<=e;)u=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+u*o),this._beta*n[s]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const e1=(function t(n){function e(r){return n===1?new Zi(r):new Mh(r,n)}return e.beta=function(r){return t(+r)},e})(.85);function Si(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function cs(t,n){this._context=t,this._k=(1-n)/6}cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Si(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Si(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const r1=(function t(n){function e(r){return new cs(r,n)}return e.tension=function(r){return t(+r)},e})(0);function fs(t,n){this._context=t,this._k=(1-n)/6}fs.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Si(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const i1=(function t(n){function e(r){return new fs(r,n)}return e.tension=function(r){return t(+r)},e})(0);function hs(t,n){this._context=t,this._k=(1-n)/6}hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Si(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const o1=(function t(n){function e(r){return new hs(r,n)}return e.tension=function(r){return t(+r)},e})(0);function ds(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Bu){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Bu){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Th(t,n){this._context=t,this._alpha=n}Th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:ds(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const a1=(function t(n){function e(r){return n?new Th(r,n):new cs(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function Ch(t,n){this._context=t,this._alpha=n}Ch.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ds(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const s1=(function t(n){function e(r){return n?new Ch(r,n):new fs(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function Dh(t,n){this._context=t,this._alpha=n}Dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ds(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const u1=(function t(n){function e(r){return n?new Dh(r,n):new hs(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function Uh(t){this._context=t}Uh.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function l1(t){return new Uh(t)}function zu(t){return t<0?-1:1}function qu(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(zu(o)+zu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Wu(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function No(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*n,o-s,a-s*e,o,a)}function xi(t){this._context=t}xi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:No(this,this._t0,Wu(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,No(this,Wu(this,e=qu(this,t,n)),e);break;default:No(this,this._t0,e=qu(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function kh(t){this._context=new Ah(t)}(kh.prototype=Object.create(xi.prototype)).point=function(t,n){xi.prototype.point.call(this,n,t)};function Ah(t){this._context=t}Ah.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function c1(t){return new xi(t)}function f1(t){return new kh(t)}function Eh(t){this._context=t}Eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=Hu(t),i=Hu(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Hu(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function h1(t){return new Eh(t)}function Ji(t,n){this._context=t,this._t=n}Ji.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function d1(t){return new Ji(t,.5)}function p1(t){return new Ji(t,0)}function g1(t){return new Ji(t,1)}const m1=In({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:n}){const{proxy:{$q:e}}=Le(),r=nu(Sg,fe);if(r===fe)return console.error("QPage needs to be a deep child of QLayout"),fe;if(nu(xg,fe)===fe)return console.error("QPage needs to be child of QPageContainer"),fe;const o=ot(()=>{const s=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof t.styleFn=="function"){const u=r.isContainer.value===!0?r.containerHeight.value:e.screen.height;return t.styleFn(s,u)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-s+"px":e.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":e.screen.height-s+"px"}}),a=ot(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>kt("main",{class:a.value,style:o.value},Bi(n.default))}}),ps={...Ug,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:t=>t>=0&&t<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ua=50,Lh=2*Ua,Nh=Lh*Math.PI,y1=Math.round(Nh*1e3)/1e3,_1=In({name:"QCircularProgress",props:{...ps,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(t,{slots:n}){const{proxy:{$q:e}}=Le(),r=kg(t),i=ot(()=>{const d=(e.lang.rtl===!0?-1:1)*t.angle;return{transform:t.reverse!==(e.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-d}deg)`:`rotate3d(0, 0, 1, ${d-90}deg)`}}),o=ot(()=>t.instantFeedback!==!0&&t.indeterminate!==!0?{transition:`stroke-dashoffset ${t.animationSpeed}ms ease 0s, stroke ${t.animationSpeed}ms ease`}:""),a=ot(()=>Lh/(1-t.thickness/2)),s=ot(()=>`${a.value/2} ${a.value/2} ${a.value} ${a.value}`),u=ot(()=>Yr(t.value,t.min,t.max)),c=ot(()=>t.max-t.min),l=ot(()=>t.thickness/2*a.value),h=ot(()=>{const d=(t.max-u.value)/c.value,p=t.rounded===!0&&u.value<t.max&&d<.25?l.value/2*(1-d/.25):0;return Nh*d+p});function f({thickness:d,offset:p,color:g,cls:y,rounded:b}){return kt("circle",{class:"q-circular-progress__"+y+(g!==void 0?` text-${g}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":d,"stroke-dasharray":y1,"stroke-dashoffset":p,"stroke-linecap":b,cx:a.value,cy:a.value,r:Ua})}return()=>{const d=[];t.centerColor!==void 0&&t.centerColor!=="transparent"&&d.push(kt("circle",{class:`q-circular-progress__center text-${t.centerColor}`,fill:"currentColor",r:Ua-l.value/2,cx:a.value,cy:a.value})),t.trackColor!==void 0&&t.trackColor!=="transparent"&&d.push(f({cls:"track",thickness:l.value,offset:0,color:t.trackColor})),d.push(f({cls:"circle",thickness:l.value,offset:h.value,color:t.color,rounded:t.rounded===!0?"round":void 0}));const p=[kt("svg",{class:"q-circular-progress__svg",style:i.value,viewBox:s.value,"aria-hidden":"true"},d)];return t.showValue===!0&&p.push(kt("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:t.fontSize}},n.default!==void 0?n.default():[kt("div",u.value)])),kt("div",{class:`q-circular-progress q-circular-progress--${t.indeterminate===!0?"in":""}determinate`,style:r.value,role:"progressbar","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.indeterminate===!0?void 0:u.value},Ag(n.internal,p))}}}),Yu=[34,37,40,33,39,38],b1=Object.keys(ps),Vu=In({name:"QKnob",props:{...kp,...ps,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(t,{slots:n,emit:e}){const{proxy:r}=Le(),{$q:i}=r,o=st(t.modelValue),a=st(!1),s=ot(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),u=ot(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax);let c;function l(){o.value=t.modelValue===null?s.value:Yr(t.modelValue,s.value,u.value),D(!0)}ta(()=>`${t.modelValue}|${s.value}|${u.value}`,l),l();const h=ot(()=>t.disable===!1&&t.readonly===!1),f=ot(()=>"q-knob non-selectable"+(h.value===!0?" q-knob--editable":t.disable===!0?" disabled":"")),d=ot(()=>(String(t.step).trim().split(".")[1]||"").length),p=ot(()=>t.step===0?1:t.step),g=ot(()=>t.instantFeedback===!0||a.value===!0),y=i.platform.is.mobile===!0?ot(()=>h.value===!0?{onClick:v}:{}):ot(()=>h.value===!0?{onMousedown:w,onClick:v,onKeydown:T,onKeyup:k}:{}),b=ot(()=>h.value===!0?{tabindex:t.tabindex}:{[`aria-${t.disable===!0?"disabled":"readonly"}`]:"true"}),m=ot(()=>{const E={};return b1.forEach(M=>{E[M]=t[M]}),E});function S(E){E.isFinal?(C(E.evt,!0),a.value=!1):(E.isFirst&&(x(),a.value=!0),C(E.evt))}const _=ot(()=>[[Ep,S,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function x(){const{top:E,left:M,width:N,height:G}=r.$el.getBoundingClientRect();c={top:E+G/2,left:M+N/2}}function w(E){x(),C(E)}function v(E){x(),C(E,!0)}function T(E){if(Yu.includes(E.keyCode)===!1)return;Tc(E);const M=([34,33].includes(E.keyCode)?10:1)*p.value,N=[34,37,40].includes(E.keyCode)?-M:M;o.value=Yr(parseFloat((o.value+N).toFixed(d.value)),s.value,u.value),D()}function C(E,M){const N=Cc(E),G=Math.abs(N.top-c.top),V=Math.sqrt(G**2+Math.abs(N.left-c.left)**2);let A=Math.asin(G/V)*(180/Math.PI);N.top<c.top?A=c.left<N.left?90-A:270+A:A=c.left<N.left?A+90:270-A,i.lang.rtl===!0?A=Xs(-A-t.angle,0,360):t.angle&&(A=Xs(A-t.angle,0,360)),t.reverse===!0&&(A=360-A);let O=t.min+A/360*(t.max-t.min);if(p.value!==0){const F=O%p.value;O=O-F+(Math.abs(F)>=p.value/2?(F<0?-1:1)*p.value:0),O=parseFloat(O.toFixed(d.value))}O=Yr(O,s.value,u.value),e("dragValue",O),o.value!==O&&(o.value=O),D(M)}function k(E){Yu.includes(E.keyCode)&&D(!0)}function D(E){t.modelValue!==o.value&&e("update:modelValue",o.value),E===!0&&e("change",o.value)}const R=Ap(t);function q(){return kt("input",R.value)}return()=>{const E={class:f.value,role:"slider","aria-valuemin":s.value,"aria-valuemax":u.value,"aria-valuenow":t.modelValue,...b.value,...m.value,value:o.value,instantFeedback:g.value,...y.value},M={default:n.default};return h.value===!0&&t.name!==void 0&&(M.internal=q),Eg(_1,E,M,"knob",h.value,()=>_.value)}}}),w1=["ul","ol"],v1=In({name:"QList",props:{...ja,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:n}){const e=Le(),r=Xa(t,e.proxy.$q),i=ot(()=>w1.includes(t.tag)?null:"list"),o=ot(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>kt(t.tag,{class:o.value,role:i.value},Bi(n.default))}}),Xn=[];let Me;function S1(t){Me=t.keyCode===27}function x1(){Me===!0&&(Me=!1)}function $1(t){Me===!0&&(Me=!1,$g(t,27)===!0&&Xn[Xn.length-1](t))}function Oh(t){window[t]("keydown",S1),window[t]("blur",x1),window[t]("keyup",$1),Me=!1}function M1(t){Dc.is.desktop===!0&&(Xn.push(t),Xn.length===1&&Oh("addEventListener"))}function Gu(t){const n=Xn.indexOf(t);n!==-1&&(Xn.splice(n,1),Xn.length===0&&Oh("removeEventListener"))}const Qn=[];function Ph(t){Qn[Qn.length-1](t)}function T1(t){Dc.is.desktop===!0&&(Qn.push(t),Qn.length===1&&document.body.addEventListener("focusin",Ph))}function C1(t){const n=Qn.indexOf(t);n!==-1&&(Qn.splice(n,1),Qn.length===0&&document.body.removeEventListener("focusin",Ph))}const D1=In({name:"QMenu",inheritAttrs:!1,props:{...Rp,...Ip,...ja,...Pp,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Qs},self:{type:String,validator:Qs},offset:{type:Array,validator:Op},scrollTarget:Np,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Lp,"click","escapeKey"],setup(t,{slots:n,emit:e,attrs:r}){let i=null,o,a,s;const u=Le(),{proxy:c}=u,{$q:l}=c,h=st(null),f=st(!1),d=ot(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),p=Xa(t,l),{registerTick:g,removeTick:y}=Fp(),{registerTimeout:b}=Bp(),{transitionProps:m,transitionStyle:S}=zp(t),{localScrollTarget:_,changeScrollEvent:x,unconfigureScrollTarget:w}=qp(t,B),{anchorEl:v,canShow:T}=Wp({showing:f}),{hide:C}=Hp({showing:f,canShow:T,handleShow:O,handleHide:F,hideOnRouteChange:d,processOnMount:!0}),{showPortal:k,hidePortal:D,renderPortal:R}=Yp(u,h,rt,"menu"),q={anchorEl:v,innerRef:h,onClickOutside($){if(t.persistent!==!0&&f.value===!0)return C($),($.type==="touchstart"||$.target.classList.contains("q-dialog__backdrop"))&&Tc($),!0}},E=ot(()=>Zs(t.anchor||(t.cover===!0?"center middle":"bottom start"),l.lang.rtl)),M=ot(()=>t.cover===!0?E.value:Zs(t.self||"top start",l.lang.rtl)),N=ot(()=>(t.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),G=ot(()=>t.autoClose===!0?{onClick:J}:{}),V=ot(()=>f.value===!0&&t.persistent!==!0);ta(V,$=>{$===!0?(M1(et),Qp(q)):(Gu(et),Ks(q))});function A(){jp(()=>{let $=h.value;$&&$.contains(document.activeElement)!==!0&&($=$.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||$.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||$.querySelector("[autofocus], [data-autofocus]")||$,$.focus({preventScroll:!0}))})}function O($){if(i=t.noRefocus===!1?document.activeElement:null,T1(nt),k(),B(),o=void 0,$!==void 0&&(t.touchPosition||t.contextMenu)){const I=Cc($);if(I.left!==void 0){const{top:H,left:U}=v.value.getBoundingClientRect();o={left:I.left-U,top:I.top-H}}}a===void 0&&(a=ta(()=>l.screen.width+"|"+l.screen.height+"|"+t.self+"|"+t.anchor+"|"+l.lang.rtl,P)),t.noFocus!==!0&&document.activeElement.blur(),g(()=>{P(),t.noFocus!==!0&&A()}),b(()=>{l.platform.is.ios===!0&&(s=t.autoClose,h.value.click()),P(),k(!0),e("show",$)},t.transitionDuration)}function F($){y(),D(),W(!0),i!==null&&($===void 0||$.qClickOutside!==!0)&&((($?.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),b(()=>{D(!0),e("hide",$)},t.transitionDuration)}function W($){o=void 0,a!==void 0&&(a(),a=void 0),($===!0||f.value===!0)&&(C1(nt),w(),Ks(q),Gu(et)),$!==!0&&(i=null)}function B(){(v.value!==null||t.scrollTarget!==void 0)&&(_.value=Vp(v.value,t.scrollTarget),x(_.value,P))}function J($){s!==!0?(Xp(c,$),e("click",$)):s=!1}function nt($){V.value===!0&&t.noFocus!==!0&&Lg(h.value,$.target)!==!0&&A()}function et($){t.noEscDismiss!==!0&&(e("escapeKey"),C($))}function P(){Gp({targetEl:h.value,offset:t.offset,anchorEl:v.value,anchorOrigin:E.value,selfOrigin:M.value,absoluteOffset:o,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function rt(){return kt(Mg,m.value,()=>f.value===!0?kt("div",{role:"menu",...r,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+N.value,r.class],style:[r.style,S.value],...G.value},Bi(n.default)):null)}return Tg(W),Object.assign(c,{focus:A,updatePosition:P}),R}}),ka=In({name:"QSpace",setup(){const t=kt("div",{class:"q-space"});return()=>t}}),$i=In({name:"QBar",props:{...ja,dense:Boolean},setup(t,{slots:n}){const{proxy:{$q:e}}=Le(),r=Xa(t,e),i=ot(()=>`q-bar row no-wrap items-center q-bar--${t.dense===!0?"dense":"standard"}  q-bar--${r.value===!0?"dark":"light"}`);return()=>kt("div",{class:i.value,role:"toolbar"},Bi(n.default))}});function On(t){return t!=null&&!Number.isNaN(t)}function Te(t,n){return+On(n)-+On(t)||Qr(t,n)}function Aa(t,n){return+On(n)-+On(t)||Pi(t,n)}function gs(t){return t!=null&&`${t}`!=""}function Ih(t){return isFinite(t)?t:NaN}function to(t){return t>0&&isFinite(t)?t:NaN}function ms(t){return t<0&&isFinite(t)?t:NaN}function U1(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${k1(t.getUTCFullYear())}-${mn(t.getUTCMonth()+1,2)}-${mn(t.getUTCDate(),2)}${e||r||i||o?`T${mn(e,2)}:${mn(r,2)}${i||o?`:${mn(i,2)}${o?`.${mn(o,3)}`:""}`:""}Z`:""}`}function k1(t){return t<0?`-${mn(-t,6)}`:t>9999?`+${mn(t,6)}`:mn(t,4)}function mn(t,n){return`${t}`.padStart(n,"0")}const A1=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Rh(t,n){return A1.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function Ce(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Pi(n,e)}const ye=1e3,kn=ye*60,An=kn*60,cn=An*24,nn=cn*7,Kn=cn*30,Un=cn*365,Oo=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",ye],["5 seconds",5*ye],["15 seconds",15*ye],["30 seconds",30*ye],["minute",kn],["5 minutes",5*kn],["15 minutes",15*kn],["30 minutes",30*kn],["hour",An],["3 hours",3*An],["6 hours",6*An],["12 hours",12*An],["day",cn],["2 days",2*cn],["week",nn],["2 weeks",2*nn],["month",Kn],["3 months",3*Kn],["6 months",6*Kn],["year",Un],["2 years",2*Un],["5 years",5*Un],["10 years",10*Un],["20 years",20*Un],["50 years",50*Un],["100 years",100*Un]],ys=new Map([["second",ye],["minute",kn],["hour",An],["day",cn],["monday",nn],["tuesday",nn],["wednesday",nn],["thursday",nn],["friday",nn],["saturday",nn],["sunday",nn],["week",nn],["month",Kn],["year",Un]]),Fh=new Map([["second",jt],["minute",gr],["hour",yr],["day",re],["monday",ur],["tuesday",If],["wednesday",Rf],["thursday",te],["friday",Ff],["saturday",Bf],["sunday",Se],["week",Se],["month",br],["year",Qt]]),_s=new Map([["second",jt],["minute",mr],["hour",_r],["day",Gi],["monday",lr],["tuesday",zf],["wednesday",qf],["thursday",ne],["friday",Wf],["saturday",Hf],["sunday",xe],["week",xe],["month",wr],["year",Kt]]),Sr=Symbol("intervalDuration"),no=Symbol("intervalType");for(const[t,n]of Fh)n[Sr]=ys.get(t),n[no]="time";for(const[t,n]of _s)n[Sr]=ys.get(t),n[no]="utc";const Ke=[["year",Kt,"utc"],["month",wr,"utc"],["day",Gi,"utc",6*Kn],["hour",_r,"utc",3*cn],["minute",mr,"utc",6*An],["second",jt,"utc",30*kn]],Gr=[["year",Qt,"time"],["month",br,"time"],["day",re,"time",6*Kn],["hour",yr,"time",3*cn],["minute",gr,"time",6*An],["second",jt,"time",30*kn]],E1=[Ke[0],Gr[0],Ke[1],Gr[1],Ke[2],Gr[2],...Ke.slice(3)];function Bh(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=_s.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function zh(t){return Wh(Bh(t),"time")}function qh(t){return Wh(Bh(t),"utc")}function Wh([t,n],e){let r=(e==="time"?Fh:_s).get(t);return n>1&&(r=r.every(n),r[Sr]=ys.get(t)*n,r[no]=e),r}function ju(t,n){if(!(n>1))return;const e=t[Sr];if(!Oo.some(([,i])=>i===e)||e%cn===0&&cn<e&&e<Kn)return;const[r]=Oo[Yl(([,i])=>Math.log(i)).center(Oo,Math.log(e*n))];return(t[no]==="time"?zh:qh)(r)}function Xu(t,n,e){const r=n==="time"?ji:vr;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=L1(e);switch(t){case"millisecond":return de(r(".%L"),r(":%M:%S"),i);case"second":return de(r(":%S"),r("%-I:%M"),i);case"minute":return de(r("%-I:%M"),r("%p"),i);case"hour":return de(r("%-I %p"),r("%b %-d"),i);case"day":return de(r("%-d"),r("%b"),i);case"month":return de(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function L1(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function N1(t){return t==="time"?Gr:t==="utc"?Ke:E1}function O1(t,n,e){const r=ln(Zg(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return Xu("millisecond","utc",e);for(const[i,o,a,s]of N1(t)){if(r>s||i==="hour"&&!r)break;if(n.every(u=>o.floor(u)>=u))return Xu(i,a,e)}}function de(t,n,e){return(r,i,o)=>{const a=t(r,i),s=n(r,i),u=i-Ce(o);return i!==u&&o[u]!==void 0&&s===n(o[u],u)?a:e(a,s)}}const bs=Object.getPrototypeOf(Uint8Array),P1=Object.prototype.toString;function xr(t){return t instanceof Array||t instanceof bs}function Hh(t){return t instanceof bs&&!I1(t)}function Yh(t){return t?.prototype instanceof bs&&!R1(t)}function I1(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function R1(t){return t===BigInt64Array||t===BigUint64Array}const F1=Symbol("reindex");function Pn(t,n,e){const r=typeof n;return r==="string"?Jh(t)?ws(t.getChild(n),e):Qu(t,z1(n),e):r==="function"?Qu(t,n,e):r==="number"||n instanceof Date||r==="boolean"?Tt(t,Sn(n),e):typeof n?.transform=="function"?Ea(n.transform(t),e):B1(Ea(n,e),t?.[F1])}function B1(t,n){return t!=null&&n?Ss(t,n):t}function Qu(t,n,e){return Tt(t,Yh(e)?(r,i)=>vs(n(r,i)):n,e)}function Ea(t,n){return n===void 0?ae(t):td(t)?ws(t,n):t instanceof n?t:n.from(t,Yh(n)&&!Hh(t)?vs:void 0)}function ws(t,n){return t==null?t:(n===void 0||n===Array)&&u_(t.type)?Gh(Ku(t)):Ea(Ku(t),n)}function Ku(t){return t.nullCount?t.toJSON():t.toArray()}const jr=[null],z1=t=>n=>{const e=n[t];return e===void 0&&n.type==="Feature"?n.properties?.[t]:e},q1={transform:$r},Cn={transform:t=>t},W1=()=>!0,$t=t=>t==null?t:`${t}`,Mt=t=>t==null?t:+t,Vh=t=>t?t[0]:void 0,H1=t=>t?t[1]:void 0,Sn=t=>()=>t;function Y1(t){const n=+`${t}`.slice(1)/100;return(e,r)=>ei(e,n,r)}function Mi(t){return Hh(t)?t:Tt(t,vs,Float64Array)}function vs(t){return t==null?NaN:Number(t)}function Gh(t){return Tt(t,V1)}function V1(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?Rh(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function ee(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:ao(t)?[void 0,t]:[t,void 0]}function Ut(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function jh(t,n,e){if(t!=null)return Zt(t,n,e)}function Zt(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function De(t){return Jh(t)?t:ae(t)}function ae(t){if(t==null||xr(t))return t;if(td(t))return ws(t);if(Xh(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function Xh(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function Tt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function La(t,n=Array){return t instanceof n?t.slice():n.from(t)}function se(t){return t?.toString===P1}function Na(t){return se(t)&&(t.type!==void 0||t.domain!==void 0)}function eo(t){return se(t)&&typeof t.transform!="function"}function Ue(t){return eo(t)&&t.value===void 0&&t.channel===void 0}function ro(t,n){return t===void 0&&n===void 0?[Vh,H1]:[t,n]}function G1({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=ee(n)),t===void 0&&([t]=ee(e)),t}function Oa(t){return xr(t)?t.length:t?.numRows}function $r(t){const n=Oa(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Ss(t,n){return xr(t)?Tt(n,e=>t[e],t.constructor):Tt(n,e=>t.at(e))}function j1(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function xn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function io(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function X1(t,n){const e=xs(t,n);return e&&(r=>On(r)?e.floor(r):r)}function xs(t,n){if(t!=null){if(typeof t=="number")return Q1(t);if(typeof t=="string")return(n==="time"?zh:qh)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Q1(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>aa(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>aa(Math.ceil(e/n),r/n).map(i=>i*n)}}function Mr(t,n){if(t=xs(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function K1(t,n){if(t=Mr(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Z1(t){return typeof t?.range=="function"}function oo(t){return t===void 0||eo(t)?t:{value:t}}function J1(t){return t==null?null:{transform:n=>Pn(n,t,Float64Array),label:io(t)}}function ue(t){return t&&typeof t[Symbol.iterator]=="function"}function Qh(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Zu(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function fn(t){for(const n of t)if(n!=null)return n instanceof Date}function t_(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&Rh(n)}function n_(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function e_(t){for(const n of t)if(n!=null)return typeof n=="number"}function Po(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const r_=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function ao(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||r_.has(t))}function i_(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function At(t){return t==null||cr(t)}function cr(t){return/^\s*none\s*$/i.test(t)}function o_(t){return/^\s*round\s*$/i.test(t)}function Pa(t,n){return jh(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function so(t="middle"){return Pa(t,"frameAnchor")}function a_(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function s_(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function Kh(t){return ue(t)?s_(t):t}function Zh(t){return t===!0?t="frame":t===!1?t=null:!Xh(t)&&t!=null&&(t=Zt(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function Jh(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function td(t){return t&&typeof t.toArray=="function"&&t.type}function u_(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const sn=Symbol("position"),Dn=Symbol("color"),Tr=Symbol("radius"),Cr=Symbol("length"),Dr=Symbol("opacity"),uo=Symbol("symbol"),nd=Symbol("projection"),pt=new Map([["x",sn],["y",sn],["fx",sn],["fy",sn],["r",Tr],["color",Dn],["opacity",Dr],["symbol",uo],["length",Cr],["projection",nd]]);function l_(t){return t===sn||t===nd}function c_(t){return t===sn||t===Tr||t===Cr||t===Dr}const f_=Math.sqrt(3),h_=2/f_,d_={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*h_,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},$s=new Map([["asterisk",ch],["circle",$e],["cross",fh],["diamond",rr],["diamond2",dh],["hexagon",d_],["plus",ph],["square",gh],["square2",mh],["star",_h],["times",Sh],["triangle",bh],["triangle2",wh],["wye",vh]]);function Ms(t){return t&&typeof t.draw=="function"}function p_(t){return Ms(t)?!0:typeof t!="string"?!1:$s.has(t.toLowerCase())}function Ts(t){if(t==null||Ms(t))return t;const n=$s.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function g_(t){if(t==null||Ms(t))return[void 0,t];if(typeof t=="string"){const n=$s.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function ed({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=rd(t)),n!=null&&!Ue(n)&&(r=Io(r,Cs(n))),e&&(r=Io(r,id))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||Ue(n))&&{sort:n},transform:Io(r,a)}}function ke({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=rd(t)),n!=null&&!Ue(n)&&(r=Ro(r,Cs(n))),e&&(r=Ro(r,id))),{...i,...(n===null||Ue(n))&&{sort:n},initializer:Ro(r,o)}}function Io(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,De(e),r,i)}}function Ro(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,s,u,c,l,h;return{data:s=e,facets:u=r,channels:a}=t.call(this,e,r,i,...o),{data:l=s,facets:h=u,channels:c}=n.call(this,s,u,{...i,...a},...o),{data:l,facets:h,channels:{...a,...c}}}}function m_(t,n){return(t.initializer!=null?ke:ed)(t,n)}function rd(t){return(n,e)=>{const r=Pn(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function id(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function y_(t,{sort:n,...e}={}){return{...(eo(t)&&t.channel!==void 0?ke:m_)(e,Cs(t)),sort:Ue(n)?n:null}}function Cs(t){return(typeof t=="function"&&t.length!==1?__:b_)(t)}function __(t){return(n,e)=>{const r=xr(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function b_(t){let n,e;({channel:n,value:t,order:e}={...oo(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?Aa:Te),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=Te;break;case"descending":e=Aa;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let s;if(n===void 0)s=Pn(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(s=a[n],!s)return{};s=s.value}const u=(c,l)=>e(s[c],s[l]);return{data:i,facets:o.map(c=>c.slice().sort(u))}}}function w_(t,n,e=v_){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&se(t))return S_(t);if(typeof t=="function")return x_(t);if(/^p\d{2}$/i.test(t))return gn(Y1(t));switch(`${t}`.toLowerCase()){case"first":return M_;case"last":return T_;case"identity":return $_;case"count":return tl;case"distinct":return C_;case"sum":return n==null?tl:D_;case"proportion":return nl(n,"data");case"proportion-facet":return nl(n,"facet");case"deviation":return gn(zg);case"min":return gn(or);case"min-index":return gn(Gg);case"max":return gn(ln);case"max-index":return gn(Vg);case"mean":return Ju(Xg);case"median":return Ju(oa);case"variance":return gn(Uc);case"mode":return gn(Kg)}return e(t)}function v_(t){throw new Error(`invalid reduce: ${t}`)}function S_(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function x_(t){return{reduceIndex(n,e,r){return t(Ss(e,n),r)}}}function gn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function Ju(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return fn(e)?new Date(r):r}}}const $_={reduceIndex(t,n){return Ss(n,t)}},M_={reduceIndex(t,n){return n[t[0]]}},T_={reduceIndex(t,n){return n[t[t.length-1]]}},tl={label:"Frequency",reduceIndex(t){return t.length}},C_={label:"Distinct",reduceIndex(t,n){const e=new zi;for(const r of t)e.add(n[r]);return e.size}},D_=gn(ts);function nl(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>ts(e,o=>r[o])/i}}function fr(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=io(r)},s){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),od(s,{scale:n,type:e,value:Pn(t,r),label:a,filter:i,hint:o})}function U_(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,fr(n,r,e)]))}function k_(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:Tt(o,a)]}));return e.channels=t,e}function od(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&Po(r,ao)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&Po(r,i_)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&Po(r,p_)?(n.scale=null,n.value=Tt(r,Ts)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=pt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!pt.has(e))throw new Error(`unknown scale: ${e}`);return n}function A_(t,n,e,r,i){const{order:o,reverse:a,reduce:s=!0,limit:u}=i;for(const c in i){if(!pt.has(c))continue;let{value:l,order:h=o,reverse:f=a,reduce:d=s,limit:p=u}=oo(i[c]);const g=l?.startsWith("-");if(g&&(l=l.slice(1)),h=h===void 0?g!==(l==="width"||l==="height")?sd:ad:N_(h),d==null||d===!1)continue;const y=c==="fx"||c==="fy"?L_(n,r[c]):E_(e,c);if(!y)throw new Error(`missing channel for scale: ${c}`);const b=y.value,[m=0,S=1/0]=ue(p)?p:p<0?[p]:[0,p];if(l==null)y.domain=()=>{let _=Array.from(new zi(b));return f&&(_=_.reverse()),(m!==0||S!==1/0)&&(_=_.slice(m,S)),_};else{const _=l==="data"?t:l==="height"?el(e,"y1","y2"):l==="width"?el(e,"x1","x2"):Ia(e,l,l==="y"?"y2":l==="x"?"x2":void 0),x=w_(d===!0?"max":d,_);y.domain=()=>{let w=Wg($r(b),v=>x.reduceIndex(v,_),v=>b[v]);return h&&w.sort(h),f&&w.reverse(),(m!==0||S!==1/0)&&(w=w.slice(m,S)),w.map(Vh)}}}}function E_(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function L_(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const s of t[o])i[s]=a}return n}function el(t,n,e){const r=Ia(t,n),i=Ia(t,e);return Tt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Ia(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function N_(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return ad;case"descending":return sd}throw new Error(`invalid order: ${t}`)}function ad([t,n],[e,r]){return Te(n,r)||Te(t,e)}function sd([t,n],[e,r]){return Aa(n,r)||Te(t,e)}function rl(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const ud=new Map([["accent",Dy],["category10",Cy],["dark2",Uy],["observable10",ky],["paired",Ay],["pastel1",Ey],["pastel2",Ly],["set1",Ny],["set2",Oy],["set3",Py],["tableau10",Iy]]);function O_(t){return t!=null&&ud.has(`${t}`.toLowerCase())}const il=new Map([...ud,["brbg",hn(Kp,jl)],["prgn",hn(Zp,Xl)],["piyg",hn(Jp,Ql)],["puor",hn(tg,Kl)],["rdbu",hn(Js,Kr)],["rdgy",hn(ng,Zl)],["rdylbu",hn(tu,Zr)],["rdylgn",hn(eg,Jl)],["spectral",hn(rg,tc)],["burd",ol(Js,Kr)],["buylrd",ol(tu,Zr)],["blues",bt(ig,nc)],["greens",bt(og,ec)],["greys",bt(ag,rc)],["oranges",bt(sg,oc)],["purples",bt(ug,Qa)],["reds",bt(lg,ic)],["turbo",dn(oh)],["viridis",dn(ac)],["magma",dn(sc)],["inferno",dn(uc)],["plasma",dn(lc)],["cividis",dn(cc)],["cubehelix",dn(ih)],["warm",dn(fc)],["cool",dn(hc)],["bugn",bt(th,nh)],["bupu",bt(cg,dc)],["gnbu",bt(fg,pc)],["orrd",bt(hg,gc)],["pubu",bt(dg,yc)],["pubugn",bt(pg,mc)],["purd",bt(gg,_c)],["rdpu",bt(eh,rh)],["ylgn",bt(mg,wc)],["ylgnbu",bt(yg,bc)],["ylorbr",bt(_g,vc)],["ylorrd",bt(bg,Sc)],["rainbow",al(xc)],["sinebow",al($c)]]);function bt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Xt(n,e):t[e])}function hn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Xt(n,e):t[e])}function ol(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Xt(r=>n(1-r),e):t[e].slice().reverse())}function dn(t){return({length:n})=>Xt(t,Math.max(2,Math.floor(n)))}function al(t){return({length:n})=>Xt(t,Math.floor(n)+1).slice(0,-1)}function ld(t){const n=`${t}`.toLowerCase();if(!il.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return il.get(n)}function lo(t,n){const e=ld(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function P_(t,n="greys"){const e=new Set,[r,i]=lo(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const sl=new Map([["brbg",jl],["prgn",Xl],["piyg",Ql],["puor",Kl],["rdbu",Kr],["rdgy",Zl],["rdylbu",Zr],["rdylgn",Jl],["spectral",tc],["burd",t=>Kr(1-t)],["buylrd",t=>Zr(1-t)],["blues",nc],["greens",ec],["greys",rc],["purples",Qa],["reds",ic],["oranges",oc],["turbo",oh],["viridis",ac],["magma",sc],["inferno",uc],["plasma",lc],["cividis",cc],["cubehelix",ih],["warm",fc],["cool",hc],["bugn",nh],["bupu",dc],["gnbu",pc],["orrd",gc],["pubugn",mc],["pubu",yc],["purd",_c],["rdpu",rh],["ylgnbu",bc],["ylgn",wc],["ylorbr",vc],["ylorrd",Sc],["rainbow",xc],["sinebow",$c]]);function Ds(t){const n=`${t}`.toLowerCase();if(!sl.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return sl.get(n)}const I_=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function R_(t){return t!=null&&I_.has(`${t}`.toLowerCase())}const cd=t=>n=>t(1-n),Fo=[0,1],ul=new Map([["number",dr],["rgb",Za],["hsl",d0],["hcl",m0],["lab",p0]]);function fd(t){const n=`${t}`.toLowerCase();if(!ul.has(n))throw new Error(`unknown interpolator: ${n}`);return ul.get(n)}function Ur(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:s=dd(t,e),unknown:u,round:c,scheme:l,interval:h,range:f=pt.get(t)===Tr?X_(e,s):pt.get(t)===Cr?Q_(e,s):pt.get(t)===Dr?Fo:void 0,interpolate:d=pt.get(t)===Dn?l==null&&f!==void 0?Za:Ds(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):c?Vl:dr,reverse:p}){if(s=ll(s),h=Mr(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=fd(d)),p=!!p,f!==void 0){const g=s.length,y=(f=ll(f)).length;if(g!==y){if(d.length===1)throw new Error("invalid piecewise interpolator");d=qi(d,f),f=void 0}}if(d.length===1?(p&&(d=cd(d),p=!1),f===void 0&&(f=Float64Array.from(s,(g,y)=>y/(s.length-1)),f.length===2&&(f=Fo)),n.interpolate((f===Fo?Sn:ks)(d))):n.interpolate(d),a){const[g,y]=En(s);(g>0||y<0)&&(s=La(s),(Ce(s)||1)===Math.sign(g)?s[0]=0:s[s.length-1]=0)}return p&&(s=ri(s)),n.domain(s).unknown(u),i&&(n.nice(F_(i,r)),s=n.domain()),f!==void 0&&n.range(f),o&&n.clamp(o),{type:r,domain:s,range:f,scale:n,interpolate:d,interval:h}}function ll(t){return t=ae(t),t.length>=2?t:[t[0],t[0]]}function F_(t,n){return t===!0?void 0:typeof t=="number"?t:K1(t,n)}function B_(t,n,e){return Ur(t,Ka(),n,e)}function z_(t,n,e){return hd(t,n,{...e,exponent:.5})}function hd(t,n,{exponent:e=1,...r}){return Ur(t,Nf().exponent(e),n,{...r,type:"pow"})}function q_(t,n,{base:e=10,domain:r=K_(n),...i}){return Ur(t,kf().base(e),n,{...i,domain:r})}function W_(t,n,{constant:e=1,...r}){return Ur(t,Ef().constant(e),n,r)}function H_(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=Z_(n),unknown:s,interpolate:u,reverse:c}){return e===void 0&&(e=u!==void 0?Xt(u,i):pt.get(t)===Dn?lo(o,i):void 0),a.length>0&&(a=Of(a,e===void 0?{length:i}:e).quantiles()),Us(t,n,{domain:a,range:e,reverse:c,unknown:s})}function Y_(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=dd(t,n),unknown:a,interpolate:s,reverse:u}){const[c,l]=En(o);let h;return e===void 0?(h=Zo(c,l,r),h[0]<=c&&h.splice(0,1),h[h.length-1]>=l&&h.pop(),r=h.length+1,e=s!==void 0?Xt(s,r):pt.get(t)===Dn?lo(i,r):void 0):(h=Xt(dr(c,l),r+1).slice(1,-1),c instanceof Date&&(h=h.map(f=>new Date(f)))),Ce(ae(o))<0&&h.reverse(),Us(t,n,{domain:h,range:e,reverse:u,unknown:a})}function Us(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Xt(o,e.length+1):pt.get(t)===Dn?lo(i,e.length+1):void 0,reverse:s}){e=ae(e);const u=Ce(e);if(!isNaN(u)&&!V_(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return s&&(a=ri(a)),{type:"threshold",scale:Pf(u<0?ri(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function V_(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=Pi(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function G_(t){return{type:"identity",scale:c_(pt.get(t))?Cf():n=>n}}function hr(t,n=Ih){return t.length?[or(t,({value:e})=>e===void 0?e:or(e,n)),ln(t,({value:e})=>e===void 0?e:ln(e,n))]:[0,1]}function dd(t,n){const e=pt.get(t);return(e===Tr||e===Dr||e===Cr?j_:hr)(n)}function j_(t){return[0,t.length?ln(t,({value:n})=>n===void 0?n:ln(n,Ih)):1]}function X_(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=ei(t,.5,({value:a})=>a===void 0?NaN:ei(a,.25,to)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/ln(i);return o<1?i.map(a=>a*o):i}function Q_(t,n){const e=oa(t,({value:o})=>o===void 0?NaN:oa(o,Math.abs)),r=n.map(o=>12*o/e),i=60/ln(r);return i<1?r.map(o=>o*i):r}function K_(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return hr(t,to);if(e<0)return hr(t,ms)}return[1,10]}function Z_(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function ks(t){return(n,e)=>r=>t(n+r*(e-n))}let Ra=0,Fa;function J_(){const t=Ra;return Ra=0,Fa=void 0,t}function Ln(t){t!==Fa&&(Fa=t,console.warn(t),++Ra)}function co(t,n,e,r,{type:i,nice:o,clamp:a,domain:s=hr(r),unknown:u,pivot:c=0,scheme:l,range:h,symmetric:f=!0,interpolate:d=pt.get(t)===Dn?l==null&&h!==void 0?Za:Ds(l!==void 0?l:"rdbu"):dr,reverse:p}){c=+c,s=ae(s);let[g,y]=s;if(s.length>2&&Ln(`Warning: the diverging ${t} scale domain contains extra elements.`),Pi(g,y)<0&&([g,y]=[y,g],p=!p),g=Math.min(g,c),y=Math.max(y,c),typeof d!="function"&&(d=fd(d)),h!==void 0&&(d=d.length===1?ks(d)(...h):qi(d,h)),p&&(d=cd(d)),f){const b=e.apply(c),m=b-e.apply(g),S=e.apply(y)-b;m<S?g=e.invert(b-S):m>S&&(y=e.invert(b+m))}return n.domain([g,c,y]).unknown(u).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,y],pivot:c,interpolate:d,scale:n}}function tb(t,n,e){return co(t,Qf(),ib,n,e)}function nb(t,n,e){return pd(t,n,{...e,exponent:.5})}function pd(t,n,{exponent:e=1,...r}){return co(t,Jf().exponent(e=+e),sb(e),n,{...r,type:"diverging-pow"})}function eb(t,n,{base:e=10,pivot:r=1,domain:i=hr(n,r<0?ms:to),...o}){return co(t,Kf().base(e=+e),ob,n,{domain:i,pivot:r,...o})}function rb(t,n,{constant:e=1,...r}){return co(t,Zf().constant(e=+e),ub(e),n,r)}const ib={apply(t){return t},invert(t){return t}},ob={apply:Math.log,invert:Math.exp},ab={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function sb(t){return t===.5?ab:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function ub(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function gd(t,n,e,r){return Ur(t,n,e,r)}function lb(t,n,e){return gd(t,My(),n,e)}function cb(t,n,e){return gd(t,Ty(),n,e)}const kr=Symbol("ordinal");function md(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:s,hint:u}){return i=Mr(i,r),o===void 0&&(o=_d(e,i,t)),(r==="categorical"||r===kr)&&(r="ordinal"),s&&(o=ri(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:u,interval:i}}function fb(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:s,...u}){r=Mr(r,e),i===void 0&&(i=_d(n,r,t));let c;if(pt.get(t)===uo)c=pb(n),o=o===void 0?gb(c):Tt(o,Ts);else if(pt.get(t)===Dn&&(o===void 0&&(e==="ordinal"||e===kr)&&(o=P_(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const l=Ds(a),h=o[0],f=o[1]-o[0];o=({length:d})=>Xt(p=>l(h+f*p),d)}else o=ld(a);if(s===Ca)throw new Error(`implicit unknown on ${t} scale is not supported`);return md(t,as().unknown(s),n,{...u,type:e,domain:i,range:o,hint:c})}function hb(t,n,{align:e=.5,padding:r=.5,...i}){return yd(cm().align(e).padding(r),n,i,t)}function db(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return yd(Yi().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function yd(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=md(r,t,n,e),t.round=i,t}function _d(t,n,e){const r=new zi;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=En(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&pt.get(e)===sn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Yg(r,Te)}function cl(t,n){let e;for(const{hint:r}of t){const i=r?.[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function pb(t){return{fill:cl(t,"fill"),stroke:cl(t,"stroke")}}function gb(t){return At(t.fill)?Zy:Ky}function Ba(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:s,nice:u,clamp:c,zero:l,align:h,padding:f,projection:d,facet:{label:p=n}={},...g}={}){const y={};for(const[b,m]of t){const S=g[b],_=wb(b,m,{round:pt.get(b)===sn?s:void 0,nice:u,clamp:c,zero:l,align:h,padding:f,projection:d,...S});if(_){let{label:x=b==="fx"||b==="fy"?p:n,percent:w,transform:v,inset:T,insetTop:C=T!==void 0?T:b==="y"?r:0,insetRight:k=T!==void 0?T:b==="x"?i:0,insetBottom:D=T!==void 0?T:b==="y"?o:0,insetLeft:R=T!==void 0?T:b==="x"?a:0}=S||{};if(v==null)v=void 0;else if(typeof v!="function")throw new Error("invalid scale transform; not a function");_.percent=!!w,_.label=x===void 0?yb(m,_):x,_.transform=v,b==="x"||b==="fx"?(_.insetLeft=+R,_.insetRight=+k):(b==="y"||b==="fy")&&(_.insetTop=+C,_.insetBottom=+D),y[b]=_}}return y}function fl(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:s,label:u}=i;n[r]=Mb(i),e[r]=o,o.type=a,s!=null&&(o.interval=s),u!=null&&(o.label=u)}return e}function mb(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?As(n):n;i&&hl(i,a),o&&dl(o,a);const s=i||o?bd(t,n):n;e&&hl(e,s),r&&dl(r,s)}function yb(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!le(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function _b(t){return Math.sign(Ce(t.domain()))*Math.sign(Ce(t.range()))}function As(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:u,marginBottom:c,marginLeft:l}}=t;return{marginTop:Math.max(n,s),marginRight:Math.max(e,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,l),width:o,height:a}}function bd({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:u}=As(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:s,height:n?n.scale.bandwidth()+r+o:u,facet:{width:s,height:u}}}function hl(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,s=o+e,u=i-a-r;t.range=[s,Math.max(s,u)],le(t)||(t.range=vd(t)),t.scale.range(t.range)}wd(t)}function dl(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,s=o+e,u=i-a-r;t.range=[Math.max(s,u),s],le(t)?t.range.reverse():t.range=vd(t),t.scale.range(t.range)}wd(t)}function wd(t){t.round===void 0&&Sb(t)&&bb(t)<=30&&t.scale.round(!0)}function bb({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,s=Math.abs(r-e)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function vd(t){const n=t.scale.domain().length+Sd(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function wb(t,n=[],e={}){const r=vb(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&le({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(fn)?Ln(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${pe(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${pe(r)}".`):i.some(t_)?Ln(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${pe(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${pe(r)}".`):i.some(n_)&&Ln(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${pe(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${pe(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=Ir(n,e,Mi);break;case"identity":switch(pt.get(t)){case sn:e=Ir(n,e,Mi);break;case uo:e=Ir(n,e,xb);break}break;case"utc":case"time":e=Ir(n,e,Gh);break}switch(r){case"diverging":return tb(t,n,e);case"diverging-sqrt":return nb(t,n,e);case"diverging-pow":return pd(t,n,e);case"diverging-log":return eb(t,n,e);case"diverging-symlog":return rb(t,n,e);case"categorical":case"ordinal":case kr:return fb(t,n,e);case"cyclical":case"sequential":case"linear":return B_(t,n,e);case"sqrt":return z_(t,n,e);case"threshold":return Us(t,n,e);case"quantile":return H_(t,n,e);case"quantize":return Y_(t,n,e);case"pow":return hd(t,n,e);case"log":return q_(t,n,e);case"symlog":return W_(t,n,e);case"utc":return cb(t,n,e);case"time":return lb(t,n,e);case"point":return hb(t,n,e);case"band":return db(t,n,e);case"identity":return G_(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function pe(t){return typeof t=="symbol"?t.description:t}function pl(t){return typeof t=="string"?`${t}`.toLowerCase():t}const gl={toString:()=>"projection"};function vb(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(e=pl(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&s!=null&&(e=gl);for(const l of n){const h=pl(l.type);if(h!==void 0){if(e===void 0)e=h;else if(e!==h)throw new Error(`scale incompatible with channel: ${e} !== ${h}`)}}if(e===gl)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:l})=>l!==void 0))return;const u=pt.get(t);if(u===Tr)return"sqrt";if(u===Dr||u===Cr)return"linear";if(u===uo)return"ordinal";const c=(r??i)?.length;if(c<2||c>2)return Bo(u);if(r!==void 0){if(Zu(r))return Bo(u);if(fn(r))return"utc"}else{const l=n.map(({value:h})=>h).filter(h=>h!==void 0);if(l.some(Zu))return Bo(u);if(l.some(fn))return"utc"}if(u===Dn){if(a!=null||R_(o))return"diverging";if(O_(o))return"categorical"}return"linear"}function Bo(t){switch(t){case sn:return"point";case Dn:return kr;default:return"ordinal"}}function le({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===kr}function Sd({type:t}){return t==="threshold"}function Sb({type:t}){return t==="point"||t==="band"}function Ti(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function Ir(t,{domain:n,...e},r){for(const i of t)i.value!==void 0&&(n===void 0&&(n=i.value?.domain),i.value=r(i.value));return{domain:n===void 0?n:r(n),...e}}function xb(t){return Tt(t,Ts)}function $b(t){return n=>{if(!pt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function Mb({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:u}){if(n==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const c=t.unknown?t.unknown():void 0;return{type:n,domain:La(e),...r!==void 0&&{range:La(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:l=>t(l),...t.invert&&{invert:l=>t.invert(l)}}}function Tb(t,n){const{fx:e,fy:r}=Ba(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?Bg(i,o).map(([a,s],u)=>({x:a,y:s,i:u})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function Cb(t,{x:n,y:e}){return n&&=za(n),e&&=za(e),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function Es(t,{fx:n,fy:e}){const r=$r(t),i=n?.value,o=e?.value;return n&&e?go(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?go(r,a=>(a.fx=i[a[0]],a),a=>i[a]):go(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function Db(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:a})=>t(a)-r:()=>0,o=n?({y:a})=>n(a)-e:()=>0;return function(a){this.tagName==="svg"?(this.setAttribute("x",i(a)),this.setAttribute("y",o(a))):this.setAttribute("transform",`translate(${i(a)},${o(a)})`)}}function Ub(t){const n=[],e=new Uint32Array(ts(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const kb=new Map([["top",zo],["right",Ho],["bottom",qo],["left",Wo],["top-left",Rr(zo,Wo)],["top-right",Rr(zo,Ho)],["bottom-left",Rr(qo,Wo)],["bottom-right",Rr(qo,Ho)],["top-empty",Lb],["right-empty",Pb],["bottom-empty",Nb],["left-empty",Ob],["empty",Ib]]);function Ab(t){if(t==null)return null;const n=kb.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const ml=new WeakMap;function za(t){let n=ml.get(t);return n||ml.set(t,n=new ir(Tt(t,(e,r)=>[e,r]))),n}function Fn(t,n){return za(t).get(n)}function Eb(t,n,e){return n=xn(n),e=xn(e),t.find(r=>Object.is(xn(r.x),n)&&Object.is(xn(r.y),e))}function fo(t,n,e){return Eb(t,n,e)?.empty}function zo(t,{y:n},{y:e}){return n?Fn(n,e)===0:!0}function qo(t,{y:n},{y:e}){return n?Fn(n,e)===n.length-1:!0}function Wo(t,{x:n},{x:e}){return n?Fn(n,e)===0:!0}function Ho(t,{x:n},{x:e}){return n?Fn(n,e)===n.length-1:!0}function Lb(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Fn(n,r);if(o>0)return fo(t,e,n[o-1])}function Nb(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Fn(n,r);if(o<n.length-1)return fo(t,e,n[o+1])}function Ob(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Fn(n,e);if(o>0)return fo(t,n[o-1],r)}function Pb(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Fn(n,e);if(o<n.length-1)return fo(t,n[o+1],r)}function Ib(t,n,{empty:e}){return e}function Rr(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Yo(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const xd=Math.PI,pn=2*xd,Vo=.618;function Rb({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let s,u,c="frame";if(se(t)){let x;if({type:t,domain:u,inset:x,insetTop:e=x!==void 0?x:e,insetRight:r=x!==void 0?x:r,insetBottom:i=x!==void 0?x:i,insetLeft:o=x!==void 0?x:o,clip:c=c,...s}=t,t==null)return}typeof t!="function"&&({type:t}=qa(t));const{width:l,height:h,marginLeft:f,marginRight:d,marginTop:p,marginBottom:g}=a,y=l-f-d-o-r,b=h-p-g-e-i;if(t=t?.({width:y,height:b,clip:c,...s}),t==null)return;c=Fb(c,f,p,l-d,h-g);let m=f+o,S=p+e,_;if(u!=null){const[[x,w],[v,T]]=es(t).bounds(u),C=Math.min(y/(v-x),b/(T-w));C>0?(m-=(C*(x+v)-y)/2,S-=(C*(w+T)-b)/2,_=pi({point(k,D){this.stream.point(k*C+m,D*C+S)}})):Ln("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??=m===0&&S===0?$d():pi({point(x,w){this.stream.point(x+m,w+S)}}),{stream:x=>t.stream(_.stream(c(x)))}}function qa(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Gt(X0,.7463,.4673);case"albers":return Fr(mf,.7463,.4673);case"azimuthal-equal-area":return Gt(Q0,4,4);case"azimuthal-equidistant":return Gt(K0,pn,pn);case"conic-conformal":return Fr(tm,pn,pn);case"conic-equal-area":return Fr(gi,6.1702,2.9781);case"conic-equidistant":return Fr(rm,7.312,3.6282);case"equal-earth":return Gt(om,5.4133,2.6347);case"equirectangular":return Gt(nm,pn,xd);case"gnomonic":return Gt(am,3.4641,3.4641);case"identity":return{type:$d};case"reflect-y":return{type:Bb};case"mercator":return Gt(Z0,pn,pn);case"orthographic":return Gt(sm,2,2);case"stereographic":return Gt(um,2,2);case"transverse-mercator":return Gt(lm,pn,pn);default:throw new Error(`unknown projection type: ${t}`)}}function Fb(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Jc(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Gt(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{const u=t();return a!=null&&u.precision?.(a),o!=null&&u.rotate?.(o),typeof s=="number"&&u.clipAngle?.(s),r!=null&&(u.scale(Math.min(r/n,i/e)),u.translate([r/2,i/2])),u},aspectRatio:e/n}}function Fr(t,n,e){const{type:r,aspectRatio:i}=Gt(t,n,e);return{type:o=>{const{parallels:a,domain:s,width:u,height:c}=o,l=r(o);return a!=null&&(l.parallels(a),s===void 0&&u!=null&&l.fitSize([u,c],{type:"Sphere"})),l},aspectRatio:i}}const $d=Sn({stream:t=>t}),Bb=Sn(pi({point(t,n){this.stream.point(t,-n)}}));function zb(t,n,e,r){const i=e[t],o=e[n],a=i.length,s=e[t]=new Float64Array(a).fill(NaN),u=e[n]=new Float64Array(a).fill(NaN);let c;const l=r.stream({point(h,f){s[c]=h,u[c]=f}});for(c=0;c<a;++c)l.point(i[c],o[c])}function qb({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(se(t)&&(t=t.type),t!=null)}function Wb(t){if(typeof t?.stream=="function")return Vo;if(se(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?qa(t).type:t,[[i,o],[a,s]]=es(r({...e,width:100,height:100})).bounds(n),u=(s-o)/(a-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Vo}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=qa(t);if(n)return n}return Vo}}function Hb(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,s){n.push(a),e.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Gn(a,o);return[r,i]}function Yb({x:t,y:n}){if(t||n)return t??=e=>e,n??=e=>e,pi({point(e,r){this.stream.point(t(e),n(r))}})}function Ls(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:Zh(e)}}function Ct(t,{document:n}){return xt(Mc(t).call(n.documentElement))}const Wa=Symbol("unset");function Ns(t){return(t.length===1?Vb:Gb)(t)}function Vb(t){let n,e=Wa;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function Gb(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const jb=Ns(t=>new Intl.NumberFormat(t));Ns((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));Ns((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function Xb(t="en-US"){const n=jb(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function Qb(t){return U1(t,"Invalid Date")}function Kb(t="en-US"){const n=Xb(t);return e=>(e instanceof Date?Qb:typeof e=="number"?n:$t)(e)}const Ae=Kb(),Ot=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Zb=0;function Md(){return`plot-clip-${++Zb}`}function Jb(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:u,stroke:c,strokeWidth:l,strokeOpacity:h,strokeLinejoin:f,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:y,opacity:b,mixBlendMode:m,imageFilter:S,paintOrder:_,pointerEvents:x,shapeRendering:w,channels:v},{ariaLabel:T,fill:C="currentColor",fillOpacity:k,stroke:D="none",strokeOpacity:R,strokeWidth:q,strokeLinecap:E,strokeLinejoin:M,strokeMiterlimit:N,paintOrder:G}){C===null&&(s=null,u=null),D===null&&(c=null,h=null),At(C)?!At(D)&&(!At(s)||v?.fill)&&(D="none"):At(D)&&(!At(c)||v?.stroke)&&(C="none");const[V,A]=ee(s,C),[O,F]=Ut(u,k),[W,B]=ee(c,D),[J,nt]=Ut(h,R),[et,P]=Ut(b);cr(B)||(l===void 0&&(l=q),d===void 0&&(d=E),f===void 0&&(f=M),p===void 0&&!o_(f)&&(p=N),!cr(A)&&_===void 0&&(_=G));const[rt,$]=Ut(l);return C!==null&&(t.fill=St(A,"currentColor"),t.fillOpacity=We(F,1)),D!==null&&(t.stroke=St(B,"none"),t.strokeWidth=We($,1),t.strokeOpacity=We(nt,1),t.strokeLinejoin=St(f,"miter"),t.strokeLinecap=St(d,"butt"),t.strokeMiterlimit=We(p,4),t.strokeDasharray=St(g,"none"),t.strokeDashoffset=St(y,"0")),t.target=$t(a),t.ariaLabel=$t(T),t.ariaDescription=$t(i),t.ariaHidden=$t(o),t.opacity=We(P,1),t.mixBlendMode=St(m,"normal"),t.imageFilter=St(S,"none"),t.paintOrder=St(_,"normal"),t.pointerEvents=St(x,"auto"),t.shapeRendering=St(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:V,scale:"auto",optional:!0},fillOpacity:{value:O,scale:"auto",optional:!0},stroke:{value:W,scale:"auto",optional:!0},strokeOpacity:{value:J,scale:"auto",optional:!0},strokeWidth:{value:rt,optional:!0},opacity:{value:et,scale:"auto",optional:!0}}}function tw(t,n){n&&t.filter(e=>gs(n[e])).append("title").call(ew,n)}function nw(t,n){n&&t.filter(([e])=>gs(n[e])).append("title").call(rw,n)}function ew(t,n){n&&t.text(e=>Ae(n[e]))}function rw(t,n){n&&t.text(([e])=>Ae(n[e]))}function Oe(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,strokeWidth:c,opacity:l,href:h}){r&&Q(t,"aria-label",f=>r[f]),o&&Q(t,"fill",f=>o[f]),a&&Q(t,"fill-opacity",f=>a[f]),s&&Q(t,"stroke",f=>s[f]),u&&Q(t,"stroke-opacity",f=>u[f]),c&&Q(t,"stroke-width",f=>c[f]),l&&Q(t,"opacity",f=>l[f]),h&&Td(t,f=>h[f],n),e||tw(t,i)}function iw(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,strokeWidth:c,opacity:l,href:h}){r&&Q(t,"aria-label",([f])=>r[f]),o&&Q(t,"fill",([f])=>o[f]),a&&Q(t,"fill-opacity",([f])=>a[f]),s&&Q(t,"stroke",([f])=>s[f]),u&&Q(t,"stroke-opacity",([f])=>u[f]),c&&Q(t,"stroke-width",([f])=>c[f]),l&&Q(t,"opacity",([f])=>l[f]),h&&Td(t,([f])=>h[f],n),e||nw(t,i)}function ow({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:u},{tip:c}){return[t,c?void 0:n,e,r,i,o,a,s,u].filter(l=>l!==void 0)}function aw(t,n,e){const r=qg(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&Ln("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*sw(t,n,e,r){const{z:i}=e,{z:o}=r,a=ow(r,e),s=[...n,...a];for(const u of o?aw(t,o,i):[t]){let c,l;t:for(const h of u){for(const f of s)if(!On(f[h])){l&&l.push(-1);continue t}if(c===void 0){l&&(yield l),c=a.map(f=>xn(f[h])),l=[h];continue}l.push(h);for(let f=0;f<a.length;++f)if(xn(a[f][h])!==c[f]){yield l,c=a.map(p=>xn(p[h])),l=[h];continue t}}l&&(yield l)}}function uw(t,n,e,r){let i;const{clip:o=r.clip}=n;o==="frame"?(t=Ct("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=cw(r,e)):o&&(i=hw(o,r)),Q(t,"aria-label",n.ariaLabel),Q(t,"aria-description",n.ariaDescription),Q(t,"aria-hidden",n.ariaHidden),Q(t,"clip-path",i)}function lw(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=Md();xt(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const cw=lw((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:s,marginBottom:u}=e;t.append("rect").attr("x",o).attr("y",s).attr("width",r-a-o).attr("height",i-s-u)}),yl=new WeakMap,fw={type:"Sphere"};function hw(t,n){let e,r;if((e=yl.get(n))||yl.set(n,e=new WeakMap),t.type==="Sphere"&&(t=fw),!(r=e.get(t))){const i=Md();xt(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function Bn(t,n,e,r){uw(t,n,e,r),Q(t,"class",n.className),Q(t,"fill",n.fill),Q(t,"fill-opacity",n.fillOpacity),Q(t,"stroke",n.stroke),Q(t,"stroke-width",n.strokeWidth),Q(t,"stroke-opacity",n.strokeOpacity),Q(t,"stroke-linejoin",n.strokeLinejoin),Q(t,"stroke-linecap",n.strokeLinecap),Q(t,"stroke-miterlimit",n.strokeMiterlimit),Q(t,"stroke-dasharray",n.strokeDasharray),Q(t,"stroke-dashoffset",n.strokeDashoffset),Q(t,"shape-rendering",n.shapeRendering),Q(t,"filter",n.imageFilter),Q(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;Q(t,"pointer-events",i)}function zn(t,n){dw(t,"mix-blend-mode",n.mixBlendMode),Q(t,"opacity",n.opacity)}function Td(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(Jr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Jr.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Q(t,n,e){e!=null&&t.attr(n,e)}function dw(t,n,e){e!=null&&t.style(n,e)}function qn(t,n,{x:e,y:r},i=Ot,o=Ot){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function St(t,n){if((t=$t(t))!==n)return t}function We(t,n){if((t=Mt(t))!==n)return t}const pw=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Os(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!pw.test(t))throw new Error(`invalid class name: ${t}`);return t}function Ps(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function Ar({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class Jt{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:u,sort:c,dx:l=0,dy:h=0,margin:f=0,marginTop:d=f,marginRight:p=f,marginBottom:g=f,marginLeft:y=f,className:b,clip:m=i?.clip,channels:S,tip:_,render:x}=r;if(this.data=n,this.sort=Ue(c)?c:null,this.initializer=ke(r).initializer,this.transform=this.initializer?r.transform:ed(r).transform,o===null||o===!1?this.facet=null:(this.facet=Zt(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===jr&&typeof s=="string"?[s]:s,this.fy=n===jr&&typeof u=="string"?[u]:u),this.facetAnchor=Ab(a),e=Kh(e),S!==void 0&&(e={...gw(S),...e}),i!==void 0&&(e={...Jb(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([w,v])=>{if(eo(v.value)){const{value:T,label:C=v.label,scale:k=v.scale}=v.value;v={...v,label:C,scale:k,value:T}}if(n===jr&&typeof v.value=="string"){const{value:T}=v;v={...v,value:[T]}}return[w,v]}).filter(([w,{value:v,optional:T}])=>{if(v!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+l,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+y,this.clip=Zh(m),this.tip=mw(_),this.className=$t(b),this.facet==="super"){if(s||u)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:v}=e[w];if(!(v!=="x"&&v!=="y"))throw new Error("super-faceting cannot use x or y")}}x!=null&&(this.render=Dd(x,this.render))}initialize(n,e,r){let i=De(this.data);n===void 0&&i!=null&&(n=[$r(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=De(i)),n!==void 0&&(n.original=o);const a=U_(this.channels,i);return this.sort!=null&&A_(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=On}=e[i];if(o!==null){const a=r[i];n=n.filter(s=>o(a[s]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&zb(i,o,e,r.projection)}}scale(n,e,r){const i=k_(n,e);return r.projection&&this.project(n,i,r),i}}function Cd(...t){return t.plot=Jt.prototype.plot,t}function Dd(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,s){return t.call(this,e,r,i,o,a,(u,c,l,h,f)=>n.call(this,u,c,l,h,f,s))}}function gw(t){return Object.fromEntries(Object.entries(Kh(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:oo(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function mw(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Zt(t,"tip",["x","y","xy"]):t}function Ud(t,n){return t?.tip===!0?{...t,tip:n}:se(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function yw(t,n,e={}){let r=.5-Ot,i=.5+Ot,o=.5+Ot,a=.5-Ot;for(const{marginTop:g,marginRight:y,marginBottom:b,marginLeft:m}of n)g>r&&(r=g),y>i&&(i=y),b>o&&(o=b),m>a&&(a=m);let{margin:s,marginTop:u=s!==void 0?s:r,marginRight:c=s!==void 0?s:i,marginBottom:l=s!==void 0?s:o,marginLeft:h=s!==void 0?s:a}=e;u=+u,c=+c,l=+l,h=+h;let{width:f=640,height:d=_w(t,e,{width:f,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+l-o)}=e;f=+f,d=+d;const p={width:f,height:d,marginTop:u,marginRight:c,marginBottom:l,marginLeft:h};if(t.fx||t.fy){let{margin:g,marginTop:y=g!==void 0?g:u,marginRight:b=g!==void 0?g:c,marginBottom:m=g!==void 0?g:l,marginLeft:S=g!==void 0?g:h}=e.facet??{};y=+y,b=+b,m=+m,S=+S,p.facet={marginTop:y,marginRight:b,marginBottom:m,marginLeft:S}}return p}function _w({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:l}){const h=e&&e.scale.domain().length||1,f=Wb(i);if(f){const p=r?r.scale.domain().length:1,g=(1.1*h-.1)/(1.1*p-.1)*f,y=Math.max(.1,Math.min(10,g));return Math.round((a-l-u)*y+s+c)}const d=n?le(n)?n.scale.domain().length||1:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=_l("y",n)/(_l("x",t)*o),g=r?r.scale.bandwidth():1,y=e?e.scale.bandwidth():1,b=g*(a-l-u)-t.insetLeft-t.insetRight;return(p*b+n.insetTop+n.insetBottom)/y+s+c}return!!(n||e)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function _l(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=n.scale.exponent();i=u=>Math.pow(u,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=En(r);return Math.abs(i(a)-i(o))}const bl=new WeakMap;function Is(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:s,render:u,...c}={}){return a=+a,i!=null&&(e??=null,s={...s,px:{value:i,scale:"x"}}),o!=null&&(r??=null,s={...s,py:{value:o,scale:"y"}}),{x:e,y:r,channels:s,...c,render:Dd(function(l,h,f,d,p,g){p={...p,pointerSticky:!1};const y=p.ownerSVGElement,{data:b}=p.getMarkState(this);let m=bl.get(y);m||bl.set(y,m={sticky:!1,roots:[],renders:[]});let S=m.renders.push(B)-1;const{x:_,y:x,fx:w,fy:v}=h;let T=w?w(l.fx)-d.marginLeft:0,C=v?v(l.fy)-d.marginTop:0;_?.bandwidth&&(T+=_.bandwidth()/2),x?.bandwidth&&(C+=x.bandwidth()/2);const k=l.fi!=null;let D;if(k){let P=m.facetStates;P||(m.facetStates=P=new Map),D=P.get(this),D||P.set(this,D=new Map)}const[R,q]=Ar(this,d),{px:E,py:M}=f,N=E?P=>E[P]:kd(f,R),G=M?P=>M[P]:Ad(f,q);let V,A,O,F;function W(P,rt){if(k)if(F&&(F=cancelAnimationFrame(F)),P==null)D.delete(l.fi);else{D.set(l.fi,rt),F=requestAnimationFrame(()=>{F=null;for(const[$,I]of D)if(I<rt||I===rt&&$<l.fi){P=null;break}B(P)});return}B(P)}function B(P){if(V===P&&O===m.sticky)return;V=P,O=p.pointerSticky=m.sticky;const rt=V==null?[]:[V];k&&(rt.fx=l.fx,rt.fy=l.fy,rt.fi=l.fi);const $=g(rt,h,f,d,p);if(A){if(k){const I=A.parentNode,H=A.getAttribute("transform"),U=$.getAttribute("transform");H?$.setAttribute("transform",H):$.removeAttribute("transform"),U?I.setAttribute("transform",U):I.removeAttribute("transform"),$.removeAttribute("aria-label"),$.removeAttribute("aria-description"),$.removeAttribute("aria-hidden")}A.replaceWith($)}if(m.roots[S]=A=$,!(V==null&&D?.size>1)){const I=V==null?null:xr(b)?b[V]:b.get(V);p.dispatchValue(I)}return $}function J(P){if(m.sticky||P.pointerType==="mouse"&&P.buttons===1)return;let[rt,$]=l0(P);rt-=T,$-=C;const I=rt<d.marginLeft||rt>d.width-d.marginRight?1:t,H=$<d.marginTop||$>d.height-d.marginBottom?1:n;let U=null,lt=a*a;for(const j of l){const ft=I*(N(j)-rt),gt=H*(G(j)-$),Lt=ft*ft+gt*gt;Lt<=lt&&(U=j,lt=Lt)}if(U!=null&&(t!==1||n!==1)){const j=N(U)-rt,ft=G(U)-$;lt=j*j+ft*ft}W(U,lt)}function nt(P){P.pointerType==="mouse"&&V!=null&&(m.sticky&&m.roots.some(rt=>rt?.contains(P.target))||(m.sticky?(m.sticky=!1,m.renders.forEach(rt=>rt(null))):(m.sticky=!0,B(V)),P.stopImmediatePropagation()))}function et(P){P.pointerType==="mouse"&&(m.sticky||W(null))}return y.addEventListener("pointerenter",J),y.addEventListener("pointermove",J),y.addEventListener("pointerdown",nt),y.addEventListener("pointerleave",et),B(null)},u)}}function bw(t){return Is(1,1,t)}function ww(t){return Is(1,.01,t)}function wl(t){return Is(.01,1,t)}function kd({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Ad({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Ed(t){return le(t)&&t.interval===void 0?void 0:"tabular-nums"}function vw(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:u=16+r,marginLeft:c=0,style:l,ticks:h=(i-c-s)/64,tickFormat:f,fontVariant:d=Ed(t),round:p=!0,opacity:g,className:y}=n;const b=Ls(n);y=Os(y),g=Ut(g)[1],f===null&&(f=()=>null);const m=Ct("svg",b).attr("class",`${y}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(R=>R.append("style").text(`:where(.${y}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${y}-ramp text) {
  white-space: pre;
}`)).call(Ps,l);let S=R=>R.selectAll(".tick line").attr("y1",a+u-o),_;const x=p?(R,q)=>R.rangeRound(q):(R,q)=>R.range(q),{type:w,domain:v,range:T,interpolate:C,scale:k,pivot:D}=t;if(C){const R=T===void 0?C:qi(C.length===1?ks(C):C,T);_=x(k.copy(),Xt(dr(c,i-s),Math.min(v.length+(D!==void 0),T===void 0?1/0:T.length)));const q=256,E=b.document.createElement("canvas");E.width=q,E.height=1;const M=E.getContext("2d");for(let N=0,G=q-1;N<q;++N)M.fillStyle=R(N/G),M.fillRect(N,0,1,1);m.append("image").attr("opacity",g).attr("x",c).attr("y",a).attr("width",i-c-s).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",E.toDataURL())}else if(w==="threshold"){const R=v,q=f===void 0?E=>E:typeof f=="string"?Li(f):f;_=x(Ka().domain([-1,T.length-1]),[c,i-s]),m.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(E,M)=>_(M-1)).attr("y",a).attr("width",(E,M)=>_(M)-_(M-1)).attr("height",o-a-u).attr("fill",E=>E),h=Tt(R,(E,M)=>M),f=E=>q(R[E],E)}else _=x(Yi().domain(v),[c,i-s]),m.append("g").attr("fill-opacity",g).selectAll().data(v).enter().append("rect").attr("x",_).attr("y",a).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-a-u).attr("fill",k),S=()=>{};return m.append("g").attr("transform",`translate(0,${o-u})`).call(a0(_).ticks(Array.isArray(h)?null:h,typeof f=="string"?f:void 0).tickFormat(typeof f=="function"?f:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",St(d,"normal")).call(S).call(R=>R.select(".domain").remove()),e!==void 0&&m.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),m.node()}const Ld=Math.PI/180;function Rs(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Go(e),t.markerMid=Go(r),t.markerEnd=Go(i)}function Go(t){if(t==null||t===!1)return null;if(t===!0)return Sl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return vl("auto");case"arrow-reverse":return vl("auto-start-reverse");case"dot":return Sw;case"circle":case"circle-fill":return Sl;case"circle-stroke":return xw;case"tick":return jo("auto");case"tick-x":return jo(90);case"tick-y":return jo(0)}throw new Error(`invalid marker: ${t}`)}function vl(t){return(n,e)=>Ct("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Sw(t,n){return Ct("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function Sl(t,n){return Ct("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function xw(t,n){return Ct("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function jo(t){return(n,e)=>Ct("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let $w=0;function Nd(t,n,{stroke:e},r){return Pd(t,n,e&&(i=>e[i]),null,r)}function Mw(t,n,{stroke:e,z:r},i){return Pd(t,n,e&&(([o])=>e[o]),r,i)}const Ha=1,Od=2;function Tw(t,n){const e=new Uint8Array(n.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=Wa;o<i;++o){const s=r[o];if(s.length>1){const u=s[0];a!==(a=xn(n[u]))&&(e[u]|=Ha)}}for(let o=i-1,a=Wa;o>=0;--o){const s=r[o];if(s.length>1){const u=s[0];a!==(a=xn(n[u]))&&(e[u]|=Od)}}return([o])=>e[o]}function Pd(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,s){if(!n&&!e&&!r)return;const u=new Map,c=a&&Tw(t,a);function l(h,f,d){return function(p){if(d&&!d(p))return;const g=o(p);let y=u.get(f);y||u.set(f,y=new Map);let b=y.get(g);if(!b){const m=this.parentNode.insertBefore(f(g,s),this),S=`plot-marker-${++$w}`;m.setAttribute("id",S),y.set(g,b=`url(#${S})`)}this.setAttribute(h,b)}}n&&t.each(l("marker-start",n,c&&(h=>c(h)&Ha))),e&&c&&t.each(l("marker-start",e,h=>!(c(h)&Ha))),e&&t.each(l("marker-mid",e)),r&&t.each(l("marker-end",r,c&&(h=>c(h)&Od)))}function Id({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Fd(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Rd({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Fd(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Fd(t,n,e){return t===void 0&&n===void 0&&e===void 0?Ot?[1,0]:[.5,.5]:[n,e]}function Bd(t,{interval:n}){return t={...oo(t)},t.interval=xs(t.interval===void 0?n:t.interval),t}function zd(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:s,interval:u}=Bd(i,e);if(s==null||u==null&&!r)return e;const c=io(i);if(u==null){let d;const p={transform:g=>d||(d=Pn(g,s)),label:c};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let l,h;function f(d){return h!==void 0&&d===l?h:h=Tt(Pn(l=d,s),p=>u.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:f,label:c}:o,[`${t}2`]:a===void 0?{transform:d=>f(d).map(p=>u.offset(p)),label:c}:a})}function qd(t,n,e){const{[t]:r}=e,{value:i,interval:o}=Bd(r,e);return i==null||o==null?e:n({...e,[t]:{label:io(r),transform:a=>{const s=Tt(Pn(a,i),c=>o.floor(c)),u=s.map(c=>o.offset(c));return s.map(fn(s)?(c,l)=>c==null||isNaN(c=+c)||(l=u[l],l==null)||isNaN(l=+l)?void 0:new Date((c+l)/2):(c,l)=>c==null||(l=u[l],l==null)?NaN:(+c+ +l)/2)}}})}function Cw(t={}){return zd("x",Id,t)}function Dw(t={}){return zd("y",Rd,t)}function Uw(t={}){return qd("x",Id,t)}function kw(t={}){return qd("y",Rd,t)}const Wd={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Aw extends Jt{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:u=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Ud(e,"x"),Wd),this.insetTop=Mt(s),this.insetBottom=Mt(u),Rs(this,e)}render(n,e,r,i,o){const{x:a,y:s}=e,{x:u,y1:c,y2:l}=r,{width:h,height:f,marginTop:d,marginRight:p,marginLeft:g,marginBottom:y}=i,{insetTop:b,insetBottom:m}=this;return Ct("svg:g",o).call(Bn,this,i,o).call(qn,this,{x:u&&a},Ot,0).call(S=>S.selectAll().data(n).enter().append("line").call(zn,this).attr("x1",u?_=>u[_]:(g+h-p)/2).attr("x2",u?_=>u[_]:(g+h-p)/2).attr("y1",c&&!Ti(s)?_=>c[_]+b:d+b).attr("y2",l&&!Ti(s)?s.bandwidth?_=>l[_]+s.bandwidth()-m:_=>l[_]-m:f-y-m).call(Oe,this,r).call(Nd,this,r,o)).node()}}class Ew extends Jt{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:u=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Ud(e,"y"),Wd),this.insetRight=Mt(s),this.insetLeft=Mt(u),Rs(this,e)}render(n,e,r,i,o){const{x:a,y:s}=e,{y:u,x1:c,x2:l}=r,{width:h,height:f,marginTop:d,marginRight:p,marginLeft:g,marginBottom:y}=i,{insetLeft:b,insetRight:m}=this;return Ct("svg:g",o).call(Bn,this,i,o).call(qn,this,{y:u&&s},0,Ot).call(S=>S.selectAll().data(n).enter().append("line").call(zn,this).attr("x1",c&&!Ti(a)?_=>c[_]+b:g+b).attr("x2",l&&!Ti(a)?a.bandwidth?_=>l[_]+a.bandwidth()-m:_=>l[_]-m:h-p-m).attr("y1",u?_=>u[_]:(d+f-y)/2).attr("y2",u?_=>u[_]:(d+f-y)/2).call(Oe,this,r).call(Nd,this,r,o)).node()}}function Xr(t,n){let{x:e=Cn,y:r,y1:i,y2:o,...a}=Dw(n);return[i,o]=Hd(r,i,o),new Aw(t,{...a,x:e,y1:i,y2:o})}function Lw(t,n){let{y:e=Cn,x:r,x1:i,x2:o,...a}=Cw(n);return[i,o]=Hd(r,i,o),new Ew(t,{...a,y:e,x1:i,x2:o})}function Hd(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function Fs(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const Nw={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Yd="­";class Bs extends Jt{constructor(n,e={}){const{x:r,y:i,text:o=ue(n)&&Qh(n)?Cn:q1,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:l=1/0,textOverflow:h,monospace:f,fontFamily:d=f?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:y,fontWeight:b,rotate:m}=e,[S,_]=Ut(m,0),[x,w]=Bw(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:x,optional:!0},rotate:{value:J1(S),optional:!0},text:{value:o,filter:gs,optional:!0}},e,Nw),this.rotate=_,this.textAnchor=St(s,"middle"),this.lineAnchor=Zt(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.textOverflow=Vd(h),this.monospace=!!f,this.fontFamily=$t(d),this.fontSize=w,this.fontStyle=$t(g),this.fontVariant=$t(y),this.fontWeight=$t(b),this.frameAnchor=so(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=jd(this),this.clipLine=Xd(this)}render(n,e,r,i,o){const{x:a,y:s}=e,{x:u,y:c,rotate:l,text:h,title:f,fontSize:d}=r,{rotate:p}=this,[g,y]=Ar(this,i);return Ct("svg:g",o).call(Bn,this,i,o).call(Gd,this,h,i).call(qn,this,{x:u&&a,y:c&&s}).call(b=>b.selectAll().data(n).enter().append("text").call(zn,this).call(Ow,this,h,f).attr("transform",Fs`translate(${u?m=>u[m]:g},${c?m=>c[m]:y})${l?m=>` rotate(${l[m]})`:p?` rotate(${p})`:""}`).call(Q,"font-size",d&&(m=>d[m])).call(Oe,this,r)).node()}}function Vd(t){return t==null?null:Zt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Ow(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:u}=n;t.each(function(c){const l=s(Ae(e[c])??"").map(u),h=l.length,f=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!l[p])continue;const g=this.ownerDocument.createElementNS(Jr.svg,"tspan");g.setAttribute("x",0),p===d-1?g.setAttribute("y",`${(f+p)*o}em`):g.setAttribute("dy",`${d*o}em`),g.textContent=l[p],this.appendChild(g),d=0}}else f&&this.setAttribute("y",`${f*o}em`),this.textContent=l[0];if(a&&!r&&l[0]!==e[c]){const d=this.ownerDocument.createElementNS(Jr.svg,"title");d.textContent=e[c],this.appendChild(d)}})}function Ci(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=ro(n,e)),new Bs(t,{...r,x:n,y:e})}function Pw(t,{x:n=Cn,...e}={}){return new Bs(t,kw({...e,x:n}))}function Iw(t,{y:n=Cn,...e}={}){return new Bs(t,Uw({...e,y:n}))}function Gd(t,n,e){Q(t,"text-anchor",n.textAnchor),Q(t,"font-family",n.fontFamily),Q(t,"font-size",n.fontSize),Q(t,"font-style",n.fontStyle),Q(t,"font-variant",n.fontVariant===void 0?Rw(e):n.fontVariant),Q(t,"font-weight",n.fontWeight)}function Rw(t){return t&&(e_(t)||fn(t))?"tabular-nums":void 0}const Fw=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Bw(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),Fw.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function zw(t,n,e){const r=[];let i,o=0;for(const[a,s,u]of qw(t)){if(i===void 0&&(i=a),o>i&&e(t,i,s)>n&&(r.push(t.slice(i,o)+(t[o-1]===Yd?"-":"")),i=a),u){r.push(t.slice(i,s)),i=void 0;continue}o=s}return r}function*qw(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case Yd:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const xl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function zs(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Pe(t,i))r+=xl[t[i]]??(Kd(t,i)?120:xl.e);return r}function qs(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Pe(t,i))r+=Kd(t,i)?126:63;return r}function jd({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?qs:zs,i=n*100;return o=>zw(o,i,r)}function Xd({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?qs:zs,i=n*100;switch(e){case"clip-start":return o=>Ml(o,i,r,"");case"clip-end":return o=>$l(o,i,r,"");case"ellipsis-start":return o=>Ml(o,i,r,be);case"ellipsis-middle":return o=>Ww(o,i,r,be);case"ellipsis-end":return o=>$l(o,i,r,be)}}const be="…";function Ee(t,n,e,r){const i=[];let o=0;for(let a=0,s=0,u=t.length;a<u;a=s){s=Pe(t,a);const c=e(t,a,s);if(o+c>n){for(o+=r;o>n&&a>0;)s=a,a=i.pop(),o-=e(t,a,s);return[a,n-o]}o+=c,i.push(a)}return[-1,0]}function $l(t,n,e,r){t=t.trim();const i=e(r),[o]=Ee(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function Ww(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,s]=Ee(t,n/2,e,o),[u]=Ee(t,i-n/2-s+o,e,-o);return u<0?r:t.slice(0,a).trimEnd()+r+t.slice(Pe(t,u)).trimStart()}function Ml(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=Ee(t,i-n+o,e,-o);return a<0?r:r+t.slice(Pe(t,a)).trimStart()}const Ya=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Tl=new RegExp("\\p{Extended_Pictographic}","uy");function Pe(t,n){return n+=Hw(t,n)?2:1,Vw(t,n)&&(n=Ya.lastIndex),Yw(t,n)?Pe(t,n+1):n}function Qd(t,n){return t.charCodeAt(n)<128}function Hw(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function Yw(t,n){return t.charCodeAt(n)===8205}function Vw(t,n){return Qd(t,n)?!1:(Ya.lastIndex=n,Ya.test(t))}function Kd(t,n){return Qd(t,n)?!1:(Tl.lastIndex=n,Tl.test(t))}const Gw={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Zd=3.5,jw=Zd*5,Jd={draw(t,n,e){const r=n*e/jw;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},Xw={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},Qw=new Map([["arrow",Jd],["spike",Xw]]);function Kw(t){return t&&typeof t.draw=="function"}function Zw(t){if(Kw(t))return t;const n=Qw.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class tp extends Jt{constructor(n,e={}){const{x:r,y:i,r:o=Zd,length:a,rotate:s,shape:u=Jd,anchor:c="middle",frameAnchor:l}=e,[h,f]=Ut(a,12),[d,p]=Ut(s,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},e,Gw),this.r=+o,this.length=f,this.rotate=p,this.shape=Zw(u),this.anchor=Zt(c,"anchor",["start","middle","end"]),this.frameAnchor=so(l)}render(n,e,r,i,o){const{x:a,y:s}=e,{x:u,y:c,length:l,rotate:h}=r,{length:f,rotate:d,anchor:p,shape:g,r:y}=this,[b,m]=Ar(this,i);return Ct("svg:g",o).call(Bn,this,i,o).call(qn,this,{x:u&&a,y:c&&s}).call(S=>S.selectAll().data(n).enter().append("path").call(zn,this).attr("transform",Fs`translate(${u?_=>u[_]:b},${c?_=>c[_]:m})${h?_=>` rotate(${h[_]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?l?_=>` translate(0,${l[_]})`:` translate(0,${f})`:l?_=>` translate(0,${l[_]/2})`:` translate(0,${f/2})`}`).attr("d",l?_=>{const x=jn();return g.draw(x,l[_],y),x}:(()=>{const _=jn();return g.draw(_,f,y),_})()).call(Oe,this,r)).node()}}function Jw(t,n={}){const{x:e=Cn,...r}=n;return new tp(t,{...r,x:e})}function t2(t,n={}){const{y:e=Cn,...r}=n;return new tp(t,{...r,y:e})}function Wn(t,n){return arguments.length<2&&!ue(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function ho({anchor:t}={},n){return t===void 0?n[0]:Zt(t,"anchor",n)}function np(t){return ho(t,["left","right"])}function ep(t){return ho(t,["right","left"])}function rp(t){return ho(t,["bottom","top"])}function ip(t){return ho(t,["top","bottom"])}function op(){const[t,n]=Wn(...arguments);return sp("y",np(n),t,n)}function n2(){const[t,n]=Wn(...arguments);return sp("fy",ep(n),t,n)}function ap(){const[t,n]=Wn(...arguments);return up("x",rp(n),t,n)}function e2(){const[t,n]=Wn(...arguments);return up("fx",ip(n),t,n)}function sp(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:f,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:y,x:b,margin:m,marginTop:S=m===void 0?20:m,marginRight:_=m===void 0?n==="right"?40:0:m,marginBottom:x=m===void 0?20:m,marginLeft:w=m===void 0?n==="left"?40:0:m,label:v,labelAnchor:T,labelArrow:C,labelOffset:k,ariaLabel:D=`${t}-axis`,...R}){return p=Mt(p),g=Mt(g),y=Mt(y),T!==void 0&&(T=Zt(T,"labelAnchor",["center","top","bottom"])),C=mp(C),Cd(p&&!At(o)?r2(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:y,x:b,ariaLabel:D,...R}):null,At(u)?null:o2(t,n,e,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:f,strokeWidth:d,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:y,x:b,marginTop:S,marginRight:_,marginBottom:x,marginLeft:w,ariaLabel:D,...R}),!At(u)&&v!==null?Ci([],hp({fill:u,fillOpacity:c,...R},function(q,E,M,N,G){const V=N[t],{marginTop:A,marginRight:O,marginBottom:F,marginLeft:W}=t==="y"&&G.inset||G,B=T??(V.bandwidth?"center":"top"),J=k??(n==="right"?O:W)-3;return B==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=B,this.frameAnchor=`${B}-${n}`,this.rotate=0),this.dy=B==="top"?3-A:B==="bottom"?F-3:0,this.dx=n==="right"?J:-J,this.ariaLabel=`${D} label`,{facets:[[0]],channels:{text:{value:[gp(t,V,{anchor:n,label:v,labelAnchor:B,labelArrow:C})]}}}})):null)}function up(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:f,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:y,y:b,margin:m,marginTop:S=m===void 0?n==="top"?30:0:m,marginRight:_=m===void 0?20:m,marginBottom:x=m===void 0?n==="bottom"?30:0:m,marginLeft:w=m===void 0?20:m,label:v,labelAnchor:T,labelArrow:C,labelOffset:k,ariaLabel:D=`${t}-axis`,...R}){return p=Mt(p),g=Mt(g),y=Mt(y),T!==void 0&&(T=Zt(T,"labelAnchor",["center","left","right"])),C=mp(C),Cd(p&&!At(o)?i2(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:y,y:b,ariaLabel:D,...R}):null,At(u)?null:a2(t,n,e,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:f,strokeWidth:d,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:y,y:b,marginTop:S,marginRight:_,marginBottom:x,marginLeft:w,ariaLabel:D,...R}),!At(u)&&v!==null?Ci([],hp({fill:u,fillOpacity:c,...R},function(q,E,M,N,G){const V=N[t],{marginTop:A,marginRight:O,marginBottom:F,marginLeft:W}=t==="x"&&G.inset||G,B=T??(V.bandwidth?"center":"right"),J=k??(n==="top"?A:F)-3;return B==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${B}`,this.textAnchor=B==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-J:J,this.dx=B==="right"?O-3:B==="left"?3-W:0,this.ariaLabel=`${D} label`,{facets:[[0]],channels:{text:{value:[gp(t,V,{anchor:n,label:v,labelAnchor:B,labelArrow:C})]}}}})):null)}function r2(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:s=n,tickSize:u,inset:c=0,insetLeft:l=c,insetRight:h=c,dx:f=0,y:d=t==="y"?void 0:null,ariaLabel:p,...g}){return Ie(t2,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:d,...g,dx:n==="left"?+f-Ot+ +l:+f+Ot-h,anchor:"start",length:u,shape:n==="left"?p2:g2})}function i2(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:s=n,tickSize:u,inset:c=0,insetTop:l=c,insetBottom:h=c,dy:f=0,x:d=t==="x"?void 0:null,ariaLabel:p,...g}){return Ie(Jw,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:d,...g,dy:n==="bottom"?+f-Ot-h:+f+Ot+ +l,anchor:"start",length:u,shape:n==="bottom"?h2:d2})}function o2(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Ld):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:l=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:f=0,insetLeft:d=f,insetRight:p=f,dx:g=0,ariaLabel:y,y:b=t==="y"?void 0:null,...m}){return Ie(Iw,t,e,{ariaLabel:`${y} tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:a,y:b,...m,dx:n==="left"?+g-o-s+ +d:+g+ +o+ +s-p},function(S,_,x,w,v){h===void 0&&(this.fontVariant=pp(S)),u===void 0&&(v.text=dp(S,_,x,w,n))})}function a2(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Ld):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:l=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:h,inset:f=0,insetTop:d=f,insetBottom:p=f,dy:g=0,x:y=t==="x"?void 0:null,ariaLabel:b,...m}){return Ie(Pw,t,e,{ariaLabel:`${b} tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:a,x:y,...m,dy:n==="bottom"?+g+ +o+ +s-p:+g-o-s+ +d},function(S,_,x,w,v){h===void 0&&(this.fontVariant=pp(S)),u===void 0&&(v.text=dp(S,_,x,w,n))})}function s2(){const[t,n]=Wn(...arguments);return lp("y",np(n),t,n)}function u2(){const[t,n]=Wn(...arguments);return lp("fy",ep(n),t,n)}function l2(){const[t,n]=Wn(...arguments);return cp("x",rp(n),t,n)}function c2(){const[t,n]=Wn(...arguments);return cp("fx",ip(n),t,n)}function lp(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,ariaLabel:s=`${t}-grid`,ariaHidden:u=!0,...c}){return Ie(Lw,t,e,{ariaLabel:s,ariaHidden:u},{y:r,x1:o,x2:a,...fp(c)})}function cp(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,ariaLabel:s=`${t}-grid`,ariaHidden:u=!0,...c}){return Ie(Xr,t,e,{ariaLabel:s,ariaHidden:u},{x:r,y1:o,y2:a,...fp(c)})}function fp({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function hp({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:u,shapeRendering:c,clip:l=!1},h){return[,t]=ee(t),[,n]=Ut(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:u,shapeRendering:c,clip:l,initializer:h}}function Ie(t,n,e,r,i,o){let a;function s(l,h,f,d,p,g){const y=l==null&&(n==="fx"||n==="fy"),{[n]:b}=d;if(!b)throw new Error(`missing scale: ${n}`);const m=b.domain();let{interval:S,ticks:_,tickFormat:x,tickSpacing:w=n==="x"?80:35}=i;if(typeof _=="string"&&yp(b)&&(S=_,_=void 0),_===void 0&&(_=Mr(S,b.type)??f2(b,w)),l==null){if(ue(_))l=ae(_);else if(Z1(_))l=Xo(_,...En(m));else if(b.interval){let T=b.interval;if(b.ticks){const[C,k]=En(m),D=(k-C)/T[Sr];T=ju(T,D/_)??T,l=Xo(T,C,k)}else{l=m;const C=l.length;T=ju(T,C/_)??T,T!==b.interval&&(l=Xo(T,...En(l)))}if(T===b.interval){const C=Math.round(l.length/_);C>1&&(l=l.filter((k,D)=>D%C===0))}}else b.ticks?l=b.ticks(_):l=m;if(!b.ticks&&l.length&&l!==m){const T=new zi(m);l=l.filter(C=>T.has(C)),l.length||Ln(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?h=[$r(l)]:a[n]={scale:n,value:Cn}}o?.call(this,b,l,_,x,a);const v=Object.fromEntries(Object.entries(a).map(([T,C])=>[T,{...C,value:Pn(l,C.value)}]));return y&&(h=g.filterFacets(l,v)),{data:l,facets:h,channels:v}}const u=ke(i).initializer,c=t(e,ke({...i,initializer:s},u));return e==null?(a=c.channels,c.channels={}):a={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function f2(t,n){const[e,r]=En(t.range());return(r-e)/n}function dp(t,n,e,r,i){return{value:Ws(t,n,e,r,i)}}function Ws(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&fn(n)?O1(t.type,n,i)??Ae:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(fn(t.domain())?vr:Li)(r):r===void 0?Ae:Sn(r)}function Xo(t,n,e){return t.range(n,t.offset(t.floor(e)))}const h2={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},d2={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},p2={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},g2={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function pp(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function gp(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&yp(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=_b(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return e==="right"?`${r} ↑`:`↑ ${r}`;case"down":return e==="right"?`${r} ↓`:`↓ ${r}`}return r}}function mp(t="auto"){return At(t)?!1:typeof t=="boolean"?t:Zt(t,"labelArrow",["auto","up","right","down","left"])}function yp(t){return fn(t.domain())}function Cl(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function m2(t,{opacity:n,...e}={}){if(!le(t)&&!Sd(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return _p(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Ut(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function y2(t,{fill:n=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:At(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},u){const[c,l]=ee(n),[h,f]=ee(r),d=Cl(u,c),p=Cl(u,h),g=a*a*Math.PI;return e=Ut(e)[1],i=Ut(i)[1],o=Ut(o)[1],_p(t,s,(y,b,m,S)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",m).attr("height",S).attr("fill",c==="color"?_=>d.scale(_):l).attr("fill-opacity",e).attr("stroke",h==="color"?_=>p.scale(_):f).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",_=>{const x=jn();return t.scale(_).draw(x,g),x}))}function _p(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=Ed(t),swatchSize:a=15,swatchWidth:s=a,swatchHeight:u=a,marginLeft:c=0,className:l,style:h,width:f}=n;const d=Ls(n);l=Os(l),i=Ws(t.scale,t.domain,void 0,i);const p=Ct("div",d).attr("class",`${l}-swatches ${l}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${l}-swatches-columns .${l}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${l}-swatches-columns .${l}-swatch::before) {
  flex-shrink: 0;
}
:where(.${l}-swatches-columns .${l}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${l}-swatch`).call(e,t,s,u).call(y=>y.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${l}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${l}-swatches-wrap .${l}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${l}-swatch`).call(e,t,s,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(y=>y.insert("style","*").text(`:where(.${l}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${l}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",c?`${+c}px`:null).style("width",f===void 0?null:`${+f}px`).style("font-variant",St(o,"normal")).call(Ps,h).node()}const Va=new Map([["symbol",y2],["color",wp],["opacity",b2]]);function _2(t,n,e={}){return(r,i)=>{if(!Va.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Va.get(r)(t[r],bp(n,e[r],i),o=>t[o])}}function bp({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return a_(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function wp(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return m2(t,e);case"ramp":return vw(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function b2({type:t,interpolate:n,...e},{legend:r=!0,color:i=Jo(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return wp({type:t,...e,interpolate:w2(i)},{legend:r,...o})}function w2(t){const{r:n,g:e,b:r}=Jo(t)||Jo(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function v2(t,n,e){const r=[];for(const[i,o]of Va){const a=e[i];if(a?.legend&&i in t){const s=o(t[i],bp(n,t[i],a),u=>t[u]);s!=null&&r.push(s)}}return r}function S2(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=Mt(e),t.insetRight=Mt(r),t.insetBottom=Mt(i),t.insetLeft=Mt(o)}function x2(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:s=n,rx1y1:u=i!==void 0?+i:o!==void 0?+o:0,rx1y2:c=i!==void 0?+i:s!==void 0?+s:0,rx2y1:l=a!==void 0?+a:o!==void 0?+o:0,rx2y2:h=a!==void 0?+a:s!==void 0?+s:0}={}){u||c||l||h?(t.rx1y1=u,t.rx1y2=c,t.rx2y1=l,t.rx2y2=h):(t.rx=St(e,"auto"),t.ry=St(r,"auto"))}function $2(t,n,e,r,i,o){const{rx1y1:a,rx1y2:s,rx2y1:u,rx2y2:c}=o;typeof n!="function"&&(n=Sn(n)),typeof e!="function"&&(e=Sn(e)),typeof r!="function"&&(r=Sn(r)),typeof i!="function"&&(i=Sn(i));const l=Math.max(Math.abs(a+u),Math.abs(s+c)),h=Math.max(Math.abs(a+s),Math.abs(u+c));t.attr("d",f=>{const d=n(f),p=e(f),g=r(f),y=i(f),b=d>g,m=p>y,S=b?g:d,_=b?d:g,x=m?y:p,w=m?p:y,v=Math.min(1,(_-S)/l,(w-x)/h),T=v*(b?m?c:u:m?s:a),C=v*(b?m?s:a:m?c:u),k=v*(b?m?a:s:m?u:c),D=v*(b?m?u:c:m?a:s);return`M${S},${x+zr(T,D)}A${T},${T} 0 0 ${T<0?0:1} ${S+Br(T,D)},${x}H${_-Br(C,k)}A${C},${C} 0 0 ${C<0?0:1} ${_},${x+zr(C,k)}V${w-zr(k,C)}A${k},${k} 0 0 ${k<0?0:1} ${_-Br(k,C)},${w}H${S+Br(D,T)}A${D},${D} 0 0 ${D<0?0:1} ${S},${w-zr(D,T)}Z`})}function Br(t,n){return n<0?t:Math.abs(t)}function zr(t,n){return n<0?Math.abs(t):t}const M2={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},T2={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class C2 extends Jt{constructor(n={}){const{anchor:e=null}=n;super(jr,void 0,n,e==null?M2:T2),this.anchor=jh(e,"anchor",["top","right","bottom","left"]),S2(this,n),e||x2(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:s,marginBottom:u,marginLeft:c,width:l,height:h}=i,{anchor:f,insetTop:d,insetRight:p,insetBottom:g,insetLeft:y}=this,{rx:b,ry:m,rx1y1:S,rx1y2:_,rx2y1:x,rx2y2:w}=this,v=c+y,T=l-s-p,C=a+d,k=h-u-g;return Ct(f?"svg:line":S||_||x||w?"svg:path":"svg:rect",o).datum(0).call(Bn,this,i,o).call(zn,this).call(Oe,this,r).call(qn,this,{}).call(f==="left"?D=>D.attr("x1",v).attr("x2",v).attr("y1",C).attr("y2",k):f==="right"?D=>D.attr("x1",T).attr("x2",T).attr("y1",C).attr("y2",k):f==="top"?D=>D.attr("x1",v).attr("x2",T).attr("y1",C).attr("y2",C):f==="bottom"?D=>D.attr("x1",v).attr("x2",T).attr("y1",k).attr("y2",k):S||_||x||w?D=>D.call($2,v,C,T,k,this):D=>D.attr("x",v).attr("y",C).attr("width",T-v).attr("height",k-C).attr("rx",b).attr("ry",m)).node()}}function D2(t){return new C2(t)}const Qo={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},U2=new Set(["geometry","href","src","ariaLabel","scales"]);class k2 extends Jt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ue(n)&&Qh(n)&&(e={...e,title:Cn});const{x:r,y:i,x1:o,x2:a,y1:s,y2:u,anchor:c,preferredAnchor:l="bottom",monospace:h,fontFamily:f=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:g,fontWeight:y,lineHeight:b=1,lineWidth:m=20,frameAnchor:S,format:_,textAnchor:x="start",textOverflow:w,textPadding:v=8,title:T,pointerSize:C=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:s!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:s,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:s==null},title:{value:T,optional:!0}},e,Qo),this.anchor=Pa(c,"anchor"),this.preferredAnchor=Pa(l,"preferredAnchor"),this.frameAnchor=so(S),this.textAnchor=St(x,"middle"),this.textPadding=+v,this.pointerSize=+C,this.pathFilter=$t(k),this.lineHeight=+b,this.lineWidth=+m,this.textOverflow=Vd(w),this.monospace=!!h,this.fontFamily=$t(f),this.fontSize=Mt(d),this.fontStyle=$t(p),this.fontVariant=$t(g),this.fontWeight=$t(y);for(const D in Qo)D in this.channels&&(this[D]=Qo[D]);this.splitLines=jd(this),this.clipLine=Xd(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(n,e,r,i,o){const a=this,{x:s,y:u,fx:c,fy:l}=e,{ownerSVGElement:h,document:f}=o,{anchor:d,monospace:p,lineHeight:g,lineWidth:y}=this,{textPadding:b,pointerSize:m,pathFilter:S}=this,{marginTop:_,marginLeft:x}=i,{x1:w,y1:v,x2:T,y2:C,x:k=w??T,y:D=v??C}=r,R=c?c(n.fx)-x:0,q=l?l(n.fy)-_:0,[E,M]=Ar(this,i),N=kd(r,E),G=Ad(r,M),V=p?qs:zs,A=V(be);let O,F;"title"in r?(O=Dl.call(this,{title:r.channels.title},e),F=O2):(O=Dl.call(this,r.channels,e),F=P2);const W=Ct("svg:g",o).call(Bn,this,i,o).call(Gd,this).call(qn,this,{x:k&&s,y:D&&u}).call(nt=>nt.selectAll().data(n).enter().append("g").attr("transform",et=>`translate(${Math.round(N(et))},${Math.round(G(et))})`).call(zn,this).call(et=>et.append("path").attr("filter",S)).call(et=>et.append("text").each(function(P){const rt=xt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const $=F.call(a,P,n,O,e,r);if(typeof $=="string")for(const I of a.splitLines($))B(rt,{value:a.clipLine(I)});else{const I=new Set;for(const H of $){const{label:U=""}=H;U&&I.has(U)||(I.add(U),B(rt,H))}}})));function B(nt,{label:et,value:P,color:rt,opacity:$}){et??="",P??="";const I=rt!=null||$!=null;let H,U=y*100;const[lt]=Ee(et,U,V,A);if(lt>=0)et=et.slice(0,lt).trimEnd()+be,H=P.trim(),P="";else{(et||!P&&!I)&&(P=" "+P);const[ft]=Ee(P,U-V(et),V,A);ft>=0&&(H=P.trim(),P=P.slice(0,ft).trimEnd()+be)}const j=nt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");et&&j.append("tspan").attr("font-weight","bold").text(et),P&&j.append(()=>f.createTextNode(P)),I&&j.append("tspan").text(" ■").attr("fill",rt).attr("fill-opacity",$).style("user-select","none"),H&&j.append("title").text(H)}function J(){const{width:nt,height:et}=i.facet??i;W.selectChildren().each(function(P){let{x:rt,width:$,height:I}=this.getBBox();$=Math.round($),I=Math.round(I);let H=d;if(H===void 0){const j=N(P)+R,ft=G(P)+q,gt=j+$+m+b*2<nt,Lt=j-$-m-b*2>0,ce=ft+I+m+b*2<et,Re=ft-I-m-b*2>0;H=gt&&Lt?ce&&Re?a.preferredAnchor:Re?"bottom":"top":ce&&Re?gt?"left":"right":(gt||Lt)&&(ce||Re)?`${Re?"bottom":"top"}-${gt?"left":"right"}`:a.preferredAnchor}const U=this.firstChild,lt=this.lastChild;if(U.setAttribute("d",N2(H,m,b,$,I)),rt)for(const j of lt.childNodes)j.setAttribute("x",-rt);lt.setAttribute("y",`${+E2(H,lt.childNodes.length,g).toFixed(6)}em`),lt.setAttribute("transform",`translate(${L2(H,m,b,$,I)})`)}),W.attr("visibility",null)}return n.length&&(W.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(J):typeof requestAnimationFrame<"u"&&requestAnimationFrame(J)),W.node()}}function A2(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=ro(n,e)),new k2(t,{...r,x:n,y:e})}function E2(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function L2(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function N2(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function Dl(t,n){const e={};let r=this.format;r=Ul(r,t,"x"),r=Ul(r,t,"y"),this.format=r;for(const i in r){const o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")e[i]=!0;else{const a=rl(t,i);a&&(e[i]=a)}}for(const i in t){if(i in e||i in r||U2.has(i)||(i==="x"||i==="y")&&t.geometry)continue;const o=rl(t,i);if(o){if(o.scale==null&&o.defaultScale==="color")continue;e[i]=o}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const o=this.format[i];if(typeof o=="string"){const a=e[i]?.value??n[i]?.domain()??[];this.format[i]=(fn(a)?vr:Li)(o)}else if(o===void 0||o===!0){const a=n[i];this.format[i]=a?.bandwidth?Ws(a,a.domain()):Ae}}return e}function Ul(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([s])=>s===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function O2(t,n,{title:e}){return this.format.title(e.value[t],t)}function*P2(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:Di(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:Al(r,e,"x"),value:kl(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:Al(r,e,"y"),value:kl(this.format.y2,e.y1,a,t)};else{const s=a.value[t],u=a.scale;if(!On(s)&&u==null)continue;yield{label:Di(r,e,o),value:this.format[o](s,t),color:u==="color"?i[o][t]:null,opacity:u==="opacity"?i[o][t]:null}}}}function kl(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function Al(t,n,e){const r=Di(t,n,`${e}1`,e),i=Di(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function Di(t,n,e,r=e){const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function Ze(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:s}=t,u=Os(t.className),c=t.marks===void 0?[]:Ll(t.marks);c.push(...W2(c));const l=z2(n,t),h=new Map;for(const A of c){const O=Nl(A,l,t);O&&h.set(A,O)}const f=new Map;l&&He(f,[l],t),He(f,h,t);const d=Ll(H2(c,f,t));for(const A of d){const O=Nl(A,l,t);O&&h.set(A,O)}c.unshift(...d);let p=Tb(f,t);if(p!==void 0){const A=l?Yo(p,l):void 0;for(const F of c){if(F.facet===null||F.facet==="super")continue;const W=h.get(F);W!==void 0&&(W.facetsIndex=F.fx!=null||F.fy!=null?Yo(p,W):A)}const O=new Set;for(const{facetsIndex:F}of h.values())F?.forEach((W,B)=>{W?.length>0&&O.add(B)});p.forEach(0<O.size&&O.size<p.length?(F,W)=>F.empty=!O.has(W):F=>F.empty=!1);for(const F of c)if(F.facet==="exclude"){const W=h.get(F);W!==void 0&&(W.facetsIndex=Ub(W.facetsIndex))}}for(const A of pt.keys())Na(t[A])&&A!=="fx"&&A!=="fy"&&f.set(A,[]);const g=new Map;for(const A of c){if(g.has(A))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:O,channels:F}=h.get(A)??{},{data:W,facets:B,channels:J}=A.initialize(O,F,t);Hs(J,t),g.set(A,{data:W,facets:B,channels:J})}const y=Ba(He(f,g,t),t),b=yw(y,c,t);mb(y,b);const m=fl(y),{fx:S,fy:_}=m,x=S||_?bd(y,b):b,w=S||_?K2(m,b):b,v=Ls(t),T=v.document,C=Mc("svg").call(T.documentElement);let k=C;v.ownerSVGElement=C,v.className=u,v.projection=Rb(t,x),v.path=function(){return es(this.projection??Yb(m))},v.filterFacets=(A,O)=>Yo(p,{channels:O,groups:Es(A,O)}),v.getMarkState=A=>{const O=g.get(A),F=h.get(A);return{...O,channels:{...O.channels,...F?.channels}}},v.dispatchValue=A=>{k.value!==A&&(k.value=A,k.dispatchEvent(new v.document.defaultView.Event("input",{bubbles:!0})))};const D=new Set;for(const[A,O]of g)if(A.initializer!=null){const F=A.facet==="super"?w:x,W=A.initializer(O.data,O.facets,O.channels,m,F,v);if(W.data!==void 0&&(O.data=W.data),W.facets!==void 0&&(O.facets=W.facets),W.channels!==void 0){const{fx:B,fy:J,...nt}=W.channels;B2(nt),Object.assign(O.channels,nt);for(const et of Object.values(nt)){const{scale:P}=et;P!=null&&!l_(pt.get(P))&&(vp(et,t),D.add(P))}(B!=null||J!=null)&&h.set(A,!0)}}if(D.size){const A=new Map;He(A,g,t,B=>D.has(B)),He(f,g,t,B=>D.has(B));const O=Q2(Ba(A,t),y),{scales:F,...W}=fl(O);Object.assign(y,O),Object.assign(m,W),Object.assign(m.scales,F)}let R,q;p!==void 0&&(R={x:S?.domain(),y:_?.domain()},p=Cb(p,R),q=Db(S,_,b));for(const[A,O]of g)O.values=A.scale(O.channels,m,v);const{width:E,height:M}=b;xt(C).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",E).attr("height",M).attr("viewBox",`0 0 ${E} ${M}`).attr("aria-label",a).attr("aria-description",s).call(A=>A.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Ps,e);for(const A of c){const{channels:O,values:F,facets:W}=g.get(A);if(p===void 0||A.facet==="super"){let B=null;if(W&&(B=W[0],B=A.filter(B,O,F),B.length===0))continue;const J=A.render(B,m,F,w,v);if(J==null)continue;C.appendChild(J)}else{let B;for(const J of p){if(!(A.facetAnchor?.(p,R,J)??!J.empty))continue;let nt=null;if(W){const P=h.has(A);if(nt=W[P?J.i:0],nt=A.filter(nt,O,F),nt.length===0)continue;!P&&nt===W[0]&&(nt=j1(nt)),nt.fx=J.x,nt.fy=J.y,nt.fi=J.i}const et=A.render(nt,m,F,x,v);if(et!=null){(B??=xt(C).append("g")).append(()=>et).datum(J);for(const P of["aria-label","aria-description","aria-hidden","transform"])et.hasAttribute(P)&&(B.attr(P,et.getAttribute(P)),et.removeAttribute(P))}}B?.selectChildren().each(q)}}const N=v2(y,v,t),{figure:G=r!=null||i!=null||o!=null||N.length>0}=t;G&&(k=T.createElement("figure"),k.className=`${u}-figure`,k.style.maxWidth="initial",r!=null&&k.append(El(T,r,"h2")),i!=null&&k.append(El(T,i,"h3")),k.append(...N,C),o!=null&&k.append(I2(T,o)),"value"in C&&(k.value=C.value,delete C.value)),k.scale=$b(m.scales),k.legend=_2(y,v,t);const V=J_();return V>0&&xt(C).append("text").attr("x",E).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${V.toLocaleString("en-US")} warning${V===1?"":"s"}. Please check the console.`),k}function El(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function I2(t,n){const e=t.createElement("figcaption");return e.append(n),e}function Ll(t){return t.flat(1/0).filter(n=>n!=null).map(R2)}function R2(t){return typeof t.render=="function"?t:new F2(t)}class F2 extends Jt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Hs(t,n){for(const e in t)vp(t[e],n);return t}function vp(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:s=o?u=>u==null?NaN:u*100:X1(a,i)}=n[e]??{};s!=null&&(t.value=Tt(t.value,s),t.transform=!1)}function B2(t){for(const n in t)od(n,t[n])}function He(t,n,e,r=W1){for(const{channels:i}of n.values())for(const o in i){const a=i[o],{scale:s}=a;if(s!=null&&r(s))if(s==="projection"){if(!qb(e)){const u=e.x?.domain===void 0,c=e.y?.domain===void 0;if(u||c){const[l,h]=Hb(a);u&&Ko(t,"x",l),c&&Ko(t,"y",h)}}}else Ko(t,s,a)}return t}function Ko(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function z2(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=De(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=fr(i,{value:e,scale:"fx"})),r!=null&&(o.fy=fr(i,{value:r,scale:"fy"})),Hs(o,n);const a=Es(i,o);return{channels:o,groups:a,data:t.data}}function Nl(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=De(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=fr(u,{value:r,scale:"fx"})),i!=null&&(c.fy=fr(u,{value:i,scale:"fy"})),Hs(c,e),{channels:c,groups:Es(u,c)}}if(n===void 0)return;const{channels:o,groups:a,data:s}=n;if(t.facet!=="auto"||t.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Oa(De(t.data))===Oa(s)&&Ln(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function q2(t,n={}){return ke({...n,x:null,y:null},(e,r,i,o,a,s)=>s.getMarkState(t))}function W2(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?ww:/^y$/i.test(i)?wl:bw,r=i(q2(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===wl?"left":"bottom");const a=A2(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function H2(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:u,grid:c,facet:l={},facet:{axis:h=u,grid:f}=l,x:{axis:d=u,grid:p=d===null?null:c}=i,y:{axis:g=u,grid:y=g===null?null:c}=o,fx:{axis:b=h,grid:m=b===null?null:f}=a,fy:{axis:S=h,grid:_=S===null?null:f}=s}=e;(r||!Na(i)&&!Ol("x",t))&&(d=p=null),(r||!Na(o)&&!Ol("y",t))&&(g=y=null),n.has("fx")||(b=m=null),n.has("fy")||(S=_=null),d===void 0&&(d=!Hr(t,"x")),g===void 0&&(g=!Hr(t,"y")),b===void 0&&(b=!Hr(t,"fx")),S===void 0&&(S=!Hr(t,"fy")),d===!0&&(d="bottom"),g===!0&&(g="left"),b===!0&&(b=d==="top"||d===null?"bottom":"top"),S===!0&&(S=g==="right"||g===null?"left":"right");const x=[];return Wr(x,_,u2,s),qr(x,S,n2,"right","left",l,s),Wr(x,m,c2,a),qr(x,b,e2,"top","bottom",l,a),Wr(x,y,s2,o),qr(x,g,op,"left","right",e,o),Wr(x,p,l2,i),qr(x,d,ap,"bottom","top",e,i),x}function qr(t,n,e,r,i,o,a){if(!n)return;const s=Y2(n);a=V2(s?r:n,o,a);const{line:u}=a;(e===op||e===ap)&&u&&!cr(u)&&t.push(D2(G2(a))),t.push(e(a)),s&&t.push(e({...a,anchor:i,label:null}))}function Wr(t,n,e,r){!n||cr(n)||t.push(e(j2(n,r)))}function Y2(t){return/^\s*both\s*$/i.test(t)}function V2(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:h,label:f=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:h,label:f,labelAnchor:d,labelArrow:p,labelOffset:g}}function G2(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function j2(t,{stroke:n=ao(t)?t:void 0,ticks:e=X2(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function X2(t){switch(typeof t){case"number":return!0;case"string":return!ao(t)}return ue(t)||typeof t?.range=="function"}function Hr(t,n){const e=`${n}-axis `;return t.some(r=>r.ariaLabel?.startsWith(e))}function Ol(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function Q2(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function K2({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:u}=As(e),c=t&&Pl(t),l=n&&Pl(n);return{marginTop:n?l[0]:r,marginRight:t?s-c[1]:i,marginBottom:n?u-l[1]:o,marginLeft:t?c[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:s,height:u}}function Pl(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const Z2=new Map([["basis",Jy],["basis-closed",t1],["basis-open",n1],["bundle",e1],["bump-x",qy],["bump-y",Wy],["cardinal",r1],["cardinal-closed",i1],["cardinal-open",o1],["catmull-rom",a1],["catmull-rom-closed",s1],["catmull-rom-open",u1],["linear",Ki],["linear-closed",l1],["monotone-x",c1],["monotone-y",f1],["natural",h1],["step",d1],["step-after",g1],["step-before",p1]]);function J2(t=Ki,n){if(typeof t=="function")return t;const e=Z2.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function tv(t=Ui,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Ui:J2(t,n)}function Ui(t){return Ki(t)}const nv={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function ev(t){return t.sort===void 0&&t.reverse===void 0?y_({channel:"-r"},t):t}class rv extends Jt{constructor(n,e={}){const{x:r,y:i,r:o,rotate:a,symbol:s=$e,frameAnchor:u}=e,[c,l]=Ut(a,0),[h,f]=g_(s),[d,p]=Ut(o,h==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:d,scale:"r",filter:to,optional:!0},rotate:{value:c,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},ev(e),nv),this.r=p,this.rotate=l,this.symbol=f,this.frameAnchor=so(u);const{channels:g}=this,{symbol:y}=g;if(y){const{fill:b,stroke:m}=g;y.hint={fill:b?b.value===y.value?"color":"currentColor":this.fill??"currentColor",stroke:m?m.value===y.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,o){const{x:a,y:s}=e,{x:u,y:c,r:l,rotate:h,symbol:f}=r,{r:d,rotate:p,symbol:g}=this,[y,b]=Ar(this,i),m=g===$e,S=l?void 0:d*d*Math.PI;return ms(d)&&(n=[]),Ct("svg:g",o).call(Bn,this,i,o).call(qn,this,{x:u&&a,y:c&&s}).call(_=>_.selectAll().data(n).enter().append(m?"circle":"path").call(zn,this).call(m?x=>{x.attr("cx",u?w=>u[w]:y).attr("cy",c?w=>c[w]:b).attr("r",l?w=>l[w]:d)}:x=>{x.attr("transform",Fs`translate(${u?w=>u[w]:y},${c?w=>c[w]:b})${h?w=>` rotate(${h[w]})`:p?` rotate(${p})`:""}`).attr("d",l&&f?w=>{const v=jn();return f[w].draw(v,l[w]*l[w]*Math.PI),v}:l?w=>{const v=jn();return g.draw(v,l[w]*l[w]*Math.PI),v}:f?w=>{const v=jn();return f[w].draw(v,S),v}:(()=>{const w=jn();return g.draw(w,S),w})())}).call(Oe,this,r)).node()}}function iv(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=ro(n,e)),new rv(t,{...r,x:n,y:e})}const ov={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class av extends Jt{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:s}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:G1(e),optional:!0}},e,ov),this.z=o,this.curve=tv(a,s),Rs(this,e)}filter(n){return n}project(n,e,r){this.curve!==Ui&&super.project(n,e,r)}render(n,e,r,i,o){const{x:a,y:s}=r,{curve:u}=this;return Ct("svg:g",o).call(Bn,this,i,o).call(qn,this,e).call(c=>c.selectAll().data(sw(n,[a,s],this,r)).enter().append("path").call(zn,this).call(iw,this,r).call(Mw,this,r,o).attr("d",u===Ui&&o.projection?sv(o.path(),a,s):zy().curve(u).defined(l=>l>=0).x(l=>a[l]).y(l=>s[l]))).node()}}function sv(t,n,e){return n=Mi(n),e=Mi(e),r=>{let i=[];const o=[i];for(const a of r)a===-1?(i=[],o.push(i)):i.push([n[a],e[a]]);return t({type:"MultiLineString",coordinates:o})}}function Il(t,{x:n,y:e,...r}={}){return[n,e]=ro(n,e),new av(t,{...r,x:n,y:e})}Jt.prototype.plot=function({marks:t=[],...n}={}){return Ze({...n,marks:[...t,this]})};const uv="https://api.exchange.coinbase.com/currencies",lv=Cg("cbxStore",{state:()=>({channels:st({}),currencies:st({}),msgTypes:st({}),connStatus:st("CBX Connect"),connected:st(!1),ws:st(null),t0:st(null),show:st(!0),msgCount:st(0),connTime:st(0),display_minutes:st(30),buffer_minutes:st(30),d0Idx:st(30)}),getters:{nchan(t){return Object.keys(t.channels).length}},actions:{zeroCB(){Object.keys(this.channels).forEach((t,n)=>{console.log(t),this.channels[t].d0={Date:this.channels[t].rawData[0].Date,price:this.channels[t].rawData[0].price}})},processTickerMsg(t){try{this.msgTypes[t.product_id]+=1}catch{this.msgTypes[t.product_id]=1}if(!("product_id"in t))return;const n=t.product_id;if(n in this.channels){this.channels[n].msgCount+=1;const r={Date:new Date(Date.now()),price:parseFloat(t.price)};this.channels[n].rawData.push(r)}else{const r={Date:new Date(Date.now()),price:parseFloat(t.price)};this.channels[n]={msgCount:0,rawData:[r],d0:r}}let e=new Date(Date.now()-this.cutoff_minutes*6e4);for(;this.channels[n].rawData[0].Date<e;)this.channels[n].rawData.shift()},connect(){if(this.ws)this.connStatus="CBX Closing ...",this.ws.close(),this.ws=null,this.connected=!1,this.connStatus="CBX Connect";else{this.connStatus="CBX Connecting ...";const t="wss://ws-feed.exchange.coinbase.com";this.ws=new WebSocket(t),this.connected=!0,this.t0=parseInt(new Date().getTime()),this.connStatus="CBX Connected",this.ws.onopen=n=>{var r=JSON.stringify({type:"subscribe",product_ids:["QNT-USD","UPI-USD","T-USD","EUROC-USD","FARM-USD","UST-USD","HIGH-USD","MIR-USD","SOL-USD","PNG-USD","CRPT-USD","FX-USD","APE-USD","XLM-USD","AUDIO-USD","GALA-USD","SKL-USD","VGX-USD","WCFG-USD","LOKA-USD","KRL-USD","RLC-USD","SUKU-USD","ROSE-USD","YFI-USD","DIA-USD","QUICK-USD","VOXEL-USD","ELA-USD","STG-USD","CTX-USD","ZRX-USD","POND-USD","AURORA-USD","ZEN-USD","FOX-USD","RGT-USD","SHPING-USD","ETC-USD","BTC-USD","DESO-USD","INDEX-USD","BIT-USD","SPELL-USD","SNT-USD","USDC-USD","HBAR-USD","HFT-USD","BAND-USD","QSP-USD","PRO-USD","CELR-USD","AUCTION-USD","NKN-USD","RBN-USD","CBETH-USD","FIDA-USD","POWR-USD","TRU-USD","WBTC-USD","RPL-USD","FORTH-USD","GYEN-USD","MLN-USD","AXS-USD","IMX-USD","JASMY-USD","LTC-USD","FORT-USD","NEAR-USD","ALICE-USD","AMP-USD","REQ-USD","IDEX-USD","AIOZ-USD","ASM-USD","EOS-USD","FET-USD","ADA-USD","ICP-USD","OXT-USD","STORJ-USD","WAXL-USD","MSOL-USD","KAVA-USD","ATA-USD","LQTY-USD","SYN-USD","BLUR-USD","GAL-USD","MUSD-USD","BICO-USD","COMP-USD","GFI-USD","GNO-USD","00-USD","LDO-USD","ATOM-USD","PLA-USD","MASK-USD","CRV-USD","NEST-USD","OCEAN-USD","ILV-USD","AXL-USD","ANKR-USD","MXC-USD","TBTC-USD","TRIBE-USD","CVC-USD","GNT-USD","GRT-USD","ORN-USD","ANT-USD","SNX-USD","DNT-USD","POLS-USD","DASH-USD","ALGO-USD","XTZ-USD","NMR-USD","YFII-USD","STX-USD","BAT-USD","BNT-USD","EGLD-USD","AGLD-USD","MDT-USD","LIT-USD","MPL-USD","SUPER-USD","SWFTC-USD","RNDR-USD","GHST-USD","DAR-USD","APT-USD","ORCA-USD","NU-USD","DOGE-USD","MINA-USD","RAI-USD","RARI-USD","MNDE-USD","CHZ-USD","LINK-USD","PRIME-USD","MTL-USD","KEEP-USD","BTRST-USD","ENS-USD","MKR-USD","FIS-USD","ALEPH-USD","OOKI-USD","MAGIC-USD","REP-USD","TRAC-USD","BUSD-USD","ENJ-USD","SUSHI-USD","USDT-USD","AVAX-USD","LPT-USD","UNI-USD","BOND-USD","IOTX-USD","XYO-USD","RARE-USD","AVT-USD","INV-USD","NCT-USD","QI-USD","MCO2-USD","XRP-USD","OMG-USD","MATH-USD","SYLO-USD","ALCX-USD","BLZ-USD","GMT-USD","OP-USD","LSETH-USD","COVAL-USD","DOT-USD","ZEC-USD","XMON-USD","ERN-USD","FIL-USD","REN-USD","LRC-USD","UNFI-USD","LCX-USD","MATIC-USD","RAD-USD","WLUNA-USD","BAL-USD","CGLD-USD","COTI-USD","TONE-USD","CTSI-USD","PERP-USD","POLY-USD","ARPA-USD","ABT-USD","KSM-USD","PRQ-USD","ACS-USD","API3-USD","HOPR-USD","KNC-USD","SAND-USD","GLM-USD","GST-USD","GTC-USD","INJ-USD","DDX-USD","ETH-USD","GODS-USD","RLY-USD","FLOW-USD","CRO-USD","OGN-USD","SHIB-USD","DYP-USD","PYR-USD","AERGO-USD","ACH-USD","BCH-USD","PLU-USD","UMA-USD","MANA-USD","TRB-USD","BADGER-USD","LOOM-USD","WAMPL-USD","C98-USD","CVX-USD","PUNDIX-USD","AAVE-USD"],channels:["ticker"]});this.ws.send(r)},this.ws.onmessage=n=>{this.msgCount+=1,this.connTime=parseInt((parseInt(new Date().getTime())-this.t0)/1e3);const e=JSON.parse(n.data);if(this.processTickerMsg(e),!this.show)return;let r='<center><table width="100%">';r+="<tr><td>ChanCount</td><td>"+Object.keys(this.channels).length+"</td></tr>",r+="<tr><td>MsgCount</td><td>"+this.msgCount+"</td></tr>",r+="<tr><td>ConnTime</td><td>"+this.connTime+"</td></tr>";for(const[i,o]of Object.entries(e))i.indexOf("volume")>-1?r+='<tr class="text-uppercase"><td>'+i+"</td><td> "+parseInt(o)+"</td></tr>":i.indexOf("time")>-1?r+='<tr class="text-uppercase"><td>'+i+"</td><td> "+o.split(":")[0]+"</td></tr>":r+='<tr class="text-uppercase"><td>'+i+"</td><td> "+o+"</td></tr>";r+="</table></center>",xt("#cbx_debug").html(r)}}},getCurrencies(){Og(uv).then(t=>{t.data.forEach(n=>{this.currencies[n.id]=n})})}}}),cv=Fi({name:"TypeA",setup(){return{lrSwitch:st(!1),z25Store:Ri(),cbxstore:lv(),interval:st(null),running:st(!1),d0:st(null),loglin:st(!0),mode:st(1)}},mounted(){console.log("mounted")},methods:{toggleAll(){this.z25Store.plotAllChannelsOverride===!0?this.z25Store.plotAllChannelsOverride=!1:this.z25Store.plotAllChannelsOverride=!0},toggleOrders(){xt("#ordersPanel").classed("hidden")==!0?xt("#ordersPanel").classed("hidden",!1):xt("#ordersPanel").classed("hidden",!0)},toggleLRSwitch(){this.lrSwitch?this.lrSwitch=!1:this.lrSwitch=!0},toggleLogLin(){this.loglin?this.loglin=!1:this.loglin=!0},cycleMode(){this.mode==1?this.mode=0:this.mode=1},multiLayerX(t,n,...e){const i=Ze({...t,marks:n}).scale("x");let o="linear";return this.loglin&&(o="symlog"),Ze({...t,marks:[n,...e.map(a=>()=>Ze({...t,marks:[a(i)],x:{...i,axis:null},y:{axis:"right",line:!1,grid:!0,nice:!0,type:o},style:{background:"0000",color:"white",fontSize:"15"}}))]})},plotCB(){xt("#plotDIV1").select("svg").remove();let t;this.lrSwitch?t=this.cbxstore:t=this.z25Store;let n=new Date(Date.now()-t.display_minutes*6e4);const e=[],r=[];let i=t.channels["BTC-USD"].rawData.filter(c=>Date.parse(c.tlast)>n),o=2,a=t.channels["BTC-USD"].d0;r.push(Il(i,{x:c=>Date.parse(c.tlast),y:c=>(c.Close-a.Close)/a.Close*100,curve:"catmull-rom",stroke:"red",strokeWidth:o})),Object.keys(t.channels).forEach((c,l)=>{if(!t.plotAllChannelsOverride){if(t.channels[c].hidden)return}let h=t.channels[c].d0,f=t.channels[c].rawData.filter(p=>Date.parse(p.tlast)>n),d=t.channels[c].fatLine?3:2;e.push(Il(f,{x:p=>Date.parse(p.tlast),y:p=>(p.Close-h.Close)/h.Close*100,curve:"catmull-rom",stroke:t.getChannelColor(c),strokeWidth:d})),t.channels[c].candlesticks&&(e.push(Xr(f,{x:p=>Date.parse(p.tlast),y1:p=>(p.Open-h.Close)/h.Close*100,y2:p=>(p.Close-h.Close)/h.Close*100,stroke:p=>p.Close>p.Open?"#5F5":"#F55",strokeWidth:10,strokeLinecap:"square"})),e.push(Xr(f,{x:p=>Date.parse(p.tlast),y1:p=>(p.Low-h.Close)/h.Close*100,y2:p=>(p.High-h.Close)/h.Close*100,stroke:p=>p.Close>p.Open?"#5F5":"#F55"}))),t.channels[c].bars&&(e.push(Xr(f,{x:p=>Date.parse(p.tlast),y:p=>(p.BuyUSD-p.SellUSD)/t.barsNormalization,stroke:p=>t.getChannelColor(c),strokeWidth:10,strokeOpacity:.5})),e.push(Ci(f,{x:p=>Date.parse(p.tlast),y:p=>(p.BuyUSD-p.SellUSD)/t.barsNormalization,fill:p=>t.getChannelColor(c),text:[c.split("-")[0]],fontSize:10}))),t.channels[c].dots&&e.push(iv(f,{x:p=>Date.parse(p.tlast),y:p=>(p.Close-h.Close)/h.Close*100,stroke:"#FF0"})),e.push(Ci(f,{x:p=>Date.parse(p.tlast),y:p=>(p.Close-h.Close)/h.Close*100,dy:0,dx:25,text:[c.split("-")[0]],fill:t.getChannelColor(c),strokeWidth:0,fontSize:t.channels[c].fatLine?30:15}))});let s=document.getElementById("plotDIV1").getBoundingClientRect(),u="linear";this.loglin&&(u="symlog"),this.mode==0?xt("#plotDIV1").node().append(Ze({y:{grid:!0,type:u,axis:"right",line:!1},style:{background:t.background,color:"cyan"},insetRight:0,insetLeft:20,insetTop:20,insetBottom:20,marginRight:30,marginTop:0,width:s.width,height:s.height,marks:e})):this.mode==1&&xt("#plotDIV1").node().append(this.multiLayerX({y:{axis:"left",grid:!1,line:!1,type:u},x:{axis:"top",tickFormat:ji("%I:%M"),domain:[n,new Date(Date.now())],tickRotate:35},style:{background:"0000",color:"steelblue",fontSize:"15"},width:s.width,height:s.height,marginBottom:20,marginTop:40,insetTop:0,insetBottom:0,insetLeft:20,insetRight:50},r,c=>e)),this.running==!0&&(cancelAnimationFrame(this.interval),this.interval=requestAnimationFrame(()=>{this.plotCB()}))},clearPlotCB(){xt("#plotDIV1").select("svg").remove()},runCB(){console.log("runCB"),this.running==!0?(this.running=!1,cancelAnimationFrame(this.interval),this.interval=null):(this.running=!0,this.interval=requestAnimationFrame(()=>{this.plotCB()}))}}}),fv={class:"full-width"};function hv(t,n,e,r,i,o){return mt(),_n(ti,{dense:"",flat:"",style:{backgroundColor:"grey"},class:"q-ma-xs ptr q-pa-xs"},{default:Y(()=>[z("div",fv,[L($i,{style:{backgroundColor:"#333"}},{default:Y(()=>[L(ct,{"no-caps":"",flat:"",label:"Plot Controls"},{default:Y(()=>[L(D1,{style:{width:"350px"},bordered:"",dense:"",class:"rounded-borders text-center q-py-md q-ma-md z-top",label:"Plot Controls"},{default:Y(()=>[L(v1,null,{default:Y(()=>[L(po,null,{default:Y(()=>[L(Hn,null,{default:Y(()=>[z("table",null,[z("tr",null,[z("td",null,[L(Vu,{"show-value":"",min:0,max:this.z25Store.buffer_minutes,size:"100px",thickness:.5,style:{height:"100px"},color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.z25Store.display_minutes,"onUpdate:modelValue":n[0]||(n[0]=a=>this.z25Store.display_minutes=a)},null,8,["max","modelValue"])]),z("td",null,[L(Vu,{"show-value":"",size:"100px",stacked:"",thickness:.5,style:{height:"100px"},color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.z25Store.d0Idx,"onUpdate:modelValue":[n[1]||(n[1]=a=>this.z25Store.d0Idx=a),n[2]||(n[2]=a=>this.z25Store.zeroCB())]},null,8,["modelValue"])])]),n[16]||(n[16]=z("tr",null,[z("td",null,[z("div",{class:"text-weight-bold"},"Display Minutes")]),z("td",null,[z("div",{class:"text-weight-bold"},"Pinch Minutes")])],-1))])]),_:1})]),_:1}),L(po,null,{default:Y(()=>[L(Hn),L(Hn,null,{default:Y(()=>[L(ct,{class:"bg-positive"},{default:Y(()=>[L(Yn,{name:this.candlesticks?"candlestick_chart":"insights",onClick:n[3]||(n[3]=a=>this.toggleCandlesticks())},null,8,["name"])]),_:1})]),_:1}),L(Hn,null,{default:Y(()=>[L(ct,{class:"bg-positive"},{default:Y(()=>[L(Yn,{name:this.mode==0?"timeline":"show_chart",onClick:n[4]||(n[4]=a=>this.cycleMode())},null,8,["name"])]),_:1})]),_:1})]),_:1}),L(po,null,{default:Y(()=>[L(Hn),L(Hn,null,{default:Y(()=>[L(ct,{class:"bg-positive"},{default:Y(()=>[L(Yn,{name:"sync_alt",onClick:n[5]||(n[5]=a=>this.z25Store.sendSettings())})]),_:1})]),_:1}),L(Hn,null,{default:Y(()=>[L(ct,{class:"bg-positive"},{default:Y(()=>[L(Yn,{name:"clear",onClick:n[6]||(n[6]=a=>this.z25Store.clearLookAtMe())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),L(ka),L(ct,{flat:"","no-caps":""},{default:Y(()=>[vt("$"+Nt(this.z25Store.portfolioBalance)+" ",1),L(Rt,null,{default:Y(()=>[...n[17]||(n[17]=[vt("Portfolio Balance",-1)])]),_:1})]),_:1}),L(ct,{flat:"","no-caps":""},{default:Y(()=>[vt("$"+Nt(this.z25Store.usdAvailable)+" ",1),L(Rt,null,{default:Y(()=>[vt("USD Available = "+Nt(this.z25Store.usdAvailable)+" USD Holds = "+Nt(this.z25Store.usdBalance-this.z25Store.usdAvailable),1)]),_:1})]),_:1}),L(ct,{flat:"","no-caps":""},{default:Y(()=>[vt("$"+Nt(this.z25Store.usdBalance)+" ",1),L(Rt,null,{default:Y(()=>[...n[18]||(n[18]=[vt("USD Balance",-1)])]),_:1})]),_:1})]),_:1}),n[28]||(n[28]=z("div",{id:"plotDIV1",style:{height:"50vh",backgroundColor:"#222"},class:"full-width"},null,-1)),L($i,{style:{backgroundColor:"#333"}},{default:Y(()=>[L(ct,{dense:"",onClick:n[7]||(n[7]=a=>this.clearPlotCB()),color:"positive"},{default:Y(()=>[L(Yn,{name:"cancel"}),L(Rt,null,{default:Y(()=>[...n[19]||(n[19]=[vt("Clear the Plot area",-1)])]),_:1})]),_:1}),L(ct,{dense:"",onClick:n[8]||(n[8]=a=>this.runCB()),color:"positive"},{default:Y(()=>[L(Yn,{name:this.running?"pause":"play_arrow"},null,8,["name"]),L(Rt,null,{default:Y(()=>[...n[20]||(n[20]=[vt("Run Plot w/continuous updates",-1)])]),_:1})]),_:1}),L(ct,{dense:"",class:"bg-positive on-right"},{default:Y(()=>[L(Yn,{name:this.loglin?"stacked_bar_chart":"bar_chart",onClick:n[9]||(n[9]=a=>this.toggleLogLin())},null,8,["name"]),L(Rt,null,{default:Y(()=>[...n[21]||(n[21]=[vt("Toggle Log/Lin",-1)])]),_:1})]),_:1}),L(ct,{"no-caps":"",flat:"",label:"Orders",onClick:n[10]||(n[10]=a=>this.toggleOrders())},{default:Y(()=>[L(Rt,null,{default:Y(()=>[...n[22]||(n[22]=[vt("Show/hide Orders table",-1)])]),_:1})]),_:1}),L(ct,{dense:"",onClick:n[11]||(n[11]=a=>this.z25Store.getOrders()),icon:"replay"},{default:Y(()=>[L(Rt,null,{default:Y(()=>[...n[23]||(n[23]=[vt("Update Orders info",-1)])]),_:1})]),_:1}),L(ct,{dense:"",onClick:n[12]||(n[12]=a=>this.z25Store.getCBX()),icon:"replay"},{default:Y(()=>[L(Rt,null,{default:Y(()=>[...n[24]||(n[24]=[vt("Update Account Balances",-1)])]),_:1})]),_:1}),L(ct,{dense:"",onClick:n[13]||(n[13]=a=>this.z25Store.setAllHidden()),icon:"visibility_off"},{default:Y(()=>[L(Rt,null,{default:Y(()=>[...n[25]||(n[25]=[vt("This will set every channel hidden only, not a toggle.",-1)])]),_:1})]),_:1}),L(ct,{dense:"",onClick:n[14]||(n[14]=a=>this.toggleAll()),icon:"cancel"},{default:Y(()=>[L(Rt,null,{default:Y(()=>[...n[26]||(n[26]=[vt("TypeA plot will bypass checks and plot all channels, and NOT change any settings",-1)])]),_:1})]),_:1}),L(ka),L(ct,{dense:"",onClick:n[15]||(n[15]=a=>this.z25Store.cancelAll()),icon:"cancel"},{default:Y(()=>[L(Rt,null,{default:Y(()=>[...n[27]||(n[27]=[vt("Cancel all orders",-1)])]),_:1})]),_:1})]),_:1})])]),_:1})}const dv=Ii(cv,[["render",hv]]),pv=["top","middle","bottom"],ki=In({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:t=>pv.includes(t)}},setup(t,{slots:n}){const e=ot(()=>t.align!==void 0?{verticalAlign:t.align}:null),r=ot(()=>{const i=t.outline===!0&&t.color||t.textColor;return`q-badge flex inline items-center no-wrap q-badge--${t.multiLine===!0?"multi":"single"}-line`+(t.outline===!0?" q-badge--outline":t.color!==void 0?` bg-${t.color}`:"")+(i!==void 0?` text-${i}`:"")+(t.floating===!0?" q-badge--floating":"")+(t.rounded===!0?" q-badge--rounded":"")+(t.transparent===!0?" q-badge--transparent":"")});return()=>kt("div",{class:r.value,style:e.value,role:"status","aria-label":t.label},Ng(n.default,t.label!==void 0?[t.label]:[]))}}),gv=Fi({name:"Component",props:["o"],setup(t){return{z25Store:Ri(),title:st("Title"),props:st(t),running:st(!0),interval:st(null),half_domain:st(5)}},mounted(){console.log("mounted"),this.render()},computed:{channelColor(){return wg().domain([0,Object.keys(this.z25Store.currencies).length]).interpolator(Qa),this.z25Store.colorThemes[this.z25Store.colorTheme](parseFloat(Object.keys(this.z25Store.currencies).indexOf(this.props.o.product_id.split("-")[0])/260))}},methods:{incHalfDomain(){this.half_domain+=1},decHalfDomain(){this.half_domain-1>0&&(this.half_domain-=1)},runCB(){console.log("runCB");const t=`https://www.coinbase.com/advanced-trade/spot/${this.props.o.product_id}`;window.open(t,"_blank")},render(){if(this.props.o.status=="FILLED")return;const t=`${this.props.o.product_id}-${this.props.o.id}`;xt("#"+t).selectAll("svg").remove();const n=document.getElementById(t).getBoundingClientRect(),e=xt("#"+t).append("svg").style("height","225px").style("width","100px").attr("id","plot_svg"),r=Ka().domain([-1*this.half_domain,this.half_domain]).range([100,-100]),i=s0(r);e.append("g").attr("transform","translate("+n.width/3+","+(n.height/2+5)+")").call(i);let o="----";try{if(o=((this.props.o.order_configuration.limit_limit_gtc.limit_price-this.z25Store.channels[this.props.o.product_id].rawData[0].Close)/this.props.o.order_configuration.limit_limit_gtc.limit_price*100).toFixed(2),e.append("text").attr("transform","translate("+n.width*.55+",35)").attr("fill","#FFF").text(o+"%"),e.append("text").attr("transform","translate("+(n.width/3+15)+","+(n.height/2+9)+")").attr("fill","#CC6").text(this.z25Store.channels[this.props.o.product_id].rawData[0].Close),e.append("path").attr("d",Lo().type(rr).size(64)).attr("fill","#CC6").attr("transform","translate("+(n.width/3+5)+","+(n.height/2+5)+")"),this.props.o.side==="BUY"){const a=(this.props.o.order_configuration.limit_limit_gtc.limit_price-this.z25Store.channels[this.props.o.product_id].rawData[0].Close)/this.props.o.order_configuration.limit_limit_gtc.limit_price*100,s=parseInt(a*(100/this.half_domain));e.append("text").attr("transform","translate("+(n.width/3+15)+","+(n.height/2-s+9)+")").attr("fill","#5F5").text(parseFloat(this.props.o.order_configuration.limit_limit_gtc.limit_price).toFixed(4)),e.append("path").attr("d",Lo().type(rr).size(64)).attr("fill","#5F5").attr("transform","translate("+(n.width/3+5)+","+(n.height/2-s+5)+")")}else if(this.props.o.side==="SELL"){const a=(this.props.o.order_configuration.limit_limit_gtc.limit_price-this.z25Store.channels[this.props.o.product_id].rawData[0].Close)/this.props.o.order_configuration.limit_limit_gtc.limit_price*100,s=parseInt(a*(100/this.half_domain));e.append("text").attr("transform","translate("+(n.width/3+15)+","+(n.height/2-s+9)+")").attr("fill","#F55").text(parseFloat(this.props.o.order_configuration.limit_limit_gtc.limit_price).toFixed(4)),e.append("path").attr("d",Lo().type(rr).size(64)).attr("fill","#F55").attr("transform","translate("+(n.width/3+5)+","+(n.height/2-s+5)+")")}}catch{}this.running==!0&&(cancelAnimationFrame(this.interval),this.interval=requestAnimationFrame(()=>{this.render()}))}}}),mv={class:"flex flex-center",style:{backgroundColor:"#222"}},yv={class:"text-center"},_v=["id"];function bv(t,n,e,r,i,o){return mt(),Vt(na,null,[L(ti,{class:"hidden"},{default:Y(()=>[...n[8]||(n[8]=[z("ul",{style:{display:"table"}},[z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_buyB",class:"clickerB"},[z("div",{id:"clicker_buyL",class:"clickerL w3-xlarge"},"B")])]),z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_amtB",class:"clickerB"},[z("div",{id:"clicker_amtL",class:"clickerL w3-xlarge"},"2")])]),z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_typeB",class:"clickerB"},[z("div",{id:"clicker_typeL",class:"clickerL w3-xlarge"},"L")])]),z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_limitB",class:"clickerB"},[z("div",{id:"clicker_limitL",class:"clickerL w3-xlarge"},"0.1%")])]),z("li",{style:{display:"table-cell"}},[z("div",{id:"clicker_sellB",class:"clickerB"},[z("div",{id:"clicker_sellL",class:"clickerL w3-xlarge"},"S")])]),z("li",{style:{display:"table-cell"}},[z("div")])],-1)])]),_:1}),L(ti,{dense:"",flat:"",style:{backgroundColor:"grey"},class:"q-ma-xs ptr q-pa-xs"},{default:Y(()=>[z("div",mv,[z("table",yv,[z("tr",null,[z("td",null,[z("div",{id:`${t.props.o.product_id}-${t.props.o.id}`,style:{height:"225px",width:"100px",borderRadius:"5px"},class:"q-mx-xs q-my-xs"},null,8,_v),L(ct,{class:"absolute-top-left font-weight-bold",flat:"",dense:"",outline:"",onClick:n[0]||(n[0]=a=>this.runCB()),style:Dg({backgroundColor:t.channelColor,border:"1px solid grey",color:"navy",width:"50px"})},{default:Y(()=>[vt(Nt(t.o.product_id.split("-")[0])+" ",1),this.running&&t.o.side=="sell"?(mt(),_n(ki,{key:0,color:"red",rounded:"",floating:""})):tn("",!0),this.running&&t.o.side=="buy"?(mt(),_n(ki,{key:1,color:"green",rounded:"",floating:""})):tn("",!0)]),_:1},8,["style"]),L(ct,{flat:"","no-padding":"",class:"absolute-top-right",icon:"open_in_new",style:{color:"grey"},onClick:n[1]||(n[1]=a=>this.z25Store.togglePinned(t.o.product_id))})])]),z("tr",null,[this.running&&t.o.side=="BUY"?(mt(),_n($i,{key:0,style:{backgroundColor:"green"}},{default:Y(()=>[L(ct,{flat:"",dense:"",onClick:n[2]||(n[2]=a=>this.z25Store.cancelOrder(this.props.o.order_id)),icon:"cancel"}),L(ct,{flat:"",dense:"",onClick:n[3]||(n[3]=a=>this.incHalfDomain()),icon:"remove"}),L(ct,{flat:"",dense:"",onClick:n[4]||(n[4]=a=>this.decHalfDomain()),icon:"add"})]),_:1})):(mt(),_n($i,{key:1,style:{backgroundColor:"red"}},{default:Y(()=>[L(ct,{flat:"",dense:"",onClick:n[5]||(n[5]=a=>this.z25Store.cancelOrder(this.props.o.order_id)),icon:"cancel"}),L(ct,{flat:"",dense:"",onClick:n[6]||(n[6]=a=>this.incHalfDomain()),icon:"remove"}),L(ct,{flat:"",dense:"",onClick:n[7]||(n[7]=a=>this.decHalfDomain()),icon:"add"})]),_:1}))])])])]),_:1})],64)}const wv=Ii(gv,[["render",bv]]),vv=Fi({name:"OrdersComponent",components:{OrderComponent:wv},setup(){return{z25Store:Ri(),title:st("Title")}},mounted(){console.log("OrdersComponent mounted")},methods:{dummy(){console.log("dummy")}}}),Sv={class:"flex flex-center",style:{"background-color":"#222"}},xv={class:"flex flex-center","no-margin":"",style:{"background-color":"#222"}},$v={class:"full-width text-center"},Mv={style:{width:"80px"}},Tv={key:0},Cv={key:0},Dv={key:0},Uv={key:0},kv={key:0},Av={key:0};function Ev(t,n,e,r,i,o){const a=ea("OrderComponent");return mt(),_n(ti,{dense:"",flat:"",style:{backgroundColor:"grey"},class:"q-ma-xs q-pa-xs ptr"},{default:Y(()=>[z("div",Sv,[(mt(!0),Vt(na,null,eu(this.z25Store.orders,(s,u)=>(mt(),Vt("div",{key:u},[L(a,{o:s},null,8,["o"])]))),128))]),L(ka),z("div",xv,[z("table",$v,[n[0]||(n[0]=z("tr",{style:{"background-color":"#333"}},[z("th",null,"Curr"),z("th",null,"Side"),z("th",null,"Size"),z("th",null,"Price"),z("th",null,"Pnow"),z("th",null,"Value"),z("th",null,"Target"),z("th",null,"Progress")],-1)),(mt(!0),Vt(na,null,eu(this.z25Store.orders,(s,u)=>(mt(),Vt("tr",{key:u},[z("td",Mv,[L(ct,{flat:"",dense:"",onClick:c=>this.z25Store.cbxLink(s.product_id)},{default:Y(()=>[vt(Nt(s.product_id.split("-")[0]),1)]),_:2},1032,["onClick"])]),z("td",null,[s.side=="SELL"?(mt(),_n(ki,{key:0,color:"red",rounded:""})):tn("",!0),s.side=="BUY"?(mt(),_n(ki,{key:1,color:"green",rounded:""})):tn("",!0)]),z("td",null,[s.status=="OPEN"&&s.side=="SELL"?(mt(),Vt("span",Tv,Nt(parseFloat(s.order_configuration.limit_limit_gtc.base_size)),1)):tn("",!0)]),z("td",null,[s.status=="OPEN"&&s.side=="SELL"?(mt(),Vt("span",Cv,Nt(parseFloat(s.order_configuration.limit_limit_gtc.limit_price).toFixed(4)),1)):tn("",!0)]),z("td",null,[this.z25Store.channels[s.product_id]?(mt(),Vt("span",Dv,Nt(this.z25Store.channels[s.product_id].rawData[0].Close.toFixed(4)),1)):tn("",!0)]),z("td",null,[this.z25Store.channels[s.product_id]&&s.side=="SELL"&&s.status=="OPEN"?(mt(),Vt("span",Uv,Nt((parseFloat(s.order_configuration.limit_limit_gtc.base_size)*this.z25Store.channels[s.product_id].rawData[0].Close).toFixed(6)),1)):tn("",!0)]),z("td",null,[this.z25Store.channels[s.product_id]&&s.side=="SELL"&&s.status=="OPEN"?(mt(),Vt("span",kv,Nt((parseFloat(s.order_configuration.limit_limit_gtc.base_size)*parseFloat(s.order_configuration.limit_limit_gtc.limit_price)).toFixed(4)),1)):tn("",!0)]),z("td",null,[this.z25Store.channels[s.product_id]&&s.side=="SELL"&&s.status=="OPEN"?(mt(),Vt("span",Av,Nt(((s.order_configuration.limit_limit_gtc.limit_price-this.z25Store.channels[s.product_id].rawData[0].Close)/s.order_configuration.limit_limit_gtc.limit_price*100).toFixed(2))+"% ",1)):tn("",!0)])]))),128))])])]),_:1})}const Lv=Ii(vv,[["render",Ev]]),Nv=Fi({name:"IndexPage",components:{TypeA:dv,OrdersComponent:Lv},setup(){return{visible:st(!0),z25Store:Ri()}},mounted(){},methods:{fatOn(t){console.log("fatOn",t),this.z25Store.channels[t].fatLine=!0},fatOff(t){console.log("fatOff",t),this.z25Store.channels[t].fatLine=!1},toggleVisibility(t){this.z25Store.channels[t].hidden?this.z25Store.channels[t].hidden=!1:this.z25Store.channels[t].hidden=!0}}}),Ov={id:"ordersPanel",class:"hidden"};function Pv(t,n,e,r,i,o){const a=ea("TypeA"),s=ea("OrdersComponent");return mt(),_n(m1,null,{default:Y(()=>[L(vg,{style:{height:"94vh"}},{default:Y(()=>[L(a),z("div",Ov,[L(s)])]),_:1})]),_:1})}const zv=Ii(Nv,[["render",Pv]]);export{zv as default};
